var app=function(){"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function e(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach((function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})})),e}var r={};!function(t){var e=Object.prototype.hasOwnProperty,r=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}();t.arrayToObject=function(t,e){for(var r=e&&e.plainObjects?Object.create(null):{},n=0;n<t.length;++n)void 0!==t[n]&&(r[n]=t[n]);return r},t.merge=function(r,n,o){if(!n)return r;if("object"!=typeof n){if(Array.isArray(r))r.push(n);else{if("object"!=typeof r)return[r,n];(o.plainObjects||o.allowPrototypes||!e.call(Object.prototype,n))&&(r[n]=!0)}return r}if("object"!=typeof r)return[r].concat(n);var i=r;return Array.isArray(r)&&!Array.isArray(n)&&(i=t.arrayToObject(r,o)),Array.isArray(r)&&Array.isArray(n)?(n.forEach((function(n,i){e.call(r,i)?r[i]&&"object"==typeof r[i]?r[i]=t.merge(r[i],n,o):r.push(n):r[i]=n})),r):Object.keys(n).reduce((function(r,i){var a=n[i];return e.call(r,i)?r[i]=t.merge(r[i],a,o):r[i]=a,r}),i)},t.assign=function(t,e){return Object.keys(e).reduce((function(t,r){return t[r]=e[r],t}),t)},t.decode=function(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(e){return t}},t.encode=function(t){if(0===t.length)return t;for(var e="string"==typeof t?t:String(t),n="",o=0;o<e.length;++o){var i=e.charCodeAt(o);45===i||46===i||95===i||126===i||i>=48&&i<=57||i>=65&&i<=90||i>=97&&i<=122?n+=e.charAt(o):i<128?n+=r[i]:i<2048?n+=r[192|i>>6]+r[128|63&i]:i<55296||i>=57344?n+=r[224|i>>12]+r[128|i>>6&63]+r[128|63&i]:(o+=1,i=65536+((1023&i)<<10|1023&e.charCodeAt(o)),n+=r[240|i>>18]+r[128|i>>12&63]+r[128|i>>6&63]+r[128|63&i])}return n},t.compact=function(e,r){if("object"!=typeof e||null===e)return e;var n=r||[],o=n.indexOf(e);if(-1!==o)return n[o];if(n.push(e),Array.isArray(e)){for(var i=[],a=0;a<e.length;++a)e[a]&&"object"==typeof e[a]?i.push(t.compact(e[a],n)):void 0!==e[a]&&i.push(e[a]);return i}return Object.keys(e).forEach((function(r){e[r]=t.compact(e[r],n)})),e},t.isRegExp=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},t.isBuffer=function(t){return null!=t&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}}(r);var n=String.prototype.replace,o=/%20/g,i={default:"RFC3986",formatters:{RFC1738:function(t){return n.call(t,o,"+")},RFC3986:function(t){return t}},RFC1738:"RFC1738",RFC3986:"RFC3986"},a=r,u=i,c={brackets:function(t){return t+"[]"},indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},l=Date.prototype.toISOString,s={delimiter:"&",encode:!0,encoder:a.encode,encodeValuesOnly:!1,serializeDate:function(t){return l.call(t)},skipNulls:!1,strictNullHandling:!1},f=function t(e,r,n,o,i,u,c,l,f,h,p,d){var v=e;if("function"==typeof c)v=c(r,v);else if(v instanceof Date)v=h(v);else if(null===v){if(o)return u&&!d?u(r,s.encoder):r;v=""}if("string"==typeof v||"number"==typeof v||"boolean"==typeof v||a.isBuffer(v))return u?[p(d?r:u(r,s.encoder))+"="+p(u(v,s.encoder))]:[p(r)+"="+p(String(v))];var g,y=[];if(void 0===v)return y;if(Array.isArray(c))g=c;else{var m=Object.keys(v);g=l?m.sort(l):m}for(var b=0;b<g.length;++b){var _=g[b];i&&null===v[_]||(y=Array.isArray(v)?y.concat(t(v[_],n(r,_),n,o,i,u,c,l,f,h,p,d)):y.concat(t(v[_],r+(f?"."+_:"["+_+"]"),n,o,i,u,c,l,f,h,p,d)))}return y},h=r,p=Object.prototype.hasOwnProperty,d={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:h.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},v=function(t,e,r){if(!t.length)return e;var n,o=t.shift();if("[]"===o)n=(n=[]).concat(v(t,e,r));else{n=r.plainObjects?Object.create(null):{};var i="["===o.charAt(0)&&"]"===o.charAt(o.length-1)?o.slice(1,-1):o,a=parseInt(i,10);!isNaN(a)&&o!==i&&String(a)===i&&a>=0&&r.parseArrays&&a<=r.arrayLimit?(n=[])[a]=v(t,e,r):n[i]=v(t,e,r)}return n},g=function(t,e,r){if(t){var n=r.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,o=/(\[[^[\]]*])/g,i=/(\[[^[\]]*])/.exec(n),a=i?n.slice(0,i.index):n,u=[];if(a){if(!r.plainObjects&&p.call(Object.prototype,a)&&!r.allowPrototypes)return;u.push(a)}for(var c=0;null!==(i=o.exec(n))&&c<r.depth;){if(c+=1,!r.plainObjects&&p.call(Object.prototype,i[1].slice(1,-1))&&!r.allowPrototypes)return;u.push(i[1])}return i&&u.push("["+n.slice(i.index)+"]"),v(u,e,r)}},y={formats:i,parse:function(t,e){var r=e?h.assign({},e):{};if(null!==r.decoder&&void 0!==r.decoder&&"function"!=typeof r.decoder)throw new TypeError("Decoder has to be a function.");if(r.ignoreQueryPrefix=!0===r.ignoreQueryPrefix,r.delimiter="string"==typeof r.delimiter||h.isRegExp(r.delimiter)?r.delimiter:d.delimiter,r.depth="number"==typeof r.depth?r.depth:d.depth,r.arrayLimit="number"==typeof r.arrayLimit?r.arrayLimit:d.arrayLimit,r.parseArrays=!1!==r.parseArrays,r.decoder="function"==typeof r.decoder?r.decoder:d.decoder,r.allowDots="boolean"==typeof r.allowDots?r.allowDots:d.allowDots,r.plainObjects="boolean"==typeof r.plainObjects?r.plainObjects:d.plainObjects,r.allowPrototypes="boolean"==typeof r.allowPrototypes?r.allowPrototypes:d.allowPrototypes,r.parameterLimit="number"==typeof r.parameterLimit?r.parameterLimit:d.parameterLimit,r.strictNullHandling="boolean"==typeof r.strictNullHandling?r.strictNullHandling:d.strictNullHandling,""===t||null==t)return r.plainObjects?Object.create(null):{};for(var n="string"==typeof t?function(t,e){for(var r={},n=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,o=e.parameterLimit===1/0?void 0:e.parameterLimit,i=n.split(e.delimiter,o),a=0;a<i.length;++a){var u,c,l=i[a],s=l.indexOf("]="),f=-1===s?l.indexOf("="):s+1;-1===f?(u=e.decoder(l,d.decoder),c=e.strictNullHandling?null:""):(u=e.decoder(l.slice(0,f),d.decoder),c=e.decoder(l.slice(f+1),d.decoder)),p.call(r,u)?r[u]=[].concat(r[u]).concat(c):r[u]=c}return r}(t,r):t,o=r.plainObjects?Object.create(null):{},i=Object.keys(n),a=0;a<i.length;++a){var u=i[a],c=g(u,n[u],r);o=h.merge(o,c,r)}return h.compact(o)},stringify:function(t,e){var r=t,n=e?a.assign({},e):{};if(null!==n.encoder&&void 0!==n.encoder&&"function"!=typeof n.encoder)throw new TypeError("Encoder has to be a function.");var o=void 0===n.delimiter?s.delimiter:n.delimiter,i="boolean"==typeof n.strictNullHandling?n.strictNullHandling:s.strictNullHandling,l="boolean"==typeof n.skipNulls?n.skipNulls:s.skipNulls,h="boolean"==typeof n.encode?n.encode:s.encode,p="function"==typeof n.encoder?n.encoder:s.encoder,d="function"==typeof n.sort?n.sort:null,v=void 0!==n.allowDots&&n.allowDots,g="function"==typeof n.serializeDate?n.serializeDate:s.serializeDate,y="boolean"==typeof n.encodeValuesOnly?n.encodeValuesOnly:s.encodeValuesOnly;if(void 0===n.format)n.format=u.default;else if(!Object.prototype.hasOwnProperty.call(u.formatters,n.format))throw new TypeError("Unknown format option provided.");var m,b,_=u.formatters[n.format];"function"==typeof n.filter?r=(b=n.filter)("",r):Array.isArray(n.filter)&&(m=b=n.filter);var w,j=[];if("object"!=typeof r||null===r)return"";w=n.arrayFormat in c?n.arrayFormat:"indices"in n?n.indices?"indices":"repeat":"indices";var x=c[w];m||(m=Object.keys(r)),d&&m.sort(d);for(var A=0;A<m.length;++A){var O=m[A];l&&null===r[O]||(j=j.concat(f(r[O],O,x,i,l,h?p:null,b,d,v,g,_,y)))}var k=j.join(o),S=!0===n.addQueryPrefix?"?":"";return k.length>0?S+k:""}},m={exports:{}};!function(e,r){var n="__lodash_hash_undefined__",o=9007199254740991,i="[object Arguments]",a="[object Boolean]",u="[object Date]",c="[object Function]",l="[object GeneratorFunction]",s="[object Map]",f="[object Number]",h="[object Object]",p="[object Promise]",d="[object RegExp]",v="[object Set]",g="[object String]",y="[object Symbol]",m="[object WeakMap]",b="[object ArrayBuffer]",_="[object DataView]",w="[object Float32Array]",j="[object Float64Array]",x="[object Int8Array]",A="[object Int16Array]",O="[object Int32Array]",k="[object Uint8Array]",S="[object Uint8ClampedArray]",D="[object Uint16Array]",M="[object Uint32Array]",C=/\w*$/,E=/^\[object .+?Constructor\]$/,N=/^(?:0|[1-9]\d*)$/,R={};R[i]=R["[object Array]"]=R[b]=R[_]=R[a]=R[u]=R[w]=R[j]=R[x]=R[A]=R[O]=R[s]=R[f]=R[h]=R[d]=R[v]=R[g]=R[y]=R[k]=R[S]=R[D]=R[M]=!0,R["[object Error]"]=R[c]=R[m]=!1;var I="object"==typeof t&&t&&t.Object===Object&&t,P="object"==typeof self&&self&&self.Object===Object&&self,$=I||P||Function("return this")(),B=r&&!r.nodeType&&r,T=B&&e&&!e.nodeType&&e,L=T&&T.exports===B;function F(t,e){return t.set(e[0],e[1]),t}function z(t,e){return t.add(e),t}function q(t,e,r,n){var o=-1,i=t?t.length:0;for(n&&i&&(r=t[++o]);++o<i;)r=e(r,t[o],o,t);return r}function U(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function H(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}function V(t,e){return function(r){return t(e(r))}}function G(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}var X,K=Array.prototype,W=Function.prototype,Y=Object.prototype,Q=$["__core-js_shared__"],J=(X=/[^.]+$/.exec(Q&&Q.keys&&Q.keys.IE_PROTO||""))?"Symbol(src)_1."+X:"",Z=W.toString,tt=Y.hasOwnProperty,et=Y.toString,rt=RegExp("^"+Z.call(tt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),nt=L?$.Buffer:void 0,ot=$.Symbol,it=$.Uint8Array,at=V(Object.getPrototypeOf,Object),ut=Object.create,ct=Y.propertyIsEnumerable,lt=K.splice,st=Object.getOwnPropertySymbols,ft=nt?nt.isBuffer:void 0,ht=V(Object.keys,Object),pt=Tt($,"DataView"),dt=Tt($,"Map"),vt=Tt($,"Promise"),gt=Tt($,"Set"),yt=Tt($,"WeakMap"),mt=Tt(Object,"create"),bt=Ut(pt),_t=Ut(dt),wt=Ut(vt),jt=Ut(gt),xt=Ut(yt),At=ot?ot.prototype:void 0,Ot=At?At.valueOf:void 0;function kt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function St(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Dt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Mt(t){this.__data__=new St(t)}function Ct(t,e){var r=Vt(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&Gt(t)}(t)&&tt.call(t,"callee")&&(!ct.call(t,"callee")||et.call(t)==i)}(t)?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],n=r.length,o=!!n;for(var a in t)!e&&!tt.call(t,a)||o&&("length"==a||zt(a,n))||r.push(a);return r}function Et(t,e,r){var n=t[e];tt.call(t,e)&&Ht(n,r)&&(void 0!==r||e in t)||(t[e]=r)}function Nt(t,e){for(var r=t.length;r--;)if(Ht(t[r][0],e))return r;return-1}function Rt(t,e,r,n,o,p,m){var E;if(n&&(E=p?n(t,o,p,m):n(t)),void 0!==E)return E;if(!Wt(t))return t;var N=Vt(t);if(N){if(E=function(t){var e=t.length,r=t.constructor(e);e&&"string"==typeof t[0]&&tt.call(t,"index")&&(r.index=t.index,r.input=t.input);return r}(t),!e)return function(t,e){var r=-1,n=t.length;e||(e=Array(n));for(;++r<n;)e[r]=t[r];return e}(t,E)}else{var I=Ft(t),P=I==c||I==l;if(Xt(t))return function(t,e){if(e)return t.slice();var r=new t.constructor(t.length);return t.copy(r),r}(t,e);if(I==h||I==i||P&&!p){if(U(t))return p?t:{};if(E=function(t){return"function"!=typeof t.constructor||qt(t)?{}:(e=at(t),Wt(e)?ut(e):{});var e}(P?{}:t),!e)return function(t,e){return $t(t,Lt(t),e)}(t,function(t,e){return t&&$t(e,Yt(e),t)}(E,t))}else{if(!R[I])return p?t:{};E=function(t,e,r,n){var o=t.constructor;switch(e){case b:return Pt(t);case a:case u:return new o(+t);case _:return function(t,e){var r=e?Pt(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,n);case w:case j:case x:case A:case O:case k:case S:case D:case M:return function(t,e){var r=e?Pt(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}(t,n);case s:return function(t,e,r){return q(e?r(H(t),!0):H(t),F,new t.constructor)}(t,n,r);case f:case g:return new o(t);case d:return function(t){var e=new t.constructor(t.source,C.exec(t));return e.lastIndex=t.lastIndex,e}(t);case v:return function(t,e,r){return q(e?r(G(t),!0):G(t),z,new t.constructor)}(t,n,r);case y:return i=t,Ot?Object(Ot.call(i)):{}}var i}(t,I,Rt,e)}}m||(m=new Mt);var $=m.get(t);if($)return $;if(m.set(t,E),!N)var B=r?function(t){return function(t,e,r){var n=e(t);return Vt(t)?n:function(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}(n,r(t))}(t,Yt,Lt)}(t):Yt(t);return function(t,e){for(var r=-1,n=t?t.length:0;++r<n&&!1!==e(t[r],r,t););}(B||t,(function(o,i){B&&(o=t[i=o]),Et(E,i,Rt(o,e,r,n,i,t,m))})),E}function It(t){return!(!Wt(t)||(e=t,J&&J in e))&&(Kt(t)||U(t)?rt:E).test(Ut(t));var e}function Pt(t){var e=new t.constructor(t.byteLength);return new it(e).set(new it(t)),e}function $t(t,e,r,n){r||(r={});for(var o=-1,i=e.length;++o<i;){var a=e[o],u=n?n(r[a],t[a],a,r,t):void 0;Et(r,a,void 0===u?t[a]:u)}return r}function Bt(t,e){var r,n,o=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof e?"string":"hash"]:o.map}function Tt(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return It(r)?r:void 0}kt.prototype.clear=function(){this.__data__=mt?mt(null):{}},kt.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},kt.prototype.get=function(t){var e=this.__data__;if(mt){var r=e[t];return r===n?void 0:r}return tt.call(e,t)?e[t]:void 0},kt.prototype.has=function(t){var e=this.__data__;return mt?void 0!==e[t]:tt.call(e,t)},kt.prototype.set=function(t,e){return this.__data__[t]=mt&&void 0===e?n:e,this},St.prototype.clear=function(){this.__data__=[]},St.prototype.delete=function(t){var e=this.__data__,r=Nt(e,t);return!(r<0)&&(r==e.length-1?e.pop():lt.call(e,r,1),!0)},St.prototype.get=function(t){var e=this.__data__,r=Nt(e,t);return r<0?void 0:e[r][1]},St.prototype.has=function(t){return Nt(this.__data__,t)>-1},St.prototype.set=function(t,e){var r=this.__data__,n=Nt(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},Dt.prototype.clear=function(){this.__data__={hash:new kt,map:new(dt||St),string:new kt}},Dt.prototype.delete=function(t){return Bt(this,t).delete(t)},Dt.prototype.get=function(t){return Bt(this,t).get(t)},Dt.prototype.has=function(t){return Bt(this,t).has(t)},Dt.prototype.set=function(t,e){return Bt(this,t).set(t,e),this},Mt.prototype.clear=function(){this.__data__=new St},Mt.prototype.delete=function(t){return this.__data__.delete(t)},Mt.prototype.get=function(t){return this.__data__.get(t)},Mt.prototype.has=function(t){return this.__data__.has(t)},Mt.prototype.set=function(t,e){var r=this.__data__;if(r instanceof St){var n=r.__data__;if(!dt||n.length<199)return n.push([t,e]),this;r=this.__data__=new Dt(n)}return r.set(t,e),this};var Lt=st?V(st,Object):function(){return[]},Ft=function(t){return et.call(t)};function zt(t,e){return!!(e=null==e?o:e)&&("number"==typeof t||N.test(t))&&t>-1&&t%1==0&&t<e}function qt(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Y)}function Ut(t){if(null!=t){try{return Z.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Ht(t,e){return t===e||t!=t&&e!=e}(pt&&Ft(new pt(new ArrayBuffer(1)))!=_||dt&&Ft(new dt)!=s||vt&&Ft(vt.resolve())!=p||gt&&Ft(new gt)!=v||yt&&Ft(new yt)!=m)&&(Ft=function(t){var e=et.call(t),r=e==h?t.constructor:void 0,n=r?Ut(r):void 0;if(n)switch(n){case bt:return _;case _t:return s;case wt:return p;case jt:return v;case xt:return m}return e});var Vt=Array.isArray;function Gt(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=o}(t.length)&&!Kt(t)}var Xt=ft||function(){return!1};function Kt(t){var e=Wt(t)?et.call(t):"";return e==c||e==l}function Wt(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Yt(t){return Gt(t)?Ct(t):function(t){if(!qt(t))return ht(t);var e=[];for(var r in Object(t))tt.call(t,r)&&"constructor"!=r&&e.push(r);return e}(t)}e.exports=function(t){return Rt(t,!0,!0)}}(m,m.exports);var b=9007199254740991,_="[object Arguments]",w="[object Function]",j="[object GeneratorFunction]",x=/^(?:0|[1-9]\d*)$/;function A(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var O=Object.prototype,k=O.hasOwnProperty,S=O.toString,D=O.propertyIsEnumerable,M=Math.max;function C(t,e){var r=B(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&T(t)}(t)&&k.call(t,"callee")&&(!D.call(t,"callee")||S.call(t)==_)}(t)?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],n=r.length,o=!!n;for(var i in t)!e&&!k.call(t,i)||o&&("length"==i||P(i,n))||r.push(i);return r}function E(t,e,r,n){return void 0===t||$(t,O[r])&&!k.call(n,r)?e:t}function N(t,e,r){var n=t[e];k.call(t,e)&&$(n,r)&&(void 0!==r||e in t)||(t[e]=r)}function R(t){if(!L(t))return function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}(t);var e,r,n,o=(r=(e=t)&&e.constructor,n="function"==typeof r&&r.prototype||O,e===n),i=[];for(var a in t)("constructor"!=a||!o&&k.call(t,a))&&i.push(a);return i}function I(t,e){return e=M(void 0===e?t.length-1:e,0),function(){for(var r=arguments,n=-1,o=M(r.length-e,0),i=Array(o);++n<o;)i[n]=r[e+n];n=-1;for(var a=Array(e+1);++n<e;)a[n]=r[n];return a[e]=i,A(t,this,a)}}function P(t,e){return!!(e=null==e?b:e)&&("number"==typeof t||x.test(t))&&t>-1&&t%1==0&&t<e}function $(t,e){return t===e||t!=t&&e!=e}var B=Array.isArray;function T(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=b}(t.length)&&!function(t){var e=L(t)?S.call(t):"";return e==w||e==j}(t)}function L(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var F,z=(F=function(t,e,r,n){!function(t,e,r,n){r||(r={});for(var o=-1,i=e.length;++o<i;){var a=e[o],u=n?n(r[a],t[a],a,r,t):void 0;N(r,a,void 0===u?t[a]:u)}}(e,function(t){return T(t)?C(t,!0):R(t)}(e),t,n)},I((function(t,e){var r=-1,n=e.length,o=n>1?e[n-1]:void 0,i=n>2?e[2]:void 0;for(o=F.length>3&&"function"==typeof o?(n--,o):void 0,i&&function(t,e,r){if(!L(r))return!1;var n=typeof e;return!!("number"==n?T(r)&&P(e,r.length):"string"==n&&e in r)&&$(r[e],t)}(e[0],e[1],i)&&(o=n<3?void 0:o,n=1),t=Object(t);++r<n;){var a=e[r];a&&F(t,a,r,o)}return t}))),q=I((function(t){return t.push(void 0,E),A(z,void 0,t)}));var U=y,H=m.exports,V=q;var G=function(t){var e,r;return t&&(e=t.followRoute,r=t.windowObject),r.onhashchange=n,{addToRoute:function(t){var r=V(H(t),o());i(r),e(r)},overwriteRouteEntirely:function(t){i(t),e(t)},routeFromHash:n,unpackEncodedRoute:function(t){var r=U.parse(decodeURIComponent(t));i(r),e(r)}};function n(){e(o())}function o(){return U.parse(r.location.hash.slice(1))}function i(t){var e=r.location.protocol+"//"+r.location.host+r.location.pathname+"#"+U.stringify(t);r.history.pushState(null,null,e)}},X={exports:{}};X.exports={makeRequest:function(t,e){var r=t.json||"application/json"===t.mimeType,n=new XMLHttpRequest;if(n.open(t.method,t.url),t.mimeType&&n.setRequestHeader("content-type",t.mimeType),r&&n.setRequestHeader("accept","application/json"),"object"==typeof t.headers)for(var o in t.headers)n.setRequestHeader(o,t.headers[o]);t.binary&&(n.responseType="arraybuffer"),r&&"object"==typeof t.body&&(t.body=JSON.stringify(t.body));var i=null;n.onload=function(){clearTimeout(i),t.onData&&c();var o={statusCode:this.status,statusMessage:n.statusText,responseURL:n.responseURL,rawResponse:n.response,xhr:n};if(t.binary)e(null,o,n.response);else{var a=this.responseText;if(r)try{a=JSON.parse(a)}catch(t){o.jsonParseError=t}e(null,o,a)}};var a=0;function u(){n.abort(),clearTimeout(i),e()}function c(){n.responseText&&(t.onData(n.responseText.substr(a)),a=n.responseText.length)}return t.onData&&(n.onreadystatechange=function(){3===n.readyState&&c()}),n.onerror=function(){var t=new Error("There is a problem with the network.");t.name="XHR network error",e(t)},n.send(t.formData||t.body),t.timeLimit>0&&(i=setTimeout(u,t.timeLimit)),{url:t.url,cancelRequest:u}}}.makeRequest;var K="http://www.w3.org/1999/xhtml",W={svg:"http://www.w3.org/2000/svg",xhtml:K,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Y(t){var e=t+="",r=e.indexOf(":");return r>=0&&"xmlns"!==(e=t.slice(0,r))&&(t=t.slice(r+1)),W.hasOwnProperty(e)?{space:W[e],local:t}:t}function Q(t){return function(){var e=this.ownerDocument,r=this.namespaceURI;return r===K&&e.documentElement.namespaceURI===K?e.createElement(t):e.createElementNS(r,t)}}function J(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Z(t){var e=Y(t);return(e.local?J:Q)(e)}var tt=0;function et(){return new rt}function rt(){this._="@"+(++tt).toString(36)}rt.prototype=et.prototype={constructor:rt,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var nt=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var ot=document.documentElement;if(!ot.matches){var it=ot.webkitMatchesSelector||ot.msMatchesSelector||ot.mozMatchesSelector||ot.oMatchesSelector;nt=function(t){return function(){return it.call(this,t)}}}}var at=nt,ut={},ct=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(ut={mouseenter:"mouseover",mouseleave:"mouseout"}));function lt(t,e,r){return t=st(t,e,r),function(e){var r=e.relatedTarget;r&&(r===this||8&r.compareDocumentPosition(this))||t.call(this,e)}}function st(t,e,r){return function(n){var o=ct;ct=n;try{t.call(this,this.__data__,e,r)}finally{ct=o}}}function ft(t){return t.trim().split(/^|\s+/).map((function(t){var e="",r=t.indexOf(".");return r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),{type:t,name:e}}))}function ht(t){return function(){var e=this.__on;if(e){for(var r,n=0,o=-1,i=e.length;n<i;++n)r=e[n],t.type&&r.type!==t.type||r.name!==t.name?e[++o]=r:this.removeEventListener(r.type,r.listener,r.capture);++o?e.length=o:delete this.__on}}}function pt(t,e,r){var n=ut.hasOwnProperty(t.type)?lt:st;return function(o,i,a){var u,c=this.__on,l=n(e,i,a);if(c)for(var s=0,f=c.length;s<f;++s)if((u=c[s]).type===t.type&&u.name===t.name)return this.removeEventListener(u.type,u.listener,u.capture),this.addEventListener(u.type,u.listener=l,u.capture=r),void(u.value=e);this.addEventListener(t.type,l,r),u={type:t.type,name:t.name,value:e,listener:l,capture:r},c?c.push(u):this.__on=[u]}}function dt(){for(var t,e=ct;t=e.sourceEvent;)e=t;return e}function vt(t,e){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var n=r.createSVGPoint();return n.x=e.clientX,n.y=e.clientY,[(n=n.matrixTransform(t.getScreenCTM().inverse())).x,n.y]}var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}function gt(){}function yt(t){return null==t?gt:function(){return this.querySelector(t)}}function mt(){return[]}function bt(t){return null==t?mt:function(){return this.querySelectorAll(t)}}function _t(t){return new Array(t.length)}function wt(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}wt.prototype={constructor:wt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function jt(t,e,r,n,o,i){for(var a,u=0,c=e.length,l=i.length;u<l;++u)(a=e[u])?(a.__data__=i[u],n[u]=a):r[u]=new wt(t,i[u]);for(;u<c;++u)(a=e[u])&&(o[u]=a)}function xt(t,e,r,n,o,i,a){var u,c,l,s={},f=e.length,h=i.length,p=new Array(f);for(u=0;u<f;++u)(c=e[u])&&(p[u]=l="$"+a.call(c,c.__data__,u,e),l in s?o[u]=c:s[l]=c);for(u=0;u<h;++u)(c=s[l="$"+a.call(t,i[u],u,i)])?(n[u]=c,c.__data__=i[u],s[l]=null):r[u]=new wt(t,i[u]);for(u=0;u<f;++u)(c=e[u])&&s[p[u]]===c&&(o[u]=c)}function At(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Ot(t){return function(){this.removeAttribute(t)}}function kt(t){return function(){this.removeAttributeNS(t.space,t.local)}}function St(t,e){return function(){this.setAttribute(t,e)}}function Dt(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Mt(t,e){return function(){var r=e.apply(this,arguments);null==r?this.removeAttribute(t):this.setAttribute(t,r)}}function Ct(t,e){return function(){var r=e.apply(this,arguments);null==r?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,r)}}function Et(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Nt(t){return function(){this.style.removeProperty(t)}}function Rt(t,e,r){return function(){this.style.setProperty(t,e,r)}}function It(t,e,r){return function(){var n=e.apply(this,arguments);null==n?this.style.removeProperty(t):this.style.setProperty(t,n,r)}}function Pt(t,e){return t.style.getPropertyValue(e)||Et(t).getComputedStyle(t,null).getPropertyValue(e)}function $t(t){return function(){delete this[t]}}function Bt(t,e){return function(){this[t]=e}}function Tt(t,e){return function(){var r=e.apply(this,arguments);null==r?delete this[t]:this[t]=r}}function Lt(t){return t.trim().split(/^|\s+/)}function Ft(t){return t.classList||new zt(t)}function zt(t){this._node=t,this._names=Lt(t.getAttribute("class")||"")}function qt(t,e){for(var r=Ft(t),n=-1,o=e.length;++n<o;)r.add(e[n])}function Ut(t,e){for(var r=Ft(t),n=-1,o=e.length;++n<o;)r.remove(e[n])}function Ht(t){return function(){qt(this,t)}}function Vt(t){return function(){Ut(this,t)}}function Gt(t,e){return function(){(e.apply(this,arguments)?qt:Ut)(this,t)}}function Xt(){this.textContent=""}function Kt(t){return function(){this.textContent=t}}function Wt(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function Yt(){this.innerHTML=""}function Qt(t){return function(){this.innerHTML=t}}function Jt(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function Zt(){this.nextSibling&&this.parentNode.appendChild(this)}function te(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ee(){return null}function re(){var t=this.parentNode;t&&t.removeChild(this)}function ne(t,e,r){var n=Et(t),o=n.CustomEvent;"function"==typeof o?o=new o(e,r):(o=n.document.createEvent("Event"),r?(o.initEvent(e,r.bubbles,r.cancelable),o.detail=r.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function oe(t,e){return function(){return ne(this,t,e)}}function ie(t,e){return function(){return ne(this,t,e.apply(this,arguments))}}zt.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var ae=[null];function ue(t,e){this._groups=t,this._parents=e}function ce(){return new ue([[document.documentElement]],ae)}ue.prototype=ce.prototype={constructor:ue,select:function(t){"function"!=typeof t&&(t=yt(t));for(var e=this._groups,r=e.length,n=new Array(r),o=0;o<r;++o)for(var i,a,u=e[o],c=u.length,l=n[o]=new Array(c),s=0;s<c;++s)(i=u[s])&&(a=t.call(i,i.__data__,s,u))&&("__data__"in i&&(a.__data__=i.__data__),l[s]=a);return new ue(n,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=bt(t));for(var e=this._groups,r=e.length,n=[],o=[],i=0;i<r;++i)for(var a,u=e[i],c=u.length,l=0;l<c;++l)(a=u[l])&&(n.push(t.call(a,a.__data__,l,u)),o.push(a));return new ue(n,o)},filter:function(t){"function"!=typeof t&&(t=at(t));for(var e=this._groups,r=e.length,n=new Array(r),o=0;o<r;++o)for(var i,a=e[o],u=a.length,c=n[o]=[],l=0;l<u;++l)(i=a[l])&&t.call(i,i.__data__,l,a)&&c.push(i);return new ue(n,this._parents)},data:function(t,e){if(!t)return d=new Array(this.size()),s=-1,this.each((function(t){d[++s]=t})),d;var r,n=e?xt:jt,o=this._parents,i=this._groups;"function"!=typeof t&&(r=t,t=function(){return r});for(var a=i.length,u=new Array(a),c=new Array(a),l=new Array(a),s=0;s<a;++s){var f=o[s],h=i[s],p=h.length,d=t.call(f,f&&f.__data__,s,o),v=d.length,g=c[s]=new Array(v),y=u[s]=new Array(v);n(f,h,g,y,l[s]=new Array(p),d,e);for(var m,b,_=0,w=0;_<v;++_)if(m=g[_]){for(_>=w&&(w=_+1);!(b=y[w])&&++w<v;);m._next=b||null}}return(u=new ue(u,o))._enter=c,u._exit=l,u},enter:function(){return new ue(this._enter||this._groups.map(_t),this._parents)},exit:function(){return new ue(this._exit||this._groups.map(_t),this._parents)},merge:function(t){for(var e=this._groups,r=t._groups,n=e.length,o=r.length,i=Math.min(n,o),a=new Array(n),u=0;u<i;++u)for(var c,l=e[u],s=r[u],f=l.length,h=a[u]=new Array(f),p=0;p<f;++p)(c=l[p]||s[p])&&(h[p]=c);for(;u<n;++u)a[u]=e[u];return new ue(a,this._parents)},order:function(){for(var t=this._groups,e=-1,r=t.length;++e<r;)for(var n,o=t[e],i=o.length-1,a=o[i];--i>=0;)(n=o[i])&&(a&&a!==n.nextSibling&&a.parentNode.insertBefore(n,a),a=n);return this},sort:function(t){function e(e,r){return e&&r?t(e.__data__,r.__data__):!e-!r}t||(t=At);for(var r=this._groups,n=r.length,o=new Array(n),i=0;i<n;++i){for(var a,u=r[i],c=u.length,l=o[i]=new Array(c),s=0;s<c;++s)(a=u[s])&&(l[s]=a);l.sort(e)}return new ue(o,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},node:function(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var n=t[e],o=0,i=n.length;o<i;++o){var a=n[o];if(a)return a}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,r=0,n=e.length;r<n;++r)for(var o,i=e[r],a=0,u=i.length;a<u;++a)(o=i[a])&&t.call(o,o.__data__,a,i);return this},attr:function(t,e){var r=Y(t);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((null==e?r.local?kt:Ot:"function"==typeof e?r.local?Ct:Mt:r.local?Dt:St)(r,e))},style:function(t,e,r){return arguments.length>1?this.each((null==e?Nt:"function"==typeof e?It:Rt)(t,e,null==r?"":r)):Pt(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?$t:"function"==typeof e?Tt:Bt)(t,e)):this.node()[t]},classed:function(t,e){var r=Lt(t+"");if(arguments.length<2){for(var n=Ft(this.node()),o=-1,i=r.length;++o<i;)if(!n.contains(r[o]))return!1;return!0}return this.each(("function"==typeof e?Gt:e?Ht:Vt)(r,e))},text:function(t){return arguments.length?this.each(null==t?Xt:("function"==typeof t?Wt:Kt)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Yt:("function"==typeof t?Jt:Qt)(t)):this.node().innerHTML},raise:function(){return this.each(Zt)},lower:function(){return this.each(te)},append:function(t){var e="function"==typeof t?t:Z(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var r="function"==typeof t?t:Z(t),n=null==e?ee:"function"==typeof e?e:yt(e);return this.select((function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)}))},remove:function(){return this.each(re)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,r){var n,o,i=ft(t+""),a=i.length;if(!(arguments.length<2)){for(u=e?pt:ht,null==r&&(r=!1),n=0;n<a;++n)this.each(u(i[n],e,r));return this}var u=this.node().__on;if(u)for(var c,l=0,s=u.length;l<s;++l)for(n=0,c=u[l];n<a;++n)if((o=i[n]).type===c.type&&o.name===c.name)return c.value},dispatch:function(t,e){return this.each(("function"==typeof e?ie:oe)(t,e))}};var le=e(Object.freeze({__proto__:null,creator:Z,local:et,matcher:at,mouse:function(t){var e=dt();return e.changedTouches&&(e=e.changedTouches[0]),vt(t,e)},namespace:Y,namespaces:W,select:function(t){return"string"==typeof t?new ue([[document.querySelector(t)]],[document.documentElement]):new ue([[t]],ae)},selectAll:function(t){return"string"==typeof t?new ue([document.querySelectorAll(t)],[document.documentElement]):new ue([null==t?[]:t],ae)},selection:ce,selector:yt,selectorAll:bt,style:Pt,touch:function(t,e,r){arguments.length<3&&(r=e,e=dt().changedTouches);for(var n,o=0,i=e?e.length:0;o<i;++o)if((n=e[o]).identifier===r)return vt(t,n);return null},touches:function(t,e){null==e&&(e=dt().touches);for(var r=0,n=e?e.length:0,o=new Array(n);r<n;++r)o[r]=vt(t,e[r]);return o},window:Et,get event(){return ct},customEvent:function(t,e,r,n){var o=ct;t.sourceEvent=ct,ct=t;try{return e.apply(r,n)}finally{ct=o}}}));var se=function(t,e){var r=t;if(e.every((function(t){return r=r[t]}),!0))return r};function fe(t){return t}var he=function(t,e){var r="id";if(t){if("identity"===t)return fe;r="string"==typeof t?t:"object"==typeof t&&"string"==typeof t.path?t.path.split("/"):""+t}return function(t,e){return r;function r(r){if("object"==typeof r){var o=n(r,t);return void 0===o?e:o}return e}function n(t,e){return"string"==typeof e?t[e]:Array.isArray(e)?se(t,e):void 0}}(r,e)};var pe=function(t,e){return function(r){return r&&r[t]?r[t]:e}},de=he;function ve(t){var e=new Date(t);return e.toLocaleDateString()+", "+e.toLocaleTimeString()}var ge=function({parent:t,deed:e,project:r,user:n}){var o=t.select(".project-details"),i=o.select(".name-link"),a=o.select(".date.started"),u=o.select(".date.last-active"),c=o.select(".description"),l=o.select(".link-list"),s=t.select(".deed-details"),f=s.select(".name"),h=s.select(".date-link");i.text(r.name),i.attr("href",function(t,e){return`https://github.com/${t}/${e.name}`}(n,r)),r.startDate&&a.text(ve(r.startDate)),r.lastActiveDate&&u.text(ve(r.lastActiveDate));var p=r.links||[];r.metalinks&&(p=p.concat(r.metalinks)),function(t){var e=l.selectAll("li").data(t);e.exit().remove();var r=e.enter().append("li");r.append("a").attr("target","_blank"),r.merge(e).select("a").attr("href",de("0")).text(de("1"))}(p),c.text(r.description),s.classed("hidden",!e),e&&(f.text(e.message),h.text(ve(e.committedDate)),h.attr("href",function(t,e,r){return`https://github.com/${t}/${e.name}/commit/${r.abbreviatedOid}`}(n,r,e)))};function ye(t){var e=0;return"featured"===t.featuredStatus&&(e+=1e5),isNaN(t.importance)||(e+=10*t.importance),e}var me={compareLastUpdatedDesc:function(t,e){return new Date(t.pushedAt)>new Date(e.pushedAt)?-1:1},compareActivityGroupStartDateDesc:function(t,e){return new Date(t.startDate)>new Date(e.startDate)?-1:1},compareActivityGroupStartDateAsc:function(t,e){return t.startDate?e.startDate?new Date(t.startDate)<new Date(e.startDate)?-1:1:(console.log(e.name,"has no startDate"),1):(console.log(t.name,"has no startDate"),1)},compareDesc:function(t,e){return t<e?1:-1},compareDescWithSortKey:function(t,e,r){return e[t]<r[t]?1:-1},compareByDeedCountAsc:function(t,e){return t.deeds&&e.deeds&&t.deeds.length<e.deeds.length?-1:1},compareDescForPolyptych:function(t,e){const r=ye(t),n=ye(e);return r===n?t.shippedDate<e.shippedDate?1:-1:r>n?-1:1}},be=le,_e=he,we=pe,je=ge,xe=me;var Ae=_e(),Oe=_e("message"),ke=be.select("#basic-project-list"),Se=we("deeds",[]);function De(){var t=be.select(function(t){var e=t;for(;!e.classList.contains("project")&&e.parentNode;)e=e.parentNode;return e}(this)).select(".deeds-root");t.classed("hidden",!t.classed("hidden"))}var Me=function({user:t}){return function({projectData:r}){r.sort(xe.compareLastUpdatedDesc);var n=ke.selectAll(".project").data(r,_e());n.exit().remove();var o=n.enter().append("li").classed("project",!0);o.append("div").classed("project-description",!0).on("click",De).html('<div class="project-details">\n      <a class="name-link" target="_blank"></a>\n      <div>Last updated: <span class="date last-active"></span></div>\n      <div class="description"></div>\n      <div class="show-deeds">Deeds</div>\n    </div>\n  </div>\n'),o.append("ul").classed("deeds-root",!0).classed("hidden",!0);var i=o.merge(n);i.each((function(e){je({parent:be.select(this).select(".project-description"),project:e,user:t})}));var a=i.select(".deeds-root").selectAll(".deed").data(Se,Ae),u=a.enter().append("li").classed("deed",!0);u.append("a").classed("deed-name",!0).attr("href",e).attr("target","_blank"),u.merge(a).select(".deed-name").text(Oe)};function e(e){return`https://github.com/${t}/${e.projectName}/commit/${e.abbreviatedOid}`}};function Ce(t,e){return t.parent===e.parent?1:2}function Ee(t,e){return t+e.x}function Ne(t,e){return Math.max(t,e.y)}function Re(t){var e=0,r=t.children,n=r&&r.length;if(n)for(;--n>=0;)e+=r[n].value;else e=1;t.value=e}function Ie(t,e){var r,n,o,i,a,u=new Te(t),c=+t.value&&(u.value=t.value),l=[u];for(null==e&&(e=Pe);r=l.pop();)if(c&&(r.value=+r.data.value),(o=e(r.data))&&(a=o.length))for(r.children=new Array(a),i=a-1;i>=0;--i)l.push(n=r.children[i]=new Te(o[i])),n.parent=r,n.depth=r.depth+1;return u.eachBefore(Be)}function Pe(t){return t.children}function $e(t){t.data=t.data.data}function Be(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function Te(t){this.data=t,this.depth=this.height=0,this.parent=null}Te.prototype=Ie.prototype={constructor:Te,count:function(){return this.eachAfter(Re)},each:function(t){var e,r,n,o,i=this,a=[i];do{for(e=a.reverse(),a=[];i=e.pop();)if(t(i),r=i.children)for(n=0,o=r.length;n<o;++n)a.push(r[n])}while(a.length);return this},eachAfter:function(t){for(var e,r,n,o=this,i=[o],a=[];o=i.pop();)if(a.push(o),e=o.children)for(r=0,n=e.length;r<n;++r)i.push(e[r]);for(;o=a.pop();)t(o);return this},eachBefore:function(t){for(var e,r,n=this,o=[n];n=o.pop();)if(t(n),e=n.children)for(r=e.length-1;r>=0;--r)o.push(e[r]);return this},sum:function(t){return this.eachAfter((function(e){for(var r=+t(e.data)||0,n=e.children,o=n&&n.length;--o>=0;)r+=n[o].value;e.value=r}))},sort:function(t){return this.eachBefore((function(e){e.children&&e.children.sort(t)}))},path:function(t){for(var e=this,r=function(t,e){if(t===e)return t;var r=t.ancestors(),n=e.ancestors(),o=null;t=r.pop(),e=n.pop();for(;t===e;)o=t,t=r.pop(),e=n.pop();return o}(e,t),n=[e];e!==r;)e=e.parent,n.push(e);for(var o=n.length;t!==r;)n.splice(o,0,t),t=t.parent;return n},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){var t=[];return this.each((function(e){t.push(e)})),t},leaves:function(){var t=[];return this.eachBefore((function(e){e.children||t.push(e)})),t},links:function(){var t=this,e=[];return t.each((function(r){r!==t&&e.push({source:r.parent,target:r})})),e},copy:function(){return Ie(this).eachBefore($e)}};var Le=Array.prototype.slice;function Fe(t){for(var e,r,n=0,o=(t=function(t){for(var e,r,n=t.length;n;)r=Math.random()*n--|0,e=t[n],t[n]=t[r],t[r]=e;return t}(Le.call(t))).length,i=[];n<o;)e=t[n],r&&Ue(r,e)?++n:(r=Ve(i=ze(i,e)),n=0);return r}function ze(t,e){var r,n;if(He(e,t))return[e];for(r=0;r<t.length;++r)if(qe(e,t[r])&&He(Ge(t[r],e),t))return[t[r],e];for(r=0;r<t.length-1;++r)for(n=r+1;n<t.length;++n)if(qe(Ge(t[r],t[n]),e)&&qe(Ge(t[r],e),t[n])&&qe(Ge(t[n],e),t[r])&&He(Xe(t[r],t[n],e),t))return[t[r],t[n],e];throw new Error}function qe(t,e){var r=t.r-e.r,n=e.x-t.x,o=e.y-t.y;return r<0||r*r<n*n+o*o}function Ue(t,e){var r=t.r-e.r+1e-6,n=e.x-t.x,o=e.y-t.y;return r>0&&r*r>n*n+o*o}function He(t,e){for(var r=0;r<e.length;++r)if(!Ue(t,e[r]))return!1;return!0}function Ve(t){switch(t.length){case 1:return{x:(e=t[0]).x,y:e.y,r:e.r};case 2:return Ge(t[0],t[1]);case 3:return Xe(t[0],t[1],t[2])}var e}function Ge(t,e){var r=t.x,n=t.y,o=t.r,i=e.x,a=e.y,u=e.r,c=i-r,l=a-n,s=u-o,f=Math.sqrt(c*c+l*l);return{x:(r+i+c/f*s)/2,y:(n+a+l/f*s)/2,r:(f+o+u)/2}}function Xe(t,e,r){var n=t.x,o=t.y,i=t.r,a=e.x,u=e.y,c=e.r,l=r.x,s=r.y,f=r.r,h=n-a,p=n-l,d=o-u,v=o-s,g=c-i,y=f-i,m=n*n+o*o-i*i,b=m-a*a-u*u+c*c,_=m-l*l-s*s+f*f,w=p*d-h*v,j=(d*_-v*b)/(2*w)-n,x=(v*g-d*y)/w,A=(p*b-h*_)/(2*w)-o,O=(h*y-p*g)/w,k=x*x+O*O-1,S=2*(i+j*x+A*O),D=j*j+A*A-i*i,M=-(k?(S+Math.sqrt(S*S-4*k*D))/(2*k):D/S);return{x:n+j+x*M,y:o+A+O*M,r:M}}function Ke(t,e,r){var n=t.x,o=t.y,i=e.r+r.r,a=t.r+r.r,u=e.x-n,c=e.y-o,l=u*u+c*c;if(l){var s=.5+((a*=a)-(i*=i))/(2*l),f=Math.sqrt(Math.max(0,2*i*(a+l)-(a-=l)*a-i*i))/(2*l);r.x=n+s*u+f*c,r.y=o+s*c-f*u}else r.x=n+a,r.y=o}function We(t,e){var r=e.x-t.x,n=e.y-t.y,o=t.r+e.r;return o*o-1e-6>r*r+n*n}function Ye(t){var e=t._,r=t.next._,n=e.r+r.r,o=(e.x*r.r+r.x*e.r)/n,i=(e.y*r.r+r.y*e.r)/n;return o*o+i*i}function Qe(t){this._=t,this.next=null,this.previous=null}function Je(t){if(!(o=t.length))return 0;var e,r,n,o,i,a,u,c,l,s,f;if((e=t[0]).x=0,e.y=0,!(o>1))return e.r;if(r=t[1],e.x=-r.r,r.x=e.r,r.y=0,!(o>2))return e.r+r.r;Ke(r,e,n=t[2]),e=new Qe(e),r=new Qe(r),n=new Qe(n),e.next=n.previous=r,r.next=e.previous=n,n.next=r.previous=e;t:for(u=3;u<o;++u){Ke(e._,r._,n=t[u]),n=new Qe(n),c=r.next,l=e.previous,s=r._.r,f=e._.r;do{if(s<=f){if(We(c._,n._)){r=c,e.next=r,r.previous=e,--u;continue t}s+=c._.r,c=c.next}else{if(We(l._,n._)){(e=l).next=r,r.previous=e,--u;continue t}f+=l._.r,l=l.previous}}while(c!==l.next);for(n.previous=e,n.next=r,e.next=r.previous=r=n,i=Ye(e);(n=n.next)!==r;)(a=Ye(n))<i&&(e=n,i=a);r=e.next}for(e=[r._],n=r;(n=n.next)!==r;)e.push(n._);for(n=Fe(e),u=0;u<o;++u)(e=t[u]).x-=n.x,e.y-=n.y;return n.r}function Ze(t){return null==t?null:tr(t)}function tr(t){if("function"!=typeof t)throw new Error;return t}function er(){return 0}function rr(t){return function(){return t}}function nr(t){return Math.sqrt(t.value)}function or(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function ir(t,e){return function(r){if(n=r.children){var n,o,i,a=n.length,u=t(r)*e||0;if(u)for(o=0;o<a;++o)n[o].r+=u;if(i=Je(n),u)for(o=0;o<a;++o)n[o].r-=u;r.r=i+u}}}function ar(t){return function(e){var r=e.parent;e.r*=t,r&&(e.x=r.x+t*e.x,e.y=r.y+t*e.y)}}function ur(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function cr(t,e,r,n,o){for(var i,a=t.children,u=-1,c=a.length,l=t.value&&(n-e)/t.value;++u<c;)(i=a[u]).y0=r,i.y1=o,i.x0=e,i.x1=e+=i.value*l}var lr={depth:-1},sr={};function fr(t){return t.id}function hr(t){return t.parentId}function pr(t,e){return t.parent===e.parent?1:2}function dr(t){var e=t.children;return e?e[0]:t.t}function vr(t){var e=t.children;return e?e[e.length-1]:t.t}function gr(t,e,r){var n=r/(e.i-t.i);e.c-=n,e.s+=r,t.c+=n,e.z+=r,e.m+=r}function yr(t,e,r){return t.a.parent===e.parent?t.a:r}function mr(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function br(t,e,r,n,o){for(var i,a=t.children,u=-1,c=a.length,l=t.value&&(o-r)/t.value;++u<c;)(i=a[u]).x0=e,i.x1=n,i.y0=r,i.y1=r+=i.value*l}mr.prototype=Object.create(Te.prototype);var _r=(1+Math.sqrt(5))/2;function wr(t,e,r,n,o,i){for(var a,u,c,l,s,f,h,p,d,v,g,y=[],m=e.children,b=0,_=0,w=m.length,j=e.value;b<w;){c=o-r,l=i-n;do{s=m[_++].value}while(!s&&_<w);for(f=h=s,g=s*s*(v=Math.max(l/c,c/l)/(j*t)),d=Math.max(h/g,g/f);_<w;++_){if(s+=u=m[_].value,u<f&&(f=u),u>h&&(h=u),g=s*s*v,(p=Math.max(h/g,g/f))>d){s-=u;break}d=p}y.push(a={value:s,dice:c<l,children:m.slice(b,_)}),a.dice?cr(a,r,n,o,j?n+=l*s/j:i):br(a,r,n,j?r+=c*s/j:o,i),j-=s,b=_}return y}var jr=function t(e){function r(t,r,n,o,i){wr(e,t,r,n,o,i)}return r.ratio=function(e){return t((e=+e)>1?e:1)},r}(_r);var xr=function t(e){function r(t,r,n,o,i){if((a=t._squarify)&&a.ratio===e)for(var a,u,c,l,s,f=-1,h=a.length,p=t.value;++f<h;){for(c=(u=a[f]).children,l=u.value=0,s=c.length;l<s;++l)u.value+=c[l].value;u.dice?cr(u,r,n,o,n+=(i-n)*u.value/p):br(u,r,n,r+=(o-r)*u.value/p,i),p-=u.value}else t._squarify=a=wr(e,t,r,n,o,i),a.ratio=e}return r.ratio=function(e){return t((e=+e)>1?e:1)},r}(_r),Ar=e(Object.freeze({__proto__:null,cluster:function(){var t=Ce,e=1,r=1,n=!1;function o(o){var i,a=0;o.eachAfter((function(e){var r=e.children;r?(e.x=function(t){return t.reduce(Ee,0)/t.length}(r),e.y=function(t){return 1+t.reduce(Ne,0)}(r)):(e.x=i?a+=t(e,i):0,e.y=0,i=e)}));var u=function(t){for(var e;e=t.children;)t=e[0];return t}(o),c=function(t){for(var e;e=t.children;)t=e[e.length-1];return t}(o),l=u.x-t(u,c)/2,s=c.x+t(c,u)/2;return o.eachAfter(n?function(t){t.x=(t.x-o.x)*e,t.y=(o.y-t.y)*r}:function(t){t.x=(t.x-l)/(s-l)*e,t.y=(1-(o.y?t.y/o.y:1))*r})}return o.separation=function(e){return arguments.length?(t=e,o):t},o.size=function(t){return arguments.length?(n=!1,e=+t[0],r=+t[1],o):n?null:[e,r]},o.nodeSize=function(t){return arguments.length?(n=!0,e=+t[0],r=+t[1],o):n?[e,r]:null},o},hierarchy:Ie,pack:function(){var t=null,e=1,r=1,n=er;function o(o){return o.x=e/2,o.y=r/2,t?o.eachBefore(or(t)).eachAfter(ir(n,.5)).eachBefore(ar(1)):o.eachBefore(or(nr)).eachAfter(ir(er,1)).eachAfter(ir(n,o.r/Math.min(e,r))).eachBefore(ar(Math.min(e,r)/(2*o.r))),o}return o.radius=function(e){return arguments.length?(t=Ze(e),o):t},o.size=function(t){return arguments.length?(e=+t[0],r=+t[1],o):[e,r]},o.padding=function(t){return arguments.length?(n="function"==typeof t?t:rr(+t),o):n},o},packSiblings:function(t){return Je(t),t},packEnclose:Fe,partition:function(){var t=1,e=1,r=0,n=!1;function o(o){var i=o.height+1;return o.x0=o.y0=r,o.x1=t,o.y1=e/i,o.eachBefore(function(t,e){return function(n){n.children&&cr(n,n.x0,t*(n.depth+1)/e,n.x1,t*(n.depth+2)/e);var o=n.x0,i=n.y0,a=n.x1-r,u=n.y1-r;a<o&&(o=a=(o+a)/2),u<i&&(i=u=(i+u)/2),n.x0=o,n.y0=i,n.x1=a,n.y1=u}}(e,i)),n&&o.eachBefore(ur),o}return o.round=function(t){return arguments.length?(n=!!t,o):n},o.size=function(r){return arguments.length?(t=+r[0],e=+r[1],o):[t,e]},o.padding=function(t){return arguments.length?(r=+t,o):r},o},stratify:function(){var t=fr,e=hr;function r(r){var n,o,i,a,u,c,l,s=r.length,f=new Array(s),h={};for(o=0;o<s;++o)n=r[o],u=f[o]=new Te(n),null!=(c=t(n,o,r))&&(c+="")&&(h[l="$"+(u.id=c)]=l in h?sr:u);for(o=0;o<s;++o)if(u=f[o],null!=(c=e(r[o],o,r))&&(c+="")){if(!(a=h["$"+c]))throw new Error("missing: "+c);if(a===sr)throw new Error("ambiguous: "+c);a.children?a.children.push(u):a.children=[u],u.parent=a}else{if(i)throw new Error("multiple roots");i=u}if(!i)throw new Error("no root");if(i.parent=lr,i.eachBefore((function(t){t.depth=t.parent.depth+1,--s})).eachBefore(Be),i.parent=null,s>0)throw new Error("cycle");return i}return r.id=function(e){return arguments.length?(t=tr(e),r):t},r.parentId=function(t){return arguments.length?(e=tr(t),r):e},r},tree:function(){var t=pr,e=1,r=1,n=null;function o(o){var c=function(t){for(var e,r,n,o,i,a=new mr(t,0),u=[a];e=u.pop();)if(n=e._.children)for(e.children=new Array(i=n.length),o=i-1;o>=0;--o)u.push(r=e.children[o]=new mr(n[o],o)),r.parent=e;return(a.parent=new mr(null,0)).children=[a],a}(o);if(c.eachAfter(i),c.parent.m=-c.z,c.eachBefore(a),n)o.eachBefore(u);else{var l=o,s=o,f=o;o.eachBefore((function(t){t.x<l.x&&(l=t),t.x>s.x&&(s=t),t.depth>f.depth&&(f=t)}));var h=l===s?1:t(l,s)/2,p=h-l.x,d=e/(s.x+h+p),v=r/(f.depth||1);o.eachBefore((function(t){t.x=(t.x+p)*d,t.y=t.depth*v}))}return o}function i(e){var r=e.children,n=e.parent.children,o=e.i?n[e.i-1]:null;if(r){!function(t){for(var e,r=0,n=0,o=t.children,i=o.length;--i>=0;)(e=o[i]).z+=r,e.m+=r,r+=e.s+(n+=e.c)}(e);var i=(r[0].z+r[r.length-1].z)/2;o?(e.z=o.z+t(e._,o._),e.m=e.z-i):e.z=i}else o&&(e.z=o.z+t(e._,o._));e.parent.A=function(e,r,n){if(r){for(var o,i=e,a=e,u=r,c=i.parent.children[0],l=i.m,s=a.m,f=u.m,h=c.m;u=vr(u),i=dr(i),u&&i;)c=dr(c),(a=vr(a)).a=e,(o=u.z+f-i.z-l+t(u._,i._))>0&&(gr(yr(u,e,n),e,o),l+=o,s+=o),f+=u.m,l+=i.m,h+=c.m,s+=a.m;u&&!vr(a)&&(a.t=u,a.m+=f-s),i&&!dr(c)&&(c.t=i,c.m+=l-h,n=e)}return n}(e,o,e.parent.A||n[0])}function a(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function u(t){t.x*=e,t.y=t.depth*r}return o.separation=function(e){return arguments.length?(t=e,o):t},o.size=function(t){return arguments.length?(n=!1,e=+t[0],r=+t[1],o):n?null:[e,r]},o.nodeSize=function(t){return arguments.length?(n=!0,e=+t[0],r=+t[1],o):n?[e,r]:null},o},treemap:function(){var t=jr,e=!1,r=1,n=1,o=[0],i=er,a=er,u=er,c=er,l=er;function s(t){return t.x0=t.y0=0,t.x1=r,t.y1=n,t.eachBefore(f),o=[0],e&&t.eachBefore(ur),t}function f(e){var r=o[e.depth],n=e.x0+r,s=e.y0+r,f=e.x1-r,h=e.y1-r;f<n&&(n=f=(n+f)/2),h<s&&(s=h=(s+h)/2),e.x0=n,e.y0=s,e.x1=f,e.y1=h,e.children&&(r=o[e.depth+1]=i(e)/2,n+=l(e)-r,s+=a(e)-r,(f-=u(e)-r)<n&&(n=f=(n+f)/2),(h-=c(e)-r)<s&&(s=h=(s+h)/2),t(e,n,s,f,h))}return s.round=function(t){return arguments.length?(e=!!t,s):e},s.size=function(t){return arguments.length?(r=+t[0],n=+t[1],s):[r,n]},s.tile=function(e){return arguments.length?(t=tr(e),s):t},s.padding=function(t){return arguments.length?s.paddingInner(t).paddingOuter(t):s.paddingInner()},s.paddingInner=function(t){return arguments.length?(i="function"==typeof t?t:rr(+t),s):i},s.paddingOuter=function(t){return arguments.length?s.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):s.paddingTop()},s.paddingTop=function(t){return arguments.length?(a="function"==typeof t?t:rr(+t),s):a},s.paddingRight=function(t){return arguments.length?(u="function"==typeof t?t:rr(+t),s):u},s.paddingBottom=function(t){return arguments.length?(c="function"==typeof t?t:rr(+t),s):c},s.paddingLeft=function(t){return arguments.length?(l="function"==typeof t?t:rr(+t),s):l},s},treemapBinary:function(t,e,r,n,o){var i,a,u=t.children,c=u.length,l=new Array(c+1);for(l[0]=a=i=0;i<c;++i)l[i+1]=a+=u[i].value;!function t(e,r,n,o,i,a,c){if(e>=r-1){var s=u[e];return s.x0=o,s.y0=i,s.x1=a,void(s.y1=c)}var f=l[e],h=n/2+f,p=e+1,d=r-1;for(;p<d;){var v=p+d>>>1;l[v]<h?p=v+1:d=v}h-l[p-1]<l[p]-h&&e+1<p&&--p;var g=l[p]-f,y=n-g;if(a-o>c-i){var m=(o*y+a*g)/n;t(e,p,g,o,i,m,c),t(p,r,y,m,i,a,c)}else{var b=(i*y+c*g)/n;t(e,p,g,o,i,a,b),t(p,r,y,o,b,a,c)}}(0,c,t.value,e,r,n,o)},treemapDice:cr,treemapSlice:br,treemapSliceDice:function(t,e,r,n,o){(1&t.depth?br:cr)(t,e,r,n,o)},treemapSquarify:jr,treemapResquarify:xr}));function Or(t){return t.deeds?t.deeds.length:0}function kr(t,e){return t+e}var Sr=function(t){return t.length>0?t.map(Or).reduce(kr):0};var Dr=function({arrayLength:t}){var e=0,r={};return function(n){n in r||(r[n]=e,(e+=1)>=t&&(e=0));return r[n]}},Mr=function(t,e){var r=[];const n=~~(t.length/e);for(var o=0;o<t.length;++o){var i=o%e*n+~~(o/e);if(i>=t.length)break;r[i]=t[o]}return r}(["rgb(255, 119, 179)","rgb(229, 0, 120)","rgb(255, 118, 170)","rgb(231, 0, 109)","rgb(255, 119, 160)","rgb(232, 0, 99)","rgb(255, 120, 151)","rgb(232, 0, 89)","rgb(255, 121, 142)","rgb(231, 2, 79)","rgb(255, 123, 133)","rgb(229, 18, 70)","rgb(255, 125, 125)","rgb(227, 29, 60)","rgb(255, 128, 116)","rgb(224, 39, 50)","rgb(255, 131, 108)","rgb(221, 48, 40)","rgb(255, 134, 100)","rgb(217, 56, 29)","rgb(255, 138, 92)","rgb(212, 63, 15)","rgb(255, 141, 85)","rgb(207, 70, 0)","rgb(255, 145, 78)","rgb(201, 76, 0)","rgb(255, 149, 71)","rgb(195, 82, 0)","rgb(252, 153, 65)","rgb(189, 88, 0)","rgb(245, 156, 59)","rgb(182, 93, 0)","rgb(239, 160, 53)","rgb(174, 98, 0)","rgb(231, 163, 49)","rgb(167, 102, 0)","rgb(224, 167, 45)","rgb(159, 106, 0)","rgb(216, 170, 42)","rgb(150, 110, 0)","rgb(208, 173, 40)","rgb(142, 114, 0)","rgb(200, 176, 40)","rgb(133, 117, 0)","rgb(191, 179, 41)","rgb(124, 120, 0)","rgb(182, 182, 43)","rgb(114, 123, 0)","rgb(173, 185, 47)","rgb(104, 126, 0)","rgb(164, 187, 52)","rgb(93, 128, 0)","rgb(154, 189, 57)","rgb(81, 130, 0)","rgb(144, 191, 63)","rgb(68, 132, 0)","rgb(133, 193, 70)","rgb(52, 134, 0)","rgb(121, 195, 77)","rgb(30, 135, 0)","rgb(109, 197, 85)","rgb(0, 137, 0)","rgb(95, 198, 92)","rgb(0, 138, 0)","rgb(80, 199, 101)","rgb(0, 139, 22)","rgb(60, 201, 109)","rgb(0, 140, 36)","rgb(29, 202, 118)","rgb(0, 141, 49)","rgb(0, 203, 127)","rgb(0, 142, 60)","rgb(0, 203, 136)","rgb(0, 142, 71)","rgb(0, 204, 146)","rgb(0, 143, 82)","rgb(0, 205, 155)","rgb(0, 143, 93)","rgb(0, 205, 165)","rgb(0, 144, 104)","rgb(0, 206, 175)","rgb(0, 144, 115)","rgb(0, 206, 184)","rgb(0, 144, 125)","rgb(0, 206, 194)","rgb(0, 144, 136)","rgb(0, 206, 203)","rgb(0, 145, 146)","rgb(0, 206, 213)","rgb(0, 145, 157)","rgb(0, 206, 222)","rgb(0, 145, 167)","rgb(0, 205, 230)","rgb(0, 145, 177)","rgb(0, 205, 239)","rgb(0, 144, 186)","rgb(0, 204, 247)","rgb(0, 144, 195)","rgb(0, 203, 255)","rgb(0, 144, 204)","rgb(0, 203, 255)","rgb(0, 143, 212)","rgb(0, 201, 255)","rgb(0, 142, 220)","rgb(0, 200, 255)","rgb(0, 141, 227)","rgb(0, 199, 255)","rgb(0, 140, 233)","rgb(0, 197, 255)","rgb(0, 139, 238)","rgb(0, 195, 255)","rgb(0, 137, 243)","rgb(0, 193, 255)","rgb(0, 136, 247)","rgb(0, 191, 255)","rgb(0, 134, 250)","rgb(0, 189, 255)","rgb(0, 131, 252)","rgb(0, 186, 255)","rgb(0, 129, 254)","rgb(0, 183, 255)","rgb(0, 126, 254)","rgb(41, 180, 255)","rgb(0, 123, 254)","rgb(83, 177, 255)","rgb(0, 119, 253)","rgb(110, 174, 255)","rgb(0, 115, 250)","rgb(131, 170, 255)","rgb(0, 111, 248)","rgb(150, 167, 255)","rgb(51, 106, 244)","rgb(166, 163, 255)","rgb(86, 101, 239)","rgb(181, 159, 255)","rgb(109, 96, 234)","rgb(195, 155, 255)","rgb(129, 90, 228)","rgb(207, 151, 255)","rgb(145, 84, 221)","rgb(219, 147, 255)","rgb(159, 78, 214)","rgb(229, 143, 255)","rgb(171, 71, 206)","rgb(239, 139, 249)","rgb(182, 63, 197)","rgb(248, 135, 241)","rgb(192, 56, 189)","rgb(255, 132, 233)","rgb(200, 47, 179)","rgb(255, 128, 225)","rgb(207, 38, 170)","rgb(255, 126, 216)","rgb(214, 28, 160)","rgb(255, 123, 207)","rgb(219, 15, 150)","rgb(255, 121, 198)","rgb(223, 0, 140)","rgb(255, 120, 188)","rgb(227, 0, 130)"],9),Cr=Dr({arrayLength:Mr.length});var Er=function(t){var e=t.id;return t.data&&(e=t.data.id),e?Mr[Cr(e)]:"#fff"},Nr=le,Rr=Ar,Ir=Sr,Pr=Er;var $r=pe("deeds",[]);var Br,Tr,Lr,Fr=(Br=0,Tr={},{getTrackingColorForCell:function(t){var e;return t.trackingColor||(t.trackingColor=(e="#"+rn(Br.toString(16),6),Br+=1,e),Tr[t.trackingColor]=t),t.trackingColor},getCellForImageData:function(t){return Tr["#"+rn(t[0].toString(16),2)+rn(t[1].toString(16),2)+rn(t[2].toString(16),2)]}}),zr=Nr.select(".field-label-layer"),qr=Nr.select("#canvases-container"),Ur=Nr.select("#garden-container"),Hr=Nr.select("#garden-board"),Vr=Nr.select("#garden-targets-board"),Gr=Nr.select("#garden-board-labels"),Xr=Hr.node().getContext("2d",{alpha:!1}),Kr=Vr.node().getContext("2d",{alpha:!1}),Wr=Nr.select(".arrangement-controls");function Yr(){return 1}function Qr(t){return t.data.id}function Jr(t){return t.data.name}function Zr(t){return t.x1-t.x0}function tn(t){return t.y1-t.y0}function en(t){return`translate(${t.labelDisplayDetails.center.x} ${t.labelDisplayDetails.center.y})\n    rotate(${t.labelDisplayDetails.rotation})`}function rn(t,e){for(var r=e-t.length,n="",o=0;o<r;++o)n+="0";return n+t}function nn(t){return t.labelDisplayDetails.fontSize}function on(t){setTimeout(t,250)}var an=function({onDeedClick:t}){return async function({projectData:r,expensiveRenderIsOK:n}){var o=0,i=0;if(!Lr||n){let e=1600*Ir(r);(o=document.body.getBoundingClientRect().width)>800&&(o=800),i=~~(e/o),await new Promise(on);const n=Wr.node().getBoundingClientRect().height+document.querySelector("#garden-container .instruction").getBoundingClientRect().height+i;Ur.style("width",o),Ur.style("height",n),qr.style("width",o),qr.style("height",i),Hr.attr("width",o),Hr.attr("height",i),Gr.attr("width",o),Gr.attr("height",i),Vr.attr("width",o),Vr.attr("height",i),Vr.on("click",(function(){var e=Nr.event.layerX,r=Nr.event.layerY,n=Kr.getImageData(e,r,1,1).data,o=Fr.getCellForImageData(n);t({deed:o.data,project:o.parent.data})})),Lr=Rr.treemap().tile(Rr.treemapResquarify.ratio(1)).size([o,i]).round(!0).paddingInner(0)}var a={name:"root",deeds:r};Xr.clearRect(0,0,o,i),Kr.clearRect(0,0,o,i);var u=Rr.hierarchy(a,$r).sum(Yr);Lr(u),function(t){function e(t){Xr.fillRect(t.x0,t.y0,Zr(t),tn(t))}Xr.fillStyle="#eee",t.children.forEach(e)}(u),function(t){Xr.strokeStyle="white",Xr.lineWidth=1,t.leaves().forEach((function(t){Xr.fillStyle=Pr(t.parent);var e=Zr(t),r=tn(t);Xr.fillRect(t.x0,t.y0,e,r),Xr.strokeRect(t.x0+.5,t.y0+.5,e,r),Kr.fillStyle=Fr.getTrackingColorForCell(t),Kr.fillRect(t.x0,t.y0,e,r)}))}(u),function(t){Xr.font="48px futura",Xr.textAlign="center",Xr.textBaseline="middle",t.children.forEach(e)}(u),function(t){var e=zr.selectAll(".label").data(t.children,Qr);e.exit().remove();var r=e.enter().append("text").classed("label",!0).attr("text-anchor","middle"),n=e.merge(r);n.text(Jr),n.style("font-size",nn),n.attr("transform",en)}(u)};function e(t){var e=Jr(t),r=Zr(t)-20,n=tn(t)-20,o=Xr.measureText(e).width;if(o>0){let e={};e.center={x:.5+~~(t.x0+r/2)+10,y:.5+~~(t.y0+n/2)+10},e.rotation=0;let i=1;r<n?(e.rotation=-90,o>n&&(i=n/o)):o>r&&(i=r/o),e.fontSize=48,1!==i&&(e.fontSize=~~(48*i)),t.labelDisplayDetails=e}}},un=le;var cn=function({currentUsername:t,activeView:e,changeView:r}){un.select("#current-user-label-possessive").text(t+"'s"),un.select("#current-user-label").text(t),un.selectAll(".view-button").on("click",(function(){r(this.dataset.viewname)})),un.selectAll(".view-button").classed("active-view-button",(function(){return this.dataset.viewname===e}))},ln=le,sn=ge;var fn=function({user:t,detailsLayerSelector:e=".details-layer"}){var r,n,o,i=ln.select(e),a=i.select(".details-box");return a.empty()&&(r=i,n=document.getElementById("details-box-template"),o=document.importNode(n.content,!0),r.node().appendChild(o),a=r.select(".details-box")),a.select(".close-button").on("click",(function(){i.classed("destroyed",!0)})),function({deed:e,project:r}){sn({parent:a,deed:e,project:r,user:t}),i.classed("destroyed",!1)}},hn="__lodash_placeholder__",pn=32,dn=1/0,vn=NaN,gn=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",pn],["partialRight",64],["rearg",256]],yn="[object Function]",mn="[object GeneratorFunction]",bn=/^\s+|\s+$/g,_n=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,wn=/\{\n\/\* \[wrapped with (.+)\] \*/,jn=/,? & /,xn=/^[-+]0x[0-9a-f]+$/i,An=/^0b[01]+$/i,On=/^\[object .+?Constructor\]$/,kn=/^0o[0-7]+$/i,Sn=/^(?:0|[1-9]\d*)$/,Dn=parseInt,Mn="object"==typeof t&&t&&t.Object===Object&&t,Cn="object"==typeof self&&self&&self.Object===Object&&self,En=Mn||Cn||Function("return this")();function Nn(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function Rn(t,e){return!!(t?t.length:0)&&function(t,e,r){if(e!=e)return function(t,e,r,n){var o=t.length,i=r+(n?1:-1);for(;n?i--:++i<o;)if(e(t[i],i,t))return i;return-1}(t,In,r);var n=r-1,o=t.length;for(;++n<o;)if(t[n]===e)return n;return-1}(t,e,0)>-1}function In(t){return t!=t}function Pn(t,e){for(var r=t.length,n=0;r--;)t[r]===e&&n++;return n}function $n(t,e){for(var r=-1,n=t.length,o=0,i=[];++r<n;){var a=t[r];a!==e&&a!==hn||(t[r]=hn,i[o++]=r)}return i}var Bn,Tn=Function.prototype,Ln=Object.prototype,Fn=En["__core-js_shared__"],zn=(Bn=/[^.]+$/.exec(Fn&&Fn.keys&&Fn.keys.IE_PROTO||""))?"Symbol(src)_1."+Bn:"",qn=Tn.toString,Un=Ln.hasOwnProperty,Hn=Ln.toString,Vn=RegExp("^"+qn.call(Un).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Gn=Object.create,Xn=Math.max,Kn=Math.min,Wn=function(){var t=io(Object,"defineProperty"),e=io.name;return e&&e.length>2?t:void 0}();function Yn(t){return po(t)?Gn(t):{}}function Qn(t){return!(!po(t)||(e=t,zn&&zn in e))&&(function(t){var e=po(t)?Hn.call(t):"";return e==yn||e==mn}(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?Vn:On).test(function(t){if(null!=t){try{return qn.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t));var e}function Jn(t,e,r,n){for(var o=-1,i=t.length,a=r.length,u=-1,c=e.length,l=Xn(i-a,0),s=Array(c+l),f=!n;++u<c;)s[u]=e[u];for(;++o<a;)(f||o<i)&&(s[r[o]]=t[o]);for(;l--;)s[u++]=t[o++];return s}function Zn(t,e,r,n){for(var o=-1,i=t.length,a=-1,u=r.length,c=-1,l=e.length,s=Xn(i-u,0),f=Array(s+l),h=!n;++o<s;)f[o]=t[o];for(var p=o;++c<l;)f[p+c]=e[c];for(;++a<u;)(h||o<i)&&(f[p+r[a]]=t[o++]);return f}function to(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var r=Yn(t.prototype),n=t.apply(r,e);return po(n)?n:r}}function eo(t,e,r,n,o,i,a,u,c,l){var s=128&e,f=1&e,h=2&e,p=24&e,d=512&e,v=h?void 0:to(t);return function g(){for(var y=arguments.length,m=Array(y),b=y;b--;)m[b]=arguments[b];if(p)var _=oo(g),w=Pn(m,_);if(n&&(m=Jn(m,n,o,p)),i&&(m=Zn(m,i,a,p)),y-=w,p&&y<l){var j=$n(m,_);return ro(t,e,eo,g.placeholder,r,m,j,u,c,l-y)}var x=f?r:this,A=h?x[t]:t;return y=m.length,u?m=lo(m,u):d&&y>1&&m.reverse(),s&&c<y&&(m.length=c),this&&this!==En&&this instanceof g&&(A=v||to(A)),A.apply(x,m)}}function ro(t,e,r,n,o,i,a,u,c,l){var s=8&e;e|=s?pn:64,4&(e&=~(s?64:pn))||(e&=-4);var f=r(t,e,o,s?i:void 0,s?a:void 0,s?void 0:i,s?void 0:a,u,c,l);return f.placeholder=n,so(f,t,e)}function no(t,e,r,n,o,i,a,u){var c=2&e;if(!c&&"function"!=typeof t)throw new TypeError("Expected a function");var l=n?n.length:0;if(l||(e&=-97,n=o=void 0),a=void 0===a?a:Xn(go(a),0),u=void 0===u?u:go(u),l-=o?o.length:0,64&e){var s=n,f=o;n=o=void 0}var h=[t,e,r,n,o,s,f,i,a,u];if(t=h[0],e=h[1],r=h[2],n=h[3],o=h[4],!(u=h[9]=null==h[9]?c?0:t.length:Xn(h[9]-l,0))&&24&e&&(e&=-25),e&&1!=e)p=8==e||16==e?function(t,e,r){var n=to(t);return function o(){for(var i=arguments.length,a=Array(i),u=i,c=oo(o);u--;)a[u]=arguments[u];var l=i<3&&a[0]!==c&&a[i-1]!==c?[]:$n(a,c);return(i-=l.length)<r?ro(t,e,eo,o.placeholder,void 0,a,l,void 0,void 0,r-i):Nn(this&&this!==En&&this instanceof o?n:t,this,a)}}(t,e,u):e!=pn&&33!=e||o.length?eo.apply(void 0,h):function(t,e,r,n){var o=1&e,i=to(t);return function e(){for(var a=-1,u=arguments.length,c=-1,l=n.length,s=Array(l+u),f=this&&this!==En&&this instanceof e?i:t;++c<l;)s[c]=n[c];for(;u--;)s[c++]=arguments[++a];return Nn(f,o?r:this,s)}}(t,e,r,n);else var p=function(t,e,r){var n=1&e,o=to(t);return function e(){return(this&&this!==En&&this instanceof e?o:t).apply(n?r:this,arguments)}}(t,e,r);return so(p,t,e)}function oo(t){return t.placeholder}function io(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return Qn(r)?r:void 0}function ao(t){var e=t.match(wn);return e?e[1].split(jn):[]}function uo(t,e){var r=e.length,n=r-1;return e[n]=(r>1?"& ":"")+e[n],e=e.join(r>2?", ":" "),t.replace(_n,"{\n/* [wrapped with "+e+"] */\n")}function co(t,e){return!!(e=null==e?9007199254740991:e)&&("number"==typeof t||Sn.test(t))&&t>-1&&t%1==0&&t<e}function lo(t,e){for(var r=t.length,n=Kn(e.length,r),o=function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}(t);n--;){var i=e[n];t[n]=co(i,r)?o[i]:void 0}return t}var so=Wn?function(t,e,r){var n,o=e+"";return Wn(t,"toString",{configurable:!0,enumerable:!1,value:(n=uo(o,fo(ao(o),r)),function(){return n})})}:function(t){return t};function fo(t,e){return function(t,e){for(var r=-1,n=t?t.length:0;++r<n&&!1!==e(t[r],r,t););}(gn,(function(r){var n="_."+r[0];e&r[1]&&!Rn(t,n)&&t.push(n)})),t.sort()}function ho(t,e,r){var n=no(t,8,void 0,void 0,void 0,void 0,void 0,e=r?void 0:e);return n.placeholder=ho.placeholder,n}function po(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function vo(t){return t?(t=function(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==Hn.call(t)}(t))return vn;if(po(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=po(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(bn,"");var r=An.test(t);return r||kn.test(t)?Dn(t.slice(2),r?2:8):xn.test(t)?vn:+t}(t))===dn||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function go(t){var e=vo(t),r=e%1;return e==e?r?e-r:e:0}ho.placeholder={};var yo=ho,mo=me,bo=yo,_o=["January","February","March","April","May","June","July","August","September","October","November","December"];var wo=function({projectData:t,sortBy:e="startDate"}){var r={};return t.forEach((function(t){var n,o;t[e]&&(n=+t[e].getFullYear(),o=+t[e].getMonth());if(void 0!==n&&void 0!==o){var i=r[n];i||(i={},r[n]=i);var a=i[o];a||(a=[],i[o]=a),a.push(t)}})),Object.keys(r).sort(mo.compareDesc).map((function(t){var n=r[t];return{year:+t,monthKits:Object.keys(n).map((function(t){return{month:+t,name:_o[t],projects:n[t].sort(bo(mo.compareDescWithSortKey)(e))}}))}}))},jo="[object Function]",xo=/^\[object .+?Constructor\]$/;function Ao(t){return!!t&&"object"==typeof t}var Oo,ko,So,Do=Object.prototype,Mo=Function.prototype.toString,Co=Do.hasOwnProperty,Eo=Do.toString,No=RegExp("^"+Mo.call(Co).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ro=(ko="isArray",function(t){return null!=t&&(function(t){return function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}(t)&&Eo.call(t)==jo}(t)?No.test(Mo.call(t)):Ao(t)&&xo.test(t))}(So=null==(Oo=Array)?void 0:Oo[ko])?So:void 0);var Io=Ro||function(t){return Ao(t)&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}(t.length)&&"[object Array]"==Eo.call(t)},Po={};Po["[object Float32Array]"]=Po["[object Float64Array]"]=Po["[object Int8Array]"]=Po["[object Int16Array]"]=Po["[object Int32Array]"]=Po["[object Uint8Array]"]=Po["[object Uint8ClampedArray]"]=Po["[object Uint16Array]"]=Po["[object Uint32Array]"]=!0,Po["[object Arguments]"]=Po["[object Array]"]=Po["[object ArrayBuffer]"]=Po["[object Boolean]"]=Po["[object DataView]"]=Po["[object Date]"]=Po["[object Error]"]=Po["[object Function]"]=Po["[object Map]"]=Po["[object Number]"]=Po["[object Object]"]=Po["[object RegExp]"]=Po["[object Set]"]=Po["[object String]"]=Po["[object WeakMap]"]=!1;var $o=Object.prototype.toString;var Bo=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}(t.length)&&!!Po[$o.call(t)]},To="[object Function]",Lo=/^\[object .+?Constructor\]$/;var Fo=Object.prototype,zo=Function.prototype.toString,qo=Fo.hasOwnProperty,Uo=Fo.toString,Ho=RegExp("^"+zo.call(qo).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Vo=function(t,e){var r=null==t?void 0:t[e];return function(t){if(null==t)return!1;if(function(t){return function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}(t)&&Uo.call(t)==To}(t))return Ho.test(zo.call(t));return function(t){return!!t&&"object"==typeof t}(t)&&Lo.test(t)}(r)?r:void 0},Go=9007199254740991,Xo="[object Function]",Ko="[object GeneratorFunction]",Wo=Object.prototype,Yo=Wo.hasOwnProperty,Qo=Wo.toString,Jo=Wo.propertyIsEnumerable;var Zo=Vo,ti=function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&function(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Go}(t.length)&&!function(t){var e=function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}(t)?Qo.call(t):"";return e==Xo||e==Ko}(t)}(t)}(t)&&Yo.call(t,"callee")&&(!Jo.call(t,"callee")||"[object Arguments]"==Qo.call(t))},ei=Io,ri=/^\d+$/,ni=Object.prototype.hasOwnProperty,oi=Zo(Object,"keys"),ii=9007199254740991;var ai=function(t){return function(e){return null==e?void 0:e[t]}}("length");function ui(t,e){return t="number"==typeof t||ri.test(t)?+t:-1,e=null==e?ii:e,t>-1&&t%1==0&&t<e}function ci(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=ii}function li(t){for(var e=function(t){if(null==t)return[];si(t)||(t=Object(t));var e=t.length;e=e&&ci(e)&&(ei(t)||ti(t))&&e||0;var r=t.constructor,n=-1,o="function"==typeof r&&r.prototype===t,i=Array(e),a=e>0;for(;++n<e;)i[n]=n+"";for(var u in t)a&&ui(u,e)||"constructor"==u&&(o||!ni.call(t,u))||i.push(u);return i}(t),r=e.length,n=r&&t.length,o=!!n&&ci(n)&&(ei(t)||ti(t)),i=-1,a=[];++i<r;){var u=e[i];(o&&ui(u,n)||ni.call(t,u))&&a.push(u)}return a}function si(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var fi=oi?function(t){var e=null==t?void 0:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&function(t){return null!=t&&ci(ai(t))}(t)?li(t):si(t)?oi(t):[]}:li,hi=Io,pi=Bo,di=fi,vi="[object Arguments]",gi="[object Array]",yi="[object Boolean]",mi="[object Date]",bi="[object Error]",_i="[object Number]",wi="[object Object]",ji="[object RegExp]",xi="[object String]";var Ai=Object.prototype,Oi=Ai.hasOwnProperty,ki=Ai.toString;function Si(t,e){for(var r=-1,n=t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}function Di(t,e,r,n,o,i,a){var u=-1,c=t.length,l=e.length;if(c!=l&&!(o&&l>c))return!1;for(;++u<c;){var s=t[u],f=e[u],h=n?n(o?f:s,o?s:f,u):void 0;if(void 0!==h){if(h)continue;return!1}if(o){if(!Si(e,(function(t){return s===t||r(s,t,n,o,i,a)})))return!1}else if(s!==f&&!r(s,f,n,o,i,a))return!1}return!0}function Mi(t,e,r,n,o,i,a){var u=di(t),c=u.length;if(c!=di(e).length&&!o)return!1;for(var l=c;l--;){var s=u[l];if(!(o?s in e:Oi.call(e,s)))return!1}for(var f=o;++l<c;){var h=t[s=u[l]],p=e[s],d=n?n(o?p:h,o?h:p,s):void 0;if(!(void 0===d?r(h,p,n,o,i,a):d))return!1;f||(f="constructor"==s)}if(!f){var v=t.constructor,g=e.constructor;if(v!=g&&"constructor"in t&&"constructor"in e&&!("function"==typeof v&&v instanceof v&&"function"==typeof g&&g instanceof g))return!1}return!0}var Ci=function t(e,r,n,o,i,a){return e===r||(null==e||null==r||!function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}(e)&&!function(t){return!!t&&"object"==typeof t}(r)?e!=e&&r!=r:function(t,e,r,n,o,i,a){var u=hi(t),c=hi(e),l=gi,s=gi;u||((l=ki.call(t))==vi?l=wi:l!=wi&&(u=pi(t)));c||((s=ki.call(e))==vi?s=wi:s!=wi&&(c=pi(e)));var f=l==wi,h=s==wi,p=l==s;if(p&&!u&&!f)return function(t,e,r){switch(r){case yi:case mi:return+t==+e;case bi:return t.name==e.name&&t.message==e.message;case _i:return t!=+t?e!=+e:t==+e;case ji:case xi:return t==e+""}return!1}(t,e,l);if(!o){var d=f&&Oi.call(t,"__wrapped__"),v=h&&Oi.call(e,"__wrapped__");if(d||v)return r(d?t.value():t,v?e.value():e,n,o,i,a)}if(!p)return!1;i||(i=[]),a||(a=[]);var g=i.length;for(;g--;)if(i[g]==t)return a[g]==e;i.push(t),a.push(e);var y=(u?Di:Mi)(t,e,r,n,o,i,a);return i.pop(),a.pop(),y}(e,r,t,n,o,i,a))},Ei=Ci;var Ni=fi;var Ri=function(t){t=function(t){return function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}(t)?t:Object(t)}(t);for(var e=-1,r=Ni(t),n=r.length,o=Array(n);++e<n;){var i=r[e];o[e]=[i,t[i]]}return o},Ii=function(t,e,r){var n=e.length,o=n,i=!r;if(null==t)return!o;for(t=function(t){return function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}(t)?t:Object(t)}(t);n--;){var a=e[n];if(i&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++n<o;){var u=(a=e[n])[0],c=t[u],l=a[1];if(i&&a[2]){if(void 0===c&&!(u in t))return!1}else{var s=r?r(c,l,u):void 0;if(!(void 0===s?Ei(l,c,r,!0):s))return!1}}return!0},Pi=Ri;function $i(t){return t==t&&!Bi(t)}function Bi(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var Ti=function(t){var e=function(t){var e=Pi(t),r=e.length;for(;r--;)e[r][2]=$i(e[r][1]);return e}(t);if(1==e.length&&e[0][2]){var r=e[0][0],n=e[0][1];return function(t){return null!=t&&(t[r]===n&&(void 0!==n||r in function(t){return Bi(t)?t:Object(t)}(t)))}}return function(t){return Ii(t,e)}};function Li(t){return t}var Fi=Ci,zi=function(t,e,r){if("function"!=typeof t)return Li;if(void 0===e)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 3:return function(r,n,o){return t.call(e,r,n,o)};case 4:return function(r,n,o,i){return t.call(e,r,n,o,i)};case 5:return function(r,n,o,i,a){return t.call(e,r,n,o,i,a)}}return function(){return t.apply(e,arguments)}},qi=Io,Ui=Ri,Hi=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,Vi=/^\w*$/,Gi=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,Xi=/\\(\\)?/g;function Ki(t,e,r){if(null!=t){void 0!==r&&r in Qi(t)&&(e=[r]);for(var n=0,o=e.length;null!=t&&n<o;)t=t[e[n++]];return n&&n==o?t:void 0}}function Wi(t,e){var r=typeof t;return!!("string"==r&&Vi.test(t)||"number"==r)||!qi(t)&&(!Hi.test(t)||null!=e&&t in Qi(e))}function Yi(t){return t==t&&!Zi(t)}function Qi(t){return Zi(t)?t:Object(t)}function Ji(t){if(qi(t))return t;var e=[];return function(t){return null==t?"":t+""}(t).replace(Gi,(function(t,r,n,o){e.push(n?o.replace(Xi,"$1"):r||t)})),e}function Zi(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function ta(t){return t}var ea,ra,na=function(t,e,r){var n,o=typeof t;return"function"==o?void 0===e?t:zi(t,e,r):null==t?ta:"object"==o?function(t){var e=function(t){var e=Ui(t),r=e.length;for(;r--;)e[r][2]=Yi(e[r][1]);return e}(t);if(1==e.length&&e[0][2]){var r=e[0][0],n=e[0][1];return function(t){return null!=t&&(t[r]===n&&(void 0!==n||r in Qi(t)))}}return function(t){return function(t,e,r){var n=e.length,o=n,i=!r;if(null==t)return!o;t=Qi(t);for(;n--;){var a=e[n];if(i&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++n<o;){var u=(a=e[n])[0],c=t[u],l=a[1];if(i&&a[2]){if(void 0===c&&!(u in t))return!1}else{var s=r?r(c,l,u):void 0;if(!(void 0===s?Fi(l,c,r,!0):s))return!1}}return!0}(t,e)}}(t):void 0===e?Wi(n=t)?function(t){return function(e){return null==e?void 0:e[t]}}(n):function(t){var e=t+"";return t=Ji(t),function(r){return Ki(r,t,e)}}(n):function(t,e){var r=qi(t),n=Wi(t)&&Yi(e),o=t+"";return t=Ji(t),function(i){if(null==i)return!1;var a,u,c=o;if(i=Qi(i),(r||!n)&&!(c in i)){if(null==(i=1==t.length?i:Ki(i,function(t,e,r){var n=-1,o=t.length;(e=null==e?0:+e||0)<0&&(e=-e>o?0:o+e);(r=void 0===r||r>o?o:+r||0)<0&&(r+=o);o=e>r?0:r-e>>>0,e>>>=0;var i=Array(o);for(;++n<o;)i[n]=t[n+e];return i}(t,0,-1))))return!1;c=(u=(a=t)?a.length:0)?a[u-1]:void 0,i=Qi(i)}return i[c]===e?void 0!==e||c in i:Fi(e,i[c],void 0,!0)}}(t,e)},oa=fi,ia=9007199254740991,aa=(ea=function(t,e){return ua(t,e,oa)},function(t,e){var r=t?ca(t):0;if(!function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=ia}(r))return ea(t,e);for(var n=ra?r:-1,o=la(t);(ra?n--:++n<r)&&!1!==e(o[n],n,o););return t}),ua=function(t){return function(e,r,n){for(var o=la(e),i=n(e),a=i.length,u=t?a:-1;t?u--:++u<a;){var c=i[u];if(!1===r(o[c],c,o))break}return e}}();var ca=function(t){return function(e){return null==e?void 0:e[t]}}("length");function la(t){return function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}(t)?t:Object(t)}var sa=aa;var fa=na,ha=function(t,e,r,n){var o;return r(t,(function(t,r,i){if(e(t,r,i))return o=n?r:t,!1})),o},pa=function(t,e,r){for(var n=t.length,o=r?n:-1;r?o--:++o<n;)if(e(t[o],o,t))return o;return-1},da=Io;var va=function(t,e){return function(r,n,o){if(n=fa(n,o,3),da(r)){var i=pa(r,n,e);return i>-1?r[i]:void 0}return ha(r,n,t)}}(sa),ga=Ti,ya=va;var ma=function(t,e){return ya(t,ga(e))};var ba=function(t,e,r){if(null!=t){void 0!==r&&r in function(t){return function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}(t)?t:Object(t)}(t)&&(e=[r]);for(var n=0,o=e.length;null!=t&&n<o;)t=t[e[n++]];return n&&n==o?t:void 0}},_a=Io,wa=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,ja=/\\(\\)?/g;var xa=function(t){if(_a(t))return t;var e=[];return function(t){return null==t?"":t+""}(t).replace(wa,(function(t,r,n,o){e.push(n?o.replace(ja,"$1"):r||t)})),e};var Aa=function(t,e){for(var r=-1,n=t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o},Oa=na,ka=sa,Sa=Io,Da=9007199254740991;function Ma(t,e){var r=-1,n=function(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Da}(Ca(t))}(t)?Array(t.length):[];return ka(t,(function(t,o,i){n[++r]=e(t,o,i)})),n}var Ca=function(t){return function(e){return null==e?void 0:e[t]}}("length");var Ea=ba,Na=xa,Ra=Io,Ia=function(t,e,r){return(Sa(t)?Aa:Ma)(t,e=Oa(e,r,3))},Pa=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,$a=/^\w*$/;function Ba(t,e){var r=typeof t;return!!("string"==r&&$a.test(t)||"number"==r)||!Ra(t)&&(!Pa.test(t)||null!=e&&t in function(t){return function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}(t)?t:Object(t)}(e))}var Ta=ma,La=function(t,e){return Ia(t,function(t){return Ba(t)?function(t){return function(e){return null==e?void 0:e[t]}}(t):function(t){var e=t+"";return t=Na(t),function(r){return Ea(r,t,e)}}(t)}(e))},Fa=yo,za=me;function qa(t,e){return t<e?-1:1}var Ua=le,Ha=he,Va=wo,Ga=function(t){return function(t,e){var r=new Set;for(var n in e){e[n].forEach(o)}return[...r];function o(e){r.add(e[t])}}("year",t).map((function(r){var n=function(t,e){var r=new Set;for(var n in e){let o=e[n],i=Ta(o,{year:t});if(i)La(i.monthKits,"month").forEach(r.add.bind(r))}return[...r].sort(qa)}(r,t);return{year:r,monthKits:n.sort(za.compareDesc).map(Fa(e)(r))}}));function e(e,r){var n={month:r,projectsWithSort:[]};for(var o in t){let i=t[o],a=Ta(i,{year:e});if(!a)continue;let u=Ta(a.monthKits,{month:r});u&&(n.name=u.name,u.projects&&n.projectsWithSort.push({sort:o,projects:u.projects}))}return n}},Xa=ma,Ka=Ua.select("#year-container"),Wa=Ua.select("#years-root"),Ya={startDate:"Started",shippedDate:"Shipped",lastGrownDate:"Grown*",lastTendedDate:"Tended**"};function Qa(t){return`${Ya[t.sort]} (${t.projects.length})`}function Ja(t,e){return new Date(t.committedDate)>new Date(e.committedDate)?-1:1}function Za(t){return`month-sort-section ${t.sort}`}function tu(t){t.monthKits.forEach(eu)}function eu(t){for(var e in Ya)Xa(t.projectsWithSort,{sort:e})||t.projectsWithSort.push({sort:e,projects:[]})}var ru=function({onDeedClick:t}){return function({projectData:e}){Ua.selectAll(".view-root:not(#year-container)").classed("hidden",!0),Ka.classed("hidden",!1);var r=Ga({startDate:Va({projectData:e,sortBy:"startDate"}),shippedDate:Va({projectData:e,sortBy:"shippedDate"}),lastGrownDate:Va({projectData:e,sortBy:"lastGrownDate"}),lastTendedDate:Va({projectData:e,sortBy:"lastTendedDate"})});r.forEach(tu);var n=Wa.selectAll(".year").data(r);n.exit().remove();var o=n.enter().append("div").classed("year",!0).classed("centered-col",!0);o.append("div").classed("year-title",!0),o.append("div").classed("month-root",!0);var i=o.merge(n);i.select(".year-title").text(Ha("year"));var a=i.select(".month-root").selectAll(".month").data(Ha("monthKits"),Ha("month"));a.exit().remove();var u=a.enter().append("div").classed("month",!0).classed("centered-col",!0);u.append("div").classed("month-title",!0),u.append("div").classed("month-sort-section-root",!0);var c=u.merge(a);c.select(".month-title").text(Ha("name"));var l=c.select(".month-sort-section-root").selectAll(".month-sort-section").data(Ha("projectsWithSort"),Ha("sort"));l.exit().remove();var s=l.enter().append("div").classed("month-sort-section",!0);s.append("div").classed("month-sort-name",!0),s.append("div").classed("month-project-root",!0);var f=s.merge(l);f.attr("class",Za).select(".month-sort-name").text(Qa);var h=f.select(".month-project-root").selectAll(".project").data(Ha("projects"),Ha());h.exit().remove();var p=h.enter().append("div").classed("project",!0);p.append("div").classed("project-name",!0),p.append("div").classed("project-deed-root",!0),p.on("click",(function(e){t({project:e,deed:e.deeds.sort(Ja)[0]})})),p.merge(h).select(".project-name").text(Ha("name"))}};var nu=function(t){var e,r;return t&&(e=t.crownClass),function(t){r&&r.classList.remove(e),t&&(r=t).classList.add(e)}};function ou(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function iu(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function au(){}var uu=.7,cu=1/uu,lu="\\s*([+-]?\\d+)\\s*",su="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",fu="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",hu=/^#([0-9a-f]{3})$/,pu=/^#([0-9a-f]{6})$/,du=new RegExp("^rgb\\("+[lu,lu,lu]+"\\)$"),vu=new RegExp("^rgb\\("+[fu,fu,fu]+"\\)$"),gu=new RegExp("^rgba\\("+[lu,lu,lu,su]+"\\)$"),yu=new RegExp("^rgba\\("+[fu,fu,fu,su]+"\\)$"),mu=new RegExp("^hsl\\("+[su,fu,fu]+"\\)$"),bu=new RegExp("^hsla\\("+[su,fu,fu,su]+"\\)$"),_u={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function wu(){return this.rgb().formatHex()}function ju(){return this.rgb().formatRgb()}function xu(t){var e;return t=(t+"").trim().toLowerCase(),(e=hu.exec(t))?new Du((e=parseInt(e[1],16))>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):(e=pu.exec(t))?Au(parseInt(e[1],16)):(e=du.exec(t))?new Du(e[1],e[2],e[3],1):(e=vu.exec(t))?new Du(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=gu.exec(t))?Ou(e[1],e[2],e[3],e[4]):(e=yu.exec(t))?Ou(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=mu.exec(t))?Nu(e[1],e[2]/100,e[3]/100,1):(e=bu.exec(t))?Nu(e[1],e[2]/100,e[3]/100,e[4]):_u.hasOwnProperty(t)?Au(_u[t]):"transparent"===t?new Du(NaN,NaN,NaN,0):null}function Au(t){return new Du(t>>16&255,t>>8&255,255&t,1)}function Ou(t,e,r,n){return n<=0&&(t=e=r=NaN),new Du(t,e,r,n)}function ku(t){return t instanceof au||(t=xu(t)),t?new Du((t=t.rgb()).r,t.g,t.b,t.opacity):new Du}function Su(t,e,r,n){return 1===arguments.length?ku(t):new Du(t,e,r,null==n?1:n)}function Du(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}function Mu(){return"#"+Eu(this.r)+Eu(this.g)+Eu(this.b)}function Cu(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Eu(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Nu(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Pu(t,e,r,n)}function Ru(t){if(t instanceof Pu)return new Pu(t.h,t.s,t.l,t.opacity);if(t instanceof au||(t=xu(t)),!t)return new Pu;if(t instanceof Pu)return t;var e=(t=t.rgb()).r/255,r=t.g/255,n=t.b/255,o=Math.min(e,r,n),i=Math.max(e,r,n),a=NaN,u=i-o,c=(i+o)/2;return u?(a=e===i?(r-n)/u+6*(r<n):r===i?(n-e)/u+2:(e-r)/u+4,u/=c<.5?i+o:2-i-o,a*=60):u=c>0&&c<1?0:a,new Pu(a,u,c,t.opacity)}function Iu(t,e,r,n){return 1===arguments.length?Ru(t):new Pu(t,e,r,null==n?1:n)}function Pu(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}function $u(t,e,r){return 255*(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)}ou(au,xu,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:wu,formatHex:wu,formatHsl:function(){return Ru(this).formatHsl()},formatRgb:ju,toString:ju}),ou(Du,Su,iu(au,{brighter:function(t){return t=null==t?cu:Math.pow(cu,t),new Du(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?uu:Math.pow(uu,t),new Du(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Mu,formatHex:Mu,formatRgb:Cu,toString:Cu})),ou(Pu,Iu,iu(au,{brighter:function(t){return t=null==t?cu:Math.pow(cu,t),new Pu(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?uu:Math.pow(uu,t),new Pu(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,o=2*r-n;return new Du($u(t>=240?t-240:t+120,o,n),$u(t,o,n),$u(t<120?t+240:t-120,o,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Bu=Math.PI/180,Tu=180/Math.PI,Lu=.96422,Fu=.82521,zu=4/29,qu=6/29,Uu=3*qu*qu;function Hu(t){if(t instanceof Gu)return new Gu(t.l,t.a,t.b,t.opacity);if(t instanceof Zu)return tc(t);t instanceof Du||(t=ku(t));var e,r,n=Yu(t.r),o=Yu(t.g),i=Yu(t.b),a=Xu((.2225045*n+.7168786*o+.0606169*i)/1);return n===o&&o===i?e=r=a:(e=Xu((.4360747*n+.3850649*o+.1430804*i)/Lu),r=Xu((.0139322*n+.0971045*o+.7141733*i)/Fu)),new Gu(116*a-16,500*(e-a),200*(a-r),t.opacity)}function Vu(t,e,r,n){return 1===arguments.length?Hu(t):new Gu(t,e,r,null==n?1:n)}function Gu(t,e,r,n){this.l=+t,this.a=+e,this.b=+r,this.opacity=+n}function Xu(t){return t>.008856451679035631?Math.pow(t,1/3):t/Uu+zu}function Ku(t){return t>qu?t*t*t:Uu*(t-zu)}function Wu(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Yu(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Qu(t){if(t instanceof Zu)return new Zu(t.h,t.c,t.l,t.opacity);if(t instanceof Gu||(t=Hu(t)),0===t.a&&0===t.b)return new Zu(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*Tu;return new Zu(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Ju(t,e,r,n){return 1===arguments.length?Qu(t):new Zu(t,e,r,null==n?1:n)}function Zu(t,e,r,n){this.h=+t,this.c=+e,this.l=+r,this.opacity=+n}function tc(t){if(isNaN(t.h))return new Gu(t.l,0,0,t.opacity);var e=t.h*Bu;return new Gu(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}ou(Gu,Vu,iu(au,{brighter:function(t){return new Gu(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Gu(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,r=isNaN(this.b)?t:t-this.b/200;return new Du(Wu(3.1338561*(e=Lu*Ku(e))-1.6168667*(t=1*Ku(t))-.4906146*(r=Fu*Ku(r))),Wu(-.9787684*e+1.9161415*t+.033454*r),Wu(.0719453*e-.2289914*t+1.4052427*r),this.opacity)}})),ou(Zu,Ju,iu(au,{brighter:function(t){return new Zu(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new Zu(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return tc(this).rgb()}}));var ec=-.14861,rc=1.78277,nc=-.29227,oc=-.90649,ic=1.97294,ac=ic*oc,uc=ic*rc,cc=rc*nc-oc*ec;function lc(t){if(t instanceof fc)return new fc(t.h,t.s,t.l,t.opacity);t instanceof Du||(t=ku(t));var e=t.r/255,r=t.g/255,n=t.b/255,o=(cc*n+ac*e-uc*r)/(cc+ac-uc),i=n-o,a=(ic*(r-o)-nc*i)/oc,u=Math.sqrt(a*a+i*i)/(ic*o*(1-o)),c=u?Math.atan2(a,i)*Tu-120:NaN;return new fc(c<0?c+360:c,u,o,t.opacity)}function sc(t,e,r,n){return 1===arguments.length?lc(t):new fc(t,e,r,null==n?1:n)}function fc(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}ou(fc,sc,iu(au,{brighter:function(t){return t=null==t?cu:Math.pow(cu,t),new fc(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?uu:Math.pow(uu,t),new fc(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Bu,e=+this.l,r=isNaN(this.s)?0:this.s*e*(1-e),n=Math.cos(t),o=Math.sin(t);return new Du(255*(e+r*(ec*n+rc*o)),255*(e+r*(nc*n+oc*o)),255*(e+r*(ic*n)),this.opacity)}}));var hc=e(Object.freeze({__proto__:null,color:xu,rgb:Su,hsl:Iu,lab:Vu,hcl:Ju,lch:function(t,e,r,n){return 1===arguments.length?Qu(t):new Zu(r,e,t,null==n?1:n)},gray:function(t,e){return new Gu(t,0,0,null==e?1:e)},cubehelix:sc})),pc=le,dc=he,{compareDescForPolyptych:vc}=me,gc=yo,yc=nu,mc=Er,{hsl:bc}=hc,_c=yc({crownClass:"selected-tych"}),wc=pc.select("#polyptych-container"),jc=pc.select("#polyptych-root");function xc(t){var e=kc(t);return e.length>0?e[0][0]:""}function Ac(t){return!t.profileImage}function Oc(t){if("A"!==pc.event.target.tagName){var e=pc.select(".selected-tych");if(!e.empty()){if(e.datum().id===t.id)return this.classList.remove("selected-tych"),void this.scrollIntoView({behavior:"smooth"})}_c(this),this.scrollIntoView({behavior:"smooth"})}}function kc(t){return Sc(t.links).concat(Sc(t.sources))}function Sc(t){if(t&&Array.isArray(t)){if(t.length<1)return[];if(Array.isArray(t[0]))return t}return[]}function Dc({parentSel:t,className:e,label:r}){var n=t.append("li").classed(e,!0);n.append("span").classed("label",!0).text(r+": "),n.append("span").classed("value",!0)}function Mc(t,e){return e[t]?e[t].toLocaleDateString():"Never"}function Cc(t){var e=bc(mc(t));e.opacity=.4;var r=e.copy();r.s+=.2,r.opacity=.4;var n=e.darker(1);return n.opacity=.25,r.formatHsl()+" "+n.formatHsl()}var Ec=function(){return function({projectData:t}){t.sort(vc),pc.selectAll(".view-root:not(#polyptych-container)").classed("hidden",!0),wc.classed("hidden",!1);var e=jc.selectAll(".tych").data(t,dc());e.exit().remove();var r=e.enter().append("div").classed("tych",!0).classed("centered-col",!0).on("click",Oc);r.append("div").classed("title",!0).append("a").classed("title-link",!0).attr("target","_blank"),r.append("a").classed("project-window-link",!0).attr("target","_blank").append("img").classed("project-window",!0),r.append("div").classed("description",!0),r.append("ul").classed("links-root",!0);var n=r.append("ul").classed("stats",!0);Dc({parentSel:n,className:"last-updated-date",label:"Last updated"}),Dc({parentSel:n,className:"shipped-date",label:"Date shipped"}),Dc({parentSel:n,className:"start-date",label:"Date started"}),Dc({parentSel:n,className:"project-age",label:"Project age"}),Dc({parentSel:n,className:"activity-count",label:"Activity count"});var o=r.merge(e);o.attr("class",(function(t){var e="tych centered-col ";"featured"===t.featuredStatus&&(e+=" featured");return e})),o.select(".title-link").text(dc("name")).attr("href",xc).style("text-decoration-color",mc),o.select(".project-window-link").attr("href",xc);var i=o.select(".project-window");i.classed("hidden",Ac),i.attr("src",dc("profileImage")),o.select(".description").html(dc("description"));var a=o.selectAll(".links-root").selectAll("li").data(kc,dc("0"));a.exit().remove();var u=a.enter().append("li");u.append("a"),u.merge(a).select("a").attr("href",dc("0")).attr("target","_blank").text(dc("1")),o.select(".start-date .value").text(gc(Mc)("startDate")),o.select(".shipped-date .value").text(gc(Mc)("shippedDate")),o.select(".last-updated-date .value").text(gc(Mc)("lastActiveDate")),o.select(".project-age .value").text(dc("activitySpanInDays")),o.select(".activity-count .value").text(dc({path:"activities/length"})),o.style("border-color",mc),o.style("scrollbar-color",Cc)}},Nc=9007199254740991,Rc="[object Arguments]",Ic="[object Function]",Pc="[object GeneratorFunction]",$c=/^(?:0|[1-9]\d*)$/;function Bc(t,e){return function(t,e){for(var r=-1,n=t?t.length:0,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o}(e,(function(e){return t[e]}))}var Tc,Lc,Fc=Object.prototype,zc=Fc.hasOwnProperty,qc=Fc.toString,Uc=Fc.propertyIsEnumerable,Hc=(Tc=Object.keys,Lc=Object,function(t){return Tc(Lc(t))});function Vc(t,e){var r=Kc(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&Wc(t)}(t)&&zc.call(t,"callee")&&(!Uc.call(t,"callee")||qc.call(t)==Rc)}(t)?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],n=r.length,o=!!n;for(var i in t)!e&&!zc.call(t,i)||o&&("length"==i||Xc(i,n))||r.push(i);return r}function Gc(t){if(!function(t){var e=t&&t.constructor,r="function"==typeof e&&e.prototype||Fc;return t===r}(t))return Hc(t);var e=[];for(var r in Object(t))zc.call(t,r)&&"constructor"!=r&&e.push(r);return e}function Xc(t,e){return!!(e=null==e?Nc:e)&&("number"==typeof t||$c.test(t))&&t>-1&&t%1==0&&t<e}var Kc=Array.isArray;function Wc(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Nc}(t.length)&&!function(t){var e=function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}(t)?qc.call(t):"";return e==Ic||e==Pc}(t)}var Yc=function(t){return t?Bc(t,function(t){return Wc(t)?Vc(t):Gc(t)}(t)):[]},Qc="__lodash_hash_undefined__",Jc=9007199254740991,Zc="[object Symbol]",tl=/^\[object .+?Constructor\]$/,el=/^(?:0|[1-9]\d*)$/,rl="object"==typeof t&&t&&t.Object===Object&&t,nl="object"==typeof self&&self&&self.Object===Object&&self,ol=rl||nl||Function("return this")();function il(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function al(t,e){return!!(t?t.length:0)&&function(t,e,r){if(e!=e)return function(t,e,r,n){var o=t.length,i=r+(n?1:-1);for(;n?i--:++i<o;)if(e(t[i],i,t))return i;return-1}(t,sl,r);var n=r-1,o=t.length;for(;++n<o;)if(t[n]===e)return n;return-1}(t,e,0)>-1}function ul(t,e,r){for(var n=-1,o=t?t.length:0;++n<o;)if(r(e,t[n]))return!0;return!1}function cl(t,e){for(var r=-1,n=t?t.length:0,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o}function ll(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}function sl(t){return t!=t}function fl(t,e){return t.has(e)}function hl(t,e){return function(r){return t(e(r))}}var pl=Array.prototype,dl=Function.prototype,vl=Object.prototype,gl=ol["__core-js_shared__"],yl=function(){var t=/[^.]+$/.exec(gl&&gl.keys&&gl.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),ml=dl.toString,bl=vl.hasOwnProperty,_l=vl.toString,wl=RegExp("^"+ml.call(bl).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),jl=ol.Symbol,xl=hl(Object.getPrototypeOf,Object),Al=vl.propertyIsEnumerable,Ol=pl.splice,kl=jl?jl.isConcatSpreadable:void 0,Sl=Object.getOwnPropertySymbols,Dl=Math.max,Ml=ql(ol,"Map"),Cl=ql(Object,"create");function El(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Nl(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Rl(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Il(t){var e=-1,r=t?t.length:0;for(this.__data__=new Rl;++e<r;)this.add(t[e])}function Pl(t,e){var r=Yl(t)||Wl(t)?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],n=r.length,o=!!n;for(var i in t)!e&&!bl.call(t,i)||o&&("length"==i||Gl(i,n))||r.push(i);return r}function $l(t,e){for(var r=t.length;r--;)if(Kl(t[r][0],e))return r;return-1}function Bl(t,e,r,n,o){var i=-1,a=t.length;for(r||(r=Vl),o||(o=[]);++i<a;){var u=t[i];e>0&&r(u)?e>1?Bl(u,e-1,r,n,o):ll(o,u):n||(o[o.length]=u)}return o}function Tl(t){return!(!Zl(t)||function(t){return!!yl&&yl in t}(t))&&(Jl(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?wl:tl).test(function(t){if(null!=t){try{return ml.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}function Ll(t){if(!Zl(t))return function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}(t);var e=function(t){var e=t&&t.constructor,r="function"==typeof e&&e.prototype||vl;return t===r}(t),r=[];for(var n in t)("constructor"!=n||!e&&bl.call(t,n))&&r.push(n);return r}function Fl(t){return function(t,e,r){var n=e(t);return Yl(t)?n:ll(n,r(t))}(t,es,Hl)}function zl(t,e){var r=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?r["string"==typeof e?"string":"hash"]:r.map}function ql(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return Tl(r)?r:void 0}El.prototype.clear=function(){this.__data__=Cl?Cl(null):{}},El.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},El.prototype.get=function(t){var e=this.__data__;if(Cl){var r=e[t];return r===Qc?void 0:r}return bl.call(e,t)?e[t]:void 0},El.prototype.has=function(t){var e=this.__data__;return Cl?void 0!==e[t]:bl.call(e,t)},El.prototype.set=function(t,e){return this.__data__[t]=Cl&&void 0===e?Qc:e,this},Nl.prototype.clear=function(){this.__data__=[]},Nl.prototype.delete=function(t){var e=this.__data__,r=$l(e,t);return!(r<0)&&(r==e.length-1?e.pop():Ol.call(e,r,1),!0)},Nl.prototype.get=function(t){var e=this.__data__,r=$l(e,t);return r<0?void 0:e[r][1]},Nl.prototype.has=function(t){return $l(this.__data__,t)>-1},Nl.prototype.set=function(t,e){var r=this.__data__,n=$l(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},Rl.prototype.clear=function(){this.__data__={hash:new El,map:new(Ml||Nl),string:new El}},Rl.prototype.delete=function(t){return zl(this,t).delete(t)},Rl.prototype.get=function(t){return zl(this,t).get(t)},Rl.prototype.has=function(t){return zl(this,t).has(t)},Rl.prototype.set=function(t,e){return zl(this,t).set(t,e),this},Il.prototype.add=Il.prototype.push=function(t){return this.__data__.set(t,Qc),this},Il.prototype.has=function(t){return this.__data__.has(t)};var Ul=Sl?hl(Sl,Object):rs,Hl=Sl?function(t){for(var e=[];t;)ll(e,Ul(t)),t=xl(t);return e}:rs;function Vl(t){return Yl(t)||Wl(t)||!!(kl&&t&&t[kl])}function Gl(t,e){return!!(e=null==e?Jc:e)&&("number"==typeof t||el.test(t))&&t>-1&&t%1==0&&t<e}function Xl(t){if("string"==typeof t||function(t){return"symbol"==typeof t||ts(t)&&_l.call(t)==Zc}(t))return t;var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e}function Kl(t,e){return t===e||t!=t&&e!=e}function Wl(t){return function(t){return ts(t)&&Ql(t)}(t)&&bl.call(t,"callee")&&(!Al.call(t,"callee")||"[object Arguments]"==_l.call(t))}var Yl=Array.isArray;function Ql(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Jc}(t.length)&&!Jl(t)}function Jl(t){var e=Zl(t)?_l.call(t):"";return"[object Function]"==e||"[object GeneratorFunction]"==e}function Zl(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function ts(t){return!!t&&"object"==typeof t}function es(t){return Ql(t)?Pl(t,!0):Ll(t)}function rs(){return[]}var ns=function(t,e){return e=Dl(void 0===e?t.length-1:e,0),function(){for(var r=arguments,n=-1,o=Dl(r.length-e,0),i=Array(o);++n<o;)i[n]=r[e+n];n=-1;for(var a=Array(e+1);++n<e;)a[n]=r[n];return a[e]=i,il(t,this,a)}}((function(t,e){return null==t?{}:(e=cl(Bl(e,1),Xl),function(t,e){return function(t,e,r){for(var n=-1,o=e.length,i={};++n<o;){var a=e[n],u=t[a];r(u,a)&&(i[a]=u)}return i}(t=Object(t),e,(function(e,r){return r in t}))}(t,function(t,e,r,n){var o=-1,i=al,a=!0,u=t.length,c=[],l=e.length;if(!u)return c;r&&(e=cl(e,function(t){return function(e){return t(e)}}(r))),n?(i=ul,a=!1):e.length>=200&&(i=fl,a=!1,e=new Il(e));t:for(;++o<u;){var s=t[o],f=r?r(s):s;if(s=n||0!==s?s:0,a&&f==f){for(var h=l;h--;)if(e[h]===f)continue t;c.push(s)}else i(e,f,n)||c.push(s)}return c}(Fl(t),e)))}));var os=function(t,e,r){var n=e[r.projectName];if(n)if(n.deeds){var o=function(t,e){for(var r=0;r<t.length;++r)if(t[r].id===e)return r;return-1}(n.deeds,r.id);-1===o?n.deeds.push(r):n.deeds[o]=r}else n.deeds=[],n.deeds.push(r);else t(new Error("No project "+r.projectName+" found."))};var is=function(t,e){var r=e;try{r=JSON.parse(t)}catch(e){console.error("Parsing error on",t)}return r},as=/(.*\n)/;var us=function({request:t,onRepo:e,onCommit:r,commitSourceURL:n},o){var i="";function a(t){let n=is(t);var o;void 0!==n&&((o=n).abbreviatedOid?r(o):e(o))}t({url:n,method:"GET",onData:function(t){if(!(i+=t).includes("\n"))return;let e=i.split(as);for(let t=0;t<e.length;++t){let r=e[t];if(!(r.length<1)){if(!r.endsWith("\n")){i=r;break}a(r)}}}},(function(t){if(t)return void o(t);i.length>0&&a(i);o()}))};var cs=function(t){if(t){console.error(t,t.stack);var e="";t.name&&(e+=t.name+": "),e+=t.message,t.stack&&(e+=" | "+t.stack.toString()),function(t){var e=document.getElementById("status-message");e.textContent=t,e.classList.remove("hidden")}(e)}},ls=le;var ss=function(t){var e=t+"-container";ls.selectAll(".view-root:not(#"+e+")").classed("hidden",!0),ls.select("#"+e).classed("hidden",!1)};const fs=864e5;function hs(t){return{id:t.id,message:t.message,committedDate:new Date(t.committedDate)}}function ps(t,e){return t.committedDate<e.committedDate?-1:1}function ds(t){if(t)return new Date(t.getFullYear()+"-"+(t.getMonth()+1))}var vs=function(t,e=Date.now(),r=!0){if(t.releaseState="inProgress",t.shippedDate&&(t.shippedDate=new Date(t.shippedDate),t.releaseState="shipped"),t.workStopped&&(t.releaseState="workStopped"),t.deeds&&t.deeds.length>0){var n=t.deeds.map(hs);r&&n.sort(ps),n[0].isStart=!0,n[n.length-1].isLastActive=!0,t.startDate=n[0].committedDate,t.lastActiveDate=n[n.length-1].committedDate,t.ageInDays=Math.round((e-t.startDate.getTime())/fs),t.activitySpanInDays=(i=t.lastActiveDate,a=t.startDate,Math.round((i.getTime()-a.getTime())/fs)),t.activities=n;var o=ds(t.lastActiveDate);t.shippedDate?o>ds(t.shippedDate)&&(t.lastTendedDate=t.lastActiveDate):t.lastActiveDate&&o>ds(t.startDate)&&(t.lastGrownDate=t.lastActiveDate)}var i,a;return t},gs="__lodash_hash_undefined__",ys="[object Function]",ms="[object GeneratorFunction]",bs=/^\[object .+?Constructor\]$/,_s="object"==typeof t&&t&&t.Object===Object&&t,ws="object"==typeof self&&self&&self.Object===Object&&self,js=_s||ws||Function("return this")();function xs(t,e){return!!(t?t.length:0)&&function(t,e,r){if(e!=e)return function(t,e,r,n){var o=t.length,i=r+(n?1:-1);for(;n?i--:++i<o;)if(e(t[i],i,t))return i;return-1}(t,Os,r);var n=r-1,o=t.length;for(;++n<o;)if(t[n]===e)return n;return-1}(t,e,0)>-1}function As(t,e,r){for(var n=-1,o=t?t.length:0;++n<o;)if(r(e,t[n]))return!0;return!1}function Os(t){return t!=t}function ks(t,e){return t.has(e)}function Ss(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}var Ds=Array.prototype,Ms=Function.prototype,Cs=Object.prototype,Es=js["__core-js_shared__"],Ns=function(){var t=/[^.]+$/.exec(Es&&Es.keys&&Es.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Rs=Ms.toString,Is=Cs.hasOwnProperty,Ps=Cs.toString,$s=RegExp("^"+Rs.call(Is).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Bs=Ds.splice,Ts=Ws(js,"Map"),Ls=Ws(js,"Set"),Fs=Ws(Object,"create");function zs(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function qs(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Us(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Hs(t){var e=-1,r=t?t.length:0;for(this.__data__=new Us;++e<r;)this.add(t[e])}function Vs(t,e){for(var r=t.length;r--;)if(Ys(t[r][0],e))return r;return-1}function Gs(t){return!(!Qs(t)||function(t){return!!Ns&&Ns in t}(t))&&(function(t){var e=Qs(t)?Ps.call(t):"";return e==ys||e==ms}(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?$s:bs).test(function(t){if(null!=t){try{return Rs.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}zs.prototype.clear=function(){this.__data__=Fs?Fs(null):{}},zs.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},zs.prototype.get=function(t){var e=this.__data__;if(Fs){var r=e[t];return r===gs?void 0:r}return Is.call(e,t)?e[t]:void 0},zs.prototype.has=function(t){var e=this.__data__;return Fs?void 0!==e[t]:Is.call(e,t)},zs.prototype.set=function(t,e){return this.__data__[t]=Fs&&void 0===e?gs:e,this},qs.prototype.clear=function(){this.__data__=[]},qs.prototype.delete=function(t){var e=this.__data__,r=Vs(e,t);return!(r<0)&&(r==e.length-1?e.pop():Bs.call(e,r,1),!0)},qs.prototype.get=function(t){var e=this.__data__,r=Vs(e,t);return r<0?void 0:e[r][1]},qs.prototype.has=function(t){return Vs(this.__data__,t)>-1},qs.prototype.set=function(t,e){var r=this.__data__,n=Vs(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},Us.prototype.clear=function(){this.__data__={hash:new zs,map:new(Ts||qs),string:new zs}},Us.prototype.delete=function(t){return Ks(this,t).delete(t)},Us.prototype.get=function(t){return Ks(this,t).get(t)},Us.prototype.has=function(t){return Ks(this,t).has(t)},Us.prototype.set=function(t,e){return Ks(this,t).set(t,e),this},Hs.prototype.add=Hs.prototype.push=function(t){return this.__data__.set(t,gs),this},Hs.prototype.has=function(t){return this.__data__.has(t)};var Xs=Ls&&1/Ss(new Ls([,-0]))[1]==1/0?function(t){return new Ls(t)}:function(){};function Ks(t,e){var r=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?r["string"==typeof e?"string":"hash"]:r.map}function Ws(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return Gs(r)?r:void 0}function Ys(t,e){return t===e||t!=t&&e!=e}function Qs(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var Js=function(t){return t&&t.length?function(t,e,r){var n=-1,o=xs,i=t.length,a=!0,u=[],c=u;if(r)a=!1,o=As;else if(i>=200){var l=e?null:Xs(t);if(l)return Ss(l);a=!1,o=ks,c=new Hs}else c=e?[]:u;t:for(;++n<i;){var s=t[n],f=e?e(s):s;if(s=r||0!==s?s:0,a&&f==f){for(var h=c.length;h--;)if(c[h]===f)continue t;e&&c.push(f),u.push(s)}else o(c,f,r)||(c!==u&&c.push(f),u.push(s))}return u}(t):[]};var Zs=function(t){for(var e=-1,r=t?t.length:0,n=0,o=[];++e<r;){var i=t[e];i&&(o[n++]=i)}return o};var tf={parse:function(t){return t?Zs(t.split("|")):[]},stringify:function(t){return t.join("|")}},ef=document.getElementById("progress-message");var rf=function({deedCount:t,projectCount:e,active:r}){ef.textContent=`Gathered ${e} projects and ${t} deeds.`,r?ef.classList.add("active"):ef.classList.remove("active")};var nf=function({projectData:t,filterCriteria:e,filterMode:r="some"}){var n=t;return e&&e.length>0&&(n=t.filter((function(t){return e[r](n);function n(e){var r=t[e.category];return Array.isArray(r)?-1!==r.indexOf(e.name):r===e.name}}))),n},of=[{category:"releaseState",name:"shipped",roles:["filter","groupBy"]},{category:"releaseState",name:"inProgress",roles:["filter","groupBy"]},{category:"featuredStatus",name:"featured",roles:["filter"]},{category:"importance",name:"importance",roles:["sortBy"]},{category:"date",name:"startDate",roles:["sortBy"]},{category:"date",name:"shippedDate",roles:["sortBy"]},{category:"date",name:"lastActiveDate",roles:["sortBy"]},{category:"purpose",name:"purpose",roles:["groupBy"]},{category:"purpose",name:"library",roles:["filter"]},{category:"purpose",name:"tool",roles:["filter"]},{category:"purpose",name:"explanation",roles:["filter"]},{category:"purpose",name:"art",roles:["filter"]},{category:"purpose",name:"game",roles:["filter"]},{category:"purpose",name:"information",roles:["filter"]},{category:"purpose",name:"library",roles:["filter"]},{category:"environment",name:"environment",roles:["groupBy"]},{category:"environment",name:"browser",roles:["filter"]},{category:"environment",name:"server",roles:["filter"]},{category:"environment",name:"terminal",roles:["filter"]},{category:"environment",name:"anywhere",roles:["filter"]},{category:"environment",name:"ios",roles:["filter"]},{category:"environment",name:"osx",roles:["filter"]},{category:"form",name:"form",roles:["groupBy"]},{category:"form",name:"app",roles:["filter"]},{category:"form",name:"service",roles:["filter"]},{category:"form",name:"script",roles:["filter"]},{category:"form",name:"module",roles:["filter"]},{category:"form",name:"browser-extension",roles:["filter"]},{category:"form",name:"bot",roles:["filter"]},{category:"form",name:"image",roles:["filter"]},{category:"form",name:"job",roles:["filter"]},{category:"form",name:"source",roles:["filter"]},{category:"form",name:"document",roles:["filter"]}],af=of;var uf,cf,lf=function(t,e=af){return e.filter((function(e){return-1!==t.indexOf(e.name)}))},sf=0,ff=0,hf=0,pf=0,df=0,vf=0,gf="object"==typeof performance&&performance.now?performance:Date,yf="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function mf(){return df||(yf(bf),df=gf.now()+vf)}function bf(){df=0}function _f(){this._call=this._time=this._next=null}function wf(t,e,r){var n=new _f;return n.restart(t,e,r),n}function jf(){mf(),++sf;for(var t,e=uf;e;)(t=df-e._time)>=0&&e._call.call(null,t),e=e._next;--sf}function xf(){df=(pf=gf.now())+vf,sf=ff=0;try{jf()}finally{sf=0,function(){var t,e,r=uf,n=1/0;for(;r;)r._call?(n>r._time&&(n=r._time),t=r,r=r._next):(e=r._next,r._next=null,r=t?t._next=e:uf=e);cf=t,Of(n)}(),df=0}}function Af(){var t=gf.now(),e=t-pf;e>1e3&&(vf-=e,pf=t)}function Of(t){sf||(ff&&(ff=clearTimeout(ff)),t-df>24?(t<1/0&&(ff=setTimeout(xf,t-gf.now()-vf)),hf&&(hf=clearInterval(hf))):(hf||(pf=gf.now(),hf=setInterval(Af,1e3)),sf=1,yf(xf)))}function kf(t,e,r){var n=new _f;return e=null==e?0:+e,n.restart((function(r){n.stop(),t(r+e)}),e,r),n}_f.prototype=wf.prototype={constructor:_f,restart:function(t,e,r){if("function"!=typeof t)throw new TypeError("callback is not a function");r=(null==r?mf():+r)+(null==e?0:+e),this._next||cf===this||(cf?cf._next=this:uf=this,cf=this),this._call=t,this._time=r,Of()},stop:function(){this._call&&(this._call=null,this._time=1/0,Of())}};var Sf=e(Object.freeze({__proto__:null,now:mf,timer:wf,timerFlush:jf,timeout:kf,interval:function(t,e,r){var n=new _f,o=e;return null==e?(n.restart(t,e,r),n):(e=+e,r=null==r?mf():+r,n.restart((function i(a){a+=o,n.restart(i,o+=e,r),t(a)}),e,r),n)}}));function Df(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function Mf(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Cf=function t(e){function r(t){return Math.pow(t,e)}return e=+e,r.exponent=t,r}(3),Ef=function t(e){function r(t){return 1-Math.pow(1-t,e)}return e=+e,r.exponent=t,r}(3),Nf=function t(e){function r(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,r.exponent=t,r}(3),Rf=Math.PI,If=Rf/2;function Pf(t){return(1-Math.cos(Rf*t))/2}function $f(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function Bf(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var Tf=4/11,Lf=7.5625;function Ff(t){return(t=+t)<Tf?Lf*t*t:t<.7272727272727273?Lf*(t-=.5454545454545454)*t+.75:t<.9090909090909091?Lf*(t-=.8181818181818182)*t+.9375:Lf*(t-=.9545454545454546)*t+.984375}var zf=1.70158,qf=function t(e){function r(t){return t*t*((e+1)*t-e)}return e=+e,r.overshoot=t,r}(zf),Uf=function t(e){function r(t){return--t*t*((e+1)*t+e)+1}return e=+e,r.overshoot=t,r}(zf),Hf=function t(e){function r(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,r.overshoot=t,r}(zf),Vf=2*Math.PI,Gf=function t(e,r){var n=Math.asin(1/(e=Math.max(1,e)))*(r/=Vf);function o(t){return e*Math.pow(2,10*--t)*Math.sin((n-t)/r)}return o.amplitude=function(e){return t(e,r*Vf)},o.period=function(r){return t(e,r)},o}(1,.3),Xf=function t(e,r){var n=Math.asin(1/(e=Math.max(1,e)))*(r/=Vf);function o(t){return 1-e*Math.pow(2,-10*(t=+t))*Math.sin((t+n)/r)}return o.amplitude=function(e){return t(e,r*Vf)},o.period=function(r){return t(e,r)},o}(1,.3),Kf=function t(e,r){var n=Math.asin(1/(e=Math.max(1,e)))*(r/=Vf);function o(t){return((t=2*t-1)<0?e*Math.pow(2,10*t)*Math.sin((n-t)/r):2-e*Math.pow(2,-10*t)*Math.sin((n+t)/r))/2}return o.amplitude=function(e){return t(e,r*Vf)},o.period=function(r){return t(e,r)},o}(1,.3),Wf=e(Object.freeze({__proto__:null,easeLinear:function(t){return+t},easeQuad:Df,easeQuadIn:function(t){return t*t},easeQuadOut:function(t){return t*(2-t)},easeQuadInOut:Df,easeCubic:Mf,easeCubicIn:function(t){return t*t*t},easeCubicOut:function(t){return--t*t*t+1},easeCubicInOut:Mf,easePoly:Nf,easePolyIn:Cf,easePolyOut:Ef,easePolyInOut:Nf,easeSin:Pf,easeSinIn:function(t){return 1-Math.cos(t*If)},easeSinOut:function(t){return Math.sin(t*If)},easeSinInOut:Pf,easeExp:$f,easeExpIn:function(t){return Math.pow(2,10*t-10)},easeExpOut:function(t){return 1-Math.pow(2,-10*t)},easeExpInOut:$f,easeCircle:Bf,easeCircleIn:function(t){return 1-Math.sqrt(1-t*t)},easeCircleOut:function(t){return Math.sqrt(1- --t*t)},easeCircleInOut:Bf,easeBounce:Ff,easeBounceIn:function(t){return 1-Ff(1-t)},easeBounceOut:Ff,easeBounceInOut:function(t){return((t*=2)<=1?1-Ff(1-t):Ff(t-1)+1)/2},easeBack:Hf,easeBackIn:qf,easeBackOut:Uf,easeBackInOut:Hf,easeElastic:Xf,easeElasticIn:Gf,easeElasticOut:Xf,easeElasticInOut:Kf})),Yf=Sf.timer,Qf=Wf.easeCubicIn;var Jf=function({fn:t}){var e,r,n=0;return function(i){e?r=i:(t(i),e=Yf(o,1e3*Qf((n+=1)/50)))};function o(){e.stop(),e=null,r&&(n+=1,t(r),r=void 0)}},Zf={exports:{}};!function(e,r){var n="__lodash_hash_undefined__",o=9007199254740991,i="[object Arguments]",a="[object Array]",u="[object Boolean]",c="[object Date]",l="[object Error]",s="[object Function]",f="[object Map]",h="[object Number]",p="[object Object]",d="[object Promise]",v="[object RegExp]",g="[object Set]",y="[object String]",m="[object Symbol]",b="[object WeakMap]",_="[object ArrayBuffer]",w="[object DataView]",j=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,x=/^\w*$/,A=/^\./,O=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,k=/\\(\\)?/g,S=/^\[object .+?Constructor\]$/,D=/^(?:0|[1-9]\d*)$/,M={};M["[object Float32Array]"]=M["[object Float64Array]"]=M["[object Int8Array]"]=M["[object Int16Array]"]=M["[object Int32Array]"]=M["[object Uint8Array]"]=M["[object Uint8ClampedArray]"]=M["[object Uint16Array]"]=M["[object Uint32Array]"]=!0,M[i]=M[a]=M[_]=M[u]=M[w]=M[c]=M[l]=M[s]=M[f]=M[h]=M[p]=M[v]=M[g]=M[y]=M[b]=!1;var C="object"==typeof t&&t&&t.Object===Object&&t,E="object"==typeof self&&self&&self.Object===Object&&self,N=C||E||Function("return this")(),R=r&&!r.nodeType&&r,I=R&&e&&!e.nodeType&&e,P=I&&I.exports===R&&C.process,$=function(){try{return P&&P.binding("util")}catch(t){}}(),B=$&&$.isTypedArray;function T(t,e,r,n){for(var o=-1,i=t?t.length:0;++o<i;){var a=t[o];e(n,a,r(a),t)}return n}function L(t,e){for(var r=-1,n=t?t.length:0;++r<n;)if(e(t[r],r,t))return!0;return!1}function F(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function z(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}function q(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}var U=Array.prototype,H=Function.prototype,V=Object.prototype,G=N["__core-js_shared__"],X=function(){var t=/[^.]+$/.exec(G&&G.keys&&G.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),K=H.toString,W=V.hasOwnProperty,Y=V.toString,Q=RegExp("^"+K.call(W).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),J=N.Symbol,Z=N.Uint8Array,tt=V.propertyIsEnumerable,et=U.splice,rt=function(t,e){return function(r){return t(e(r))}}(Object.keys,Object),nt=$t(N,"DataView"),ot=$t(N,"Map"),it=$t(N,"Promise"),at=$t(N,"Set"),ut=$t(N,"WeakMap"),ct=$t(Object,"create"),lt=Ht(nt),st=Ht(ot),ft=Ht(it),ht=Ht(at),pt=Ht(ut),dt=J?J.prototype:void 0,vt=dt?dt.valueOf:void 0,gt=dt?dt.toString:void 0;function yt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function mt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function bt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function _t(t){var e=-1,r=t?t.length:0;for(this.__data__=new bt;++e<r;)this.add(t[e])}function wt(t){this.__data__=new mt(t)}function jt(t,e){var r=Qt(t)||Yt(t)?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],n=r.length,o=!!n;for(var i in t)!e&&!W.call(t,i)||o&&("length"==i||Tt(i,n))||r.push(i);return r}function xt(t,e){for(var r=t.length;r--;)if(Wt(t[r][0],e))return r;return-1}function At(t,e,r,n){return Ot(t,(function(t,o,i){e(n,t,r(t),i)})),n}yt.prototype.clear=function(){this.__data__=ct?ct(null):{}},yt.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},yt.prototype.get=function(t){var e=this.__data__;if(ct){var r=e[t];return r===n?void 0:r}return W.call(e,t)?e[t]:void 0},yt.prototype.has=function(t){var e=this.__data__;return ct?void 0!==e[t]:W.call(e,t)},yt.prototype.set=function(t,e){return this.__data__[t]=ct&&void 0===e?n:e,this},mt.prototype.clear=function(){this.__data__=[]},mt.prototype.delete=function(t){var e=this.__data__,r=xt(e,t);return!(r<0)&&(r==e.length-1?e.pop():et.call(e,r,1),!0)},mt.prototype.get=function(t){var e=this.__data__,r=xt(e,t);return r<0?void 0:e[r][1]},mt.prototype.has=function(t){return xt(this.__data__,t)>-1},mt.prototype.set=function(t,e){var r=this.__data__,n=xt(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},bt.prototype.clear=function(){this.__data__={hash:new yt,map:new(ot||mt),string:new yt}},bt.prototype.delete=function(t){return Pt(this,t).delete(t)},bt.prototype.get=function(t){return Pt(this,t).get(t)},bt.prototype.has=function(t){return Pt(this,t).has(t)},bt.prototype.set=function(t,e){return Pt(this,t).set(t,e),this},_t.prototype.add=_t.prototype.push=function(t){return this.__data__.set(t,n),this},_t.prototype.has=function(t){return this.__data__.has(t)},wt.prototype.clear=function(){this.__data__=new mt},wt.prototype.delete=function(t){return this.__data__.delete(t)},wt.prototype.get=function(t){return this.__data__.get(t)},wt.prototype.has=function(t){return this.__data__.has(t)},wt.prototype.set=function(t,e){var r=this.__data__;if(r instanceof mt){var n=r.__data__;if(!ot||n.length<199)return n.push([t,e]),this;r=this.__data__=new bt(n)}return r.set(t,e),this};var Ot=function(t,e){return function(r,n){if(null==r)return r;if(!Jt(r))return t(r,n);for(var o=r.length,i=e?o:-1,a=Object(r);(e?i--:++i<o)&&!1!==n(a[i],i,a););return r}}((function(t,e){return t&&kt(t,e,ie)})),kt=function(t){return function(e,r,n){for(var o=-1,i=Object(e),a=n(e),u=a.length;u--;){var c=a[t?u:++o];if(!1===r(i[c],c,i))break}return e}}();function St(t,e){for(var r=0,n=(e=Lt(e,t)?[e]:Rt(e)).length;null!=t&&r<n;)t=t[Ut(e[r++])];return r&&r==n?t:void 0}function Dt(t,e){return null!=t&&e in Object(t)}function Mt(t,e,r,n,o){return t===e||(null==t||null==e||!ee(t)&&!re(e)?t!=t&&e!=e:function(t,e,r,n,o,s){var d=Qt(t),b=Qt(e),j=a,x=a;d||(j=(j=Bt(t))==i?p:j);b||(x=(x=Bt(e))==i?p:x);var A=j==p&&!F(t),O=x==p&&!F(e),k=j==x;if(k&&!A)return s||(s=new wt),d||oe(t)?It(t,e,r,n,o,s):function(t,e,r,n,o,i,a){switch(r){case w:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case _:return!(t.byteLength!=e.byteLength||!n(new Z(t),new Z(e)));case u:case c:case h:return Wt(+t,+e);case l:return t.name==e.name&&t.message==e.message;case v:case y:return t==e+"";case f:var s=z;case g:var p=2&i;if(s||(s=q),t.size!=e.size&&!p)return!1;var d=a.get(t);if(d)return d==e;i|=1,a.set(t,e);var b=It(s(t),s(e),n,o,i,a);return a.delete(t),b;case m:if(vt)return vt.call(t)==vt.call(e)}return!1}(t,e,j,r,n,o,s);if(!(2&o)){var S=A&&W.call(t,"__wrapped__"),D=O&&W.call(e,"__wrapped__");if(S||D){var M=S?t.value():t,C=D?e.value():e;return s||(s=new wt),r(M,C,n,o,s)}}if(!k)return!1;return s||(s=new wt),function(t,e,r,n,o,i){var a=2&o,u=ie(t),c=u.length,l=ie(e).length;if(c!=l&&!a)return!1;var s=c;for(;s--;){var f=u[s];if(!(a?f in e:W.call(e,f)))return!1}var h=i.get(t);if(h&&i.get(e))return h==e;var p=!0;i.set(t,e),i.set(e,t);var d=a;for(;++s<c;){var v=t[f=u[s]],g=e[f];if(n)var y=a?n(g,v,f,e,t,i):n(v,g,f,t,e,i);if(!(void 0===y?v===g||r(v,g,n,o,i):y)){p=!1;break}d||(d="constructor"==f)}if(p&&!d){var m=t.constructor,b=e.constructor;m==b||!("constructor"in t)||!("constructor"in e)||"function"==typeof m&&m instanceof m&&"function"==typeof b&&b instanceof b||(p=!1)}return i.delete(t),i.delete(e),p}(t,e,r,n,o,s)}(t,e,Mt,r,n,o))}function Ct(t){return!(!ee(t)||function(t){return!!X&&X in t}(t))&&(Zt(t)||F(t)?Q:S).test(Ht(t))}function Et(t){return"function"==typeof t?t:null==t?ae:"object"==typeof t?Qt(t)?function(t,e){if(Lt(t)&&Ft(e))return zt(Ut(t),e);return function(r){var n=function(t,e,r){var n=null==t?void 0:St(t,e);return void 0===n?r:n}(r,t);return void 0===n&&n===e?function(t,e){return null!=t&&function(t,e,r){e=Lt(e,t)?[e]:Rt(e);var n,o=-1,i=e.length;for(;++o<i;){var a=Ut(e[o]);if(!(n=null!=t&&r(t,a)))break;t=t[a]}if(n)return n;return!!(i=t?t.length:0)&&te(i)&&Tt(a,i)&&(Qt(t)||Yt(t))}(t,e,Dt)}(r,t):Mt(e,n,void 0,3)}}(t[0],t[1]):function(t){var e=function(t){var e=ie(t),r=e.length;for(;r--;){var n=e[r],o=t[n];e[r]=[n,o,Ft(o)]}return e}(t);if(1==e.length&&e[0][2])return zt(e[0][0],e[0][1]);return function(r){return r===t||function(t,e,r,n){var o=r.length,i=o,a=!n;if(null==t)return!i;for(t=Object(t);o--;){var u=r[o];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++o<i;){var c=(u=r[o])[0],l=t[c],s=u[1];if(a&&u[2]){if(void 0===l&&!(c in t))return!1}else{var f=new wt;if(n)var h=n(l,s,c,t,e,f);if(!(void 0===h?Mt(s,l,n,3,f):h))return!1}}return!0}(r,t,e)}}(t):Lt(e=t)?function(t){return function(e){return null==e?void 0:e[t]}}(Ut(e)):function(t){return function(e){return St(e,t)}}(e);var e}function Nt(t){if(!function(t){var e=t&&t.constructor,r="function"==typeof e&&e.prototype||V;return t===r}(t))return rt(t);var e=[];for(var r in Object(t))W.call(t,r)&&"constructor"!=r&&e.push(r);return e}function Rt(t){return Qt(t)?t:qt(t)}function It(t,e,r,n,o,i){var a=2&o,u=t.length,c=e.length;if(u!=c&&!(a&&c>u))return!1;var l=i.get(t);if(l&&i.get(e))return l==e;var s=-1,f=!0,h=1&o?new _t:void 0;for(i.set(t,e),i.set(e,t);++s<u;){var p=t[s],d=e[s];if(n)var v=a?n(d,p,s,e,t,i):n(p,d,s,t,e,i);if(void 0!==v){if(v)continue;f=!1;break}if(h){if(!L(e,(function(t,e){if(!h.has(e)&&(p===t||r(p,t,n,o,i)))return h.add(e)}))){f=!1;break}}else if(p!==d&&!r(p,d,n,o,i)){f=!1;break}}return i.delete(t),i.delete(e),f}function Pt(t,e){var r=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?r["string"==typeof e?"string":"hash"]:r.map}function $t(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return Ct(r)?r:void 0}var Bt=function(t){return Y.call(t)};function Tt(t,e){return!!(e=null==e?o:e)&&("number"==typeof t||D.test(t))&&t>-1&&t%1==0&&t<e}function Lt(t,e){if(Qt(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!ne(t))||(x.test(t)||!j.test(t)||null!=e&&t in Object(e))}function Ft(t){return t==t&&!ee(t)}function zt(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in Object(r)))}}(nt&&Bt(new nt(new ArrayBuffer(1)))!=w||ot&&Bt(new ot)!=f||it&&Bt(it.resolve())!=d||at&&Bt(new at)!=g||ut&&Bt(new ut)!=b)&&(Bt=function(t){var e=Y.call(t),r=e==p?t.constructor:void 0,n=r?Ht(r):void 0;if(n)switch(n){case lt:return w;case st:return f;case ft:return d;case ht:return g;case pt:return b}return e});var qt=Kt((function(t){t=function(t){return null==t?"":function(t){if("string"==typeof t)return t;if(ne(t))return gt?gt.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}(t)}(t);var e=[];return A.test(t)&&e.push(""),t.replace(O,(function(t,r,n,o){e.push(n?o.replace(k,"$1"):r||t)})),e}));function Ut(t){if("string"==typeof t||ne(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Ht(t){if(null!=t){try{return K.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var Vt,Gt,Xt=(Vt=function(t,e,r){W.call(t,r)?t[r].push(e):t[r]=[e]},function(t,e){var r=Qt(t)?T:At,n=Gt?Gt():{};return r(t,Vt,Et(e),n)});function Kt(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=t.apply(this,n);return r.cache=i.set(o,a),a};return r.cache=new(Kt.Cache||bt),r}function Wt(t,e){return t===e||t!=t&&e!=e}function Yt(t){return function(t){return re(t)&&Jt(t)}(t)&&W.call(t,"callee")&&(!tt.call(t,"callee")||Y.call(t)==i)}Kt.Cache=bt;var Qt=Array.isArray;function Jt(t){return null!=t&&te(t.length)&&!Zt(t)}function Zt(t){var e=ee(t)?Y.call(t):"";return e==s||"[object GeneratorFunction]"==e}function te(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=o}function ee(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function re(t){return!!t&&"object"==typeof t}function ne(t){return"symbol"==typeof t||re(t)&&Y.call(t)==m}var oe=B?function(t){return function(e){return t(e)}}(B):function(t){return re(t)&&te(t.length)&&!!M[Y.call(t)]};function ie(t){return Jt(t)?jt(t):Nt(t)}function ae(t){return t}e.exports=Xt}(Zf,Zf.exports);var th=le,eh=yo,rh=he,nh=Zf.exports,oh=tf,ih=of.filter((function(t){return-1!==t.roles.indexOf("filter")})),ah=/([a-z]+)([A-Z])([a-z]+)/;function uh(t){var e=t.match(ah);return e&&e.length>3?ch(e[1])+" "+e[2].toLowerCase()+e[3]:ch(t)}function ch(t){return t.slice(0,1).toUpperCase()+t.slice(1)}function lh(t){return uh(t.name)}function sh(t,e){return-1!==e.roles.indexOf(t)}function fh(t){return t.category+"|"+t.name}var hh=function({containerSelector:t,criteria:e=ih,selectedCriteriaNames:r,filterMode:n,onCriteriaControlChange:o,onCriteriaFilterModeChange:i}){var a=oh.parse(r),u=th.select(t),c=document.getElementById("filter-some-option"),l=document.getElementById("filter-every-option");function s(t,r,n=!1){th.select(c).on("click",(function(){i({filterMode:"some"}),l.removeAttribute("checked")})),th.select(l).on("click",(function(){i({filterMode:"every"}),c.removeAttribute("checked")}));var o=e.filter(eh(sh)(r)),a=nh(o,"category"),s=u.select("."+t+"-list").selectAll("."+t+"-category-root").data(Object.keys(a),rh("identity"));s.exit().remove();var p=s.enter().append("div").classed(t+"-category-root",!0);p.append("h5").classed("category-title",!0),p.append("ul").classed(t+"-criteria-root",!0),n&&p.on("click",eh(f)(t));var d=p.merge(s);if(d.select(".category-title").text(uh),!n){var v=d.selectAll("."+t+"-criteria-root").selectAll(".criterion").data((function(t){return a[t]}),fh);v.exit().remove(),v.enter().append("li").classed("criterion",!0).classed("selected",h).on("click",eh(f)(t)).merge(v).text(lh)}}function f(t,e){if("filter"===t){var r=th.select(this),n=r.classed("selected");n=!n,r.classed("selected",n)}o({criterion:e,criterionType:t,selected:n})}function h(t){return-1!==a.indexOf(t.name)}"some"===n?(c.setAttribute("checked","checked"),l.removeAttribute("checked")):(l.setAttribute("checked","checked"),c.removeAttribute("checked")),s("filter","filter"),s("sort","sortBy"),s("group-by","groupBy",!0)},ph={value:function(){}};function dh(){for(var t,e=0,r=arguments.length,n={};e<r;++e){if(!(t=arguments[e]+"")||t in n)throw new Error("illegal type: "+t);n[t]=[]}return new vh(n)}function vh(t){this._=t}function gh(t,e){return t.trim().split(/^|\s+/).map((function(t){var r="",n=t.indexOf(".");if(n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:r}}))}function yh(t,e){for(var r,n=0,o=t.length;n<o;++n)if((r=t[n]).name===e)return r.value}function mh(t,e,r){for(var n=0,o=t.length;n<o;++n)if(t[n].name===e){t[n]=ph,t=t.slice(0,n).concat(t.slice(n+1));break}return null!=r&&t.push({name:e,value:r}),t}vh.prototype=dh.prototype={constructor:vh,on:function(t,e){var r,n=this._,o=gh(t+"",n),i=-1,a=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++i<a;)if(r=(t=o[i]).type)n[r]=mh(n[r],t.name,e);else if(null==e)for(r in n)n[r]=mh(n[r],t.name,null);return this}for(;++i<a;)if((r=(t=o[i]).type)&&(r=yh(n[r],t.name)))return r},copy:function(){var t={},e=this._;for(var r in e)t[r]=e[r].slice();return new vh(t)},call:function(t,e){if((r=arguments.length-2)>0)for(var r,n,o=new Array(r),i=0;i<r;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=0,r=(n=this._[t]).length;i<r;++i)n[i].value.apply(e,o)},apply:function(t,e,r){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var n=this._[t],o=0,i=n.length;o<i;++o)n[o].value.apply(e,r)}};var bh=dh("start","end","interrupt"),_h=[];function wh(t,e,r,n,o,i){var a=t.__transition;if(a){if(r in a)return}else t.__transition={};!function(t,e,r){var n,o=t.__transition;function i(t){r.state=1,r.timer.restart(a,r.delay,r.time),r.delay<=t&&a(t-r.delay)}function a(i){var l,s,f,h;if(1!==r.state)return c();for(l in o)if((h=o[l]).name===r.name){if(3===h.state)return kf(a);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete o[l]):+l<e&&(h.state=6,h.timer.stop(),delete o[l])}if(kf((function(){3===r.state&&(r.state=4,r.timer.restart(u,r.delay,r.time),u(i))})),r.state=2,r.on.call("start",t,t.__data__,r.index,r.group),2===r.state){for(r.state=3,n=new Array(f=r.tween.length),l=0,s=-1;l<f;++l)(h=r.tween[l].value.call(t,t.__data__,r.index,r.group))&&(n[++s]=h);n.length=s+1}}function u(e){for(var o=e<r.duration?r.ease.call(null,e/r.duration):(r.timer.restart(c),r.state=5,1),i=-1,a=n.length;++i<a;)n[i].call(null,o);5===r.state&&(r.on.call("end",t,t.__data__,r.index,r.group),c())}function c(){for(var n in r.state=6,r.timer.stop(),delete o[e],o)return;delete t.__transition}o[e]=r,r.timer=wf(i,0,r.time)}(t,r,{name:e,index:n,group:o,on:bh,tween:_h,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:0})}function jh(t,e){var r=Ah(t,e);if(r.state>0)throw new Error("too late; already scheduled");return r}function xh(t,e){var r=Ah(t,e);if(r.state>2)throw new Error("too late; already started");return r}function Ah(t,e){var r=t.__transition;if(!r||!(r=r[e]))throw new Error("transition not found");return r}function Oh(t){return function(){return t}}function kh(t){return 1==(t=+t)?Sh:function(e,r){return r-e?function(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}(e,r,t):Oh(isNaN(e)?r:e)}}function Sh(t,e){var r=e-t;return r?function(t,e){return function(r){return t+r*e}}(t,r):Oh(isNaN(t)?e:t)}var Dh=function t(e){var r=kh(e);function n(t,e){var n=r((t=Su(t)).r,(e=Su(e)).r),o=r(t.g,e.g),i=r(t.b,e.b),a=Sh(t.opacity,e.opacity);return function(e){return t.r=n(e),t.g=o(e),t.b=i(e),t.opacity=a(e),t+""}}return n.gamma=t,n}(1);function Mh(t,e){return e-=t=+t,function(r){return t+e*r}}var Ch=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Eh=new RegExp(Ch.source,"g");function Nh(t,e){var r,n,o,i=Ch.lastIndex=Eh.lastIndex=0,a=-1,u=[],c=[];for(t+="",e+="";(r=Ch.exec(t))&&(n=Eh.exec(e));)(o=n.index)>i&&(o=e.slice(i,o),u[a]?u[a]+=o:u[++a]=o),(r=r[0])===(n=n[0])?u[a]?u[a]+=n:u[++a]=n:(u[++a]=null,c.push({i:a,x:Mh(r,n)})),i=Eh.lastIndex;return i<e.length&&(o=e.slice(i),u[a]?u[a]+=o:u[++a]=o),u.length<2?c[0]?function(t){return function(e){return t(e)+""}}(c[0].x):function(t){return function(){return t}}(e):(e=c.length,function(t){for(var r,n=0;n<e;++n)u[(r=c[n]).i]=r.x(t);return u.join("")})}var Rh,Ih,Ph,$h,Bh=180/Math.PI,Th={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Lh(t,e,r,n,o,i){var a,u,c;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(c=t*r+e*n)&&(r-=t*c,n-=e*c),(u=Math.sqrt(r*r+n*n))&&(r/=u,n/=u,c/=u),t*n<e*r&&(t=-t,e=-e,c=-c,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(e,t)*Bh,skewX:Math.atan(c)*Bh,scaleX:a,scaleY:u}}function Fh(t,e,r,n){function o(t){return t.length?t.pop()+" ":""}return function(i,a){var u=[],c=[];return i=t(i),a=t(a),function(t,n,o,i,a,u){if(t!==o||n!==i){var c=a.push("translate(",null,e,null,r);u.push({i:c-4,x:Mh(t,o)},{i:c-2,x:Mh(n,i)})}else(o||i)&&a.push("translate("+o+e+i+r)}(i.translateX,i.translateY,a.translateX,a.translateY,u,c),function(t,e,r,i){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),i.push({i:r.push(o(r)+"rotate(",null,n)-2,x:Mh(t,e)})):e&&r.push(o(r)+"rotate("+e+n)}(i.rotate,a.rotate,u,c),function(t,e,r,i){t!==e?i.push({i:r.push(o(r)+"skewX(",null,n)-2,x:Mh(t,e)}):e&&r.push(o(r)+"skewX("+e+n)}(i.skewX,a.skewX,u,c),function(t,e,r,n,i,a){if(t!==r||e!==n){var u=i.push(o(i)+"scale(",null,",",null,")");a.push({i:u-4,x:Mh(t,r)},{i:u-2,x:Mh(e,n)})}else 1===r&&1===n||i.push(o(i)+"scale("+r+","+n+")")}(i.scaleX,i.scaleY,a.scaleX,a.scaleY,u,c),i=a=null,function(t){for(var e,r=-1,n=c.length;++r<n;)u[(e=c[r]).i]=e.x(t);return u.join("")}}}var zh=Fh((function(t){return"none"===t?Th:(Rh||(Rh=document.createElement("DIV"),Ih=document.documentElement,Ph=document.defaultView),Rh.style.transform=t,t=Ph.getComputedStyle(Ih.appendChild(Rh),null).getPropertyValue("transform"),Ih.removeChild(Rh),Lh(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),qh=Fh((function(t){return null==t?Th:($h||($h=document.createElementNS("http://www.w3.org/2000/svg","g")),$h.setAttribute("transform",t),(t=$h.transform.baseVal.consolidate())?Lh((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Th)}),", ",")",")");function Uh(t,e){var r,n;return function(){var o=xh(this,t),i=o.tween;if(i!==r)for(var a=0,u=(n=r=i).length;a<u;++a)if(n[a].name===e){(n=n.slice()).splice(a,1);break}o.tween=n}}function Hh(t,e,r){var n,o;if("function"!=typeof r)throw new Error;return function(){var i=xh(this,t),a=i.tween;if(a!==n){o=(n=a).slice();for(var u={name:e,value:r},c=0,l=o.length;c<l;++c)if(o[c].name===e){o[c]=u;break}c===l&&o.push(u)}i.tween=o}}function Vh(t,e,r){var n=t._id;return t.each((function(){var t=xh(this,n);(t.value||(t.value={}))[e]=r.apply(this,arguments)})),function(t){return Ah(t,n).value[e]}}function Gh(t,e){var r;return("number"==typeof e?Mh:e instanceof xu?Dh:(r=xu(e))?(e=r,Dh):Nh)(t,e)}function Xh(t){return function(){this.removeAttribute(t)}}function Kh(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Wh(t,e,r){var n,o;return function(){var i=this.getAttribute(t);return i===r?null:i===n?o:o=e(n=i,r)}}function Yh(t,e,r){var n,o;return function(){var i=this.getAttributeNS(t.space,t.local);return i===r?null:i===n?o:o=e(n=i,r)}}function Qh(t,e,r){var n,o,i;return function(){var a,u=r(this);if(null!=u)return(a=this.getAttribute(t))===u?null:a===n&&u===o?i:i=e(n=a,o=u);this.removeAttribute(t)}}function Jh(t,e,r){var n,o,i;return function(){var a,u=r(this);if(null!=u)return(a=this.getAttributeNS(t.space,t.local))===u?null:a===n&&u===o?i:i=e(n=a,o=u);this.removeAttributeNS(t.space,t.local)}}function Zh(t,e){function r(){var r=this,n=e.apply(r,arguments);return n&&function(e){r.setAttributeNS(t.space,t.local,n(e))}}return r._value=e,r}function tp(t,e){function r(){var r=this,n=e.apply(r,arguments);return n&&function(e){r.setAttribute(t,n(e))}}return r._value=e,r}function ep(t,e){return function(){jh(this,t).delay=+e.apply(this,arguments)}}function rp(t,e){return e=+e,function(){jh(this,t).delay=e}}function np(t,e){return function(){xh(this,t).duration=+e.apply(this,arguments)}}function op(t,e){return e=+e,function(){xh(this,t).duration=e}}function ip(t,e){if("function"!=typeof e)throw new Error;return function(){xh(this,t).ease=e}}function ap(t,e,r){var n,o,i=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?jh:xh;return function(){var a=i(this,t),u=a.on;u!==n&&(o=(n=u).copy()).on(e,r),a.on=o}}var up=ce.prototype.constructor;function cp(t,e,r){function n(){var n=this,o=e.apply(n,arguments);return o&&function(e){n.style.setProperty(t,o(e),r)}}return n._value=e,n}var lp=0;function sp(t,e,r,n){this._groups=t,this._parents=e,this._name=r,this._id=n}function fp(){return++lp}var hp=ce.prototype;sp.prototype={constructor:sp,select:function(t){var e=this._name,r=this._id;"function"!=typeof t&&(t=yt(t));for(var n=this._groups,o=n.length,i=new Array(o),a=0;a<o;++a)for(var u,c,l=n[a],s=l.length,f=i[a]=new Array(s),h=0;h<s;++h)(u=l[h])&&(c=t.call(u,u.__data__,h,l))&&("__data__"in u&&(c.__data__=u.__data__),f[h]=c,wh(f[h],e,r,h,f,Ah(u,r)));return new sp(i,this._parents,e,r)},selectAll:function(t){var e=this._name,r=this._id;"function"!=typeof t&&(t=bt(t));for(var n=this._groups,o=n.length,i=[],a=[],u=0;u<o;++u)for(var c,l=n[u],s=l.length,f=0;f<s;++f)if(c=l[f]){for(var h,p=t.call(c,c.__data__,f,l),d=Ah(c,r),v=0,g=p.length;v<g;++v)(h=p[v])&&wh(h,e,r,v,p,d);i.push(p),a.push(c)}return new sp(i,a,e,r)},filter:function(t){"function"!=typeof t&&(t=at(t));for(var e=this._groups,r=e.length,n=new Array(r),o=0;o<r;++o)for(var i,a=e[o],u=a.length,c=n[o]=[],l=0;l<u;++l)(i=a[l])&&t.call(i,i.__data__,l,a)&&c.push(i);return new sp(n,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,r=t._groups,n=e.length,o=r.length,i=Math.min(n,o),a=new Array(n),u=0;u<i;++u)for(var c,l=e[u],s=r[u],f=l.length,h=a[u]=new Array(f),p=0;p<f;++p)(c=l[p]||s[p])&&(h[p]=c);for(;u<n;++u)a[u]=e[u];return new sp(a,this._parents,this._name,this._id)},selection:function(){return new up(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,r=fp(),n=this._groups,o=n.length,i=0;i<o;++i)for(var a,u=n[i],c=u.length,l=0;l<c;++l)if(a=u[l]){var s=Ah(a,e);wh(a,t,r,l,u,{time:s.time+s.delay+s.duration,delay:0,duration:s.duration,ease:s.ease})}return new sp(n,this._parents,t,r)},call:hp.call,nodes:hp.nodes,node:hp.node,size:hp.size,empty:hp.empty,each:hp.each,on:function(t,e){var r=this._id;return arguments.length<2?Ah(this.node(),r).on.on(t):this.each(ap(r,t,e))},attr:function(t,e){var r=Y(t),n="transform"===r?qh:Gh;return this.attrTween(t,"function"==typeof e?(r.local?Jh:Qh)(r,n,Vh(this,"attr."+t,e)):null==e?(r.local?Kh:Xh)(r):(r.local?Yh:Wh)(r,n,e+""))},attrTween:function(t,e){var r="attr."+t;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;var n=Y(t);return this.tween(r,(n.local?Zh:tp)(n,e))},style:function(t,e,r){var n="transform"==(t+="")?zh:Gh;return null==e?this.styleTween(t,function(t,e){var r,n,o;return function(){var i=Pt(this,t),a=(this.style.removeProperty(t),Pt(this,t));return i===a?null:i===r&&a===n?o:o=e(r=i,n=a)}}(t,n)).on("end.style."+t,function(t){return function(){this.style.removeProperty(t)}}(t)):this.styleTween(t,"function"==typeof e?function(t,e,r){var n,o,i;return function(){var a=Pt(this,t),u=r(this);return null==u&&(this.style.removeProperty(t),u=Pt(this,t)),a===u?null:a===n&&u===o?i:i=e(n=a,o=u)}}(t,n,Vh(this,"style."+t,e)):function(t,e,r){var n,o;return function(){var i=Pt(this,t);return i===r?null:i===n?o:o=e(n=i,r)}}(t,n,e+""),r)},styleTween:function(t,e,r){var n="style."+(t+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;return this.tween(n,cp(t,e,null==r?"":r))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(Vh(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var r in this.__transition)if(+r!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var r=this._id;if(t+="",arguments.length<2){for(var n,o=Ah(this.node(),r).tween,i=0,a=o.length;i<a;++i)if((n=o[i]).name===t)return n.value;return null}return this.each((null==e?Uh:Hh)(r,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?ep:rp)(e,t)):Ah(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?np:op)(e,t)):Ah(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(ip(e,t)):Ah(this.node(),e).ease}};var pp={time:null,delay:0,duration:250,ease:Mf};function dp(t,e){for(var r;!(r=t.__transition)||!(r=r[e]);)if(!(t=t.parentNode))return pp.time=mf(),pp;return r}ce.prototype.interrupt=function(t){return this.each((function(){!function(t,e){var r,n,o,i=t.__transition,a=!0;if(i){for(o in e=null==e?null:e+"",i)(r=i[o]).name===e?(n=r.state>2&&r.state<5,r.state=6,r.timer.stop(),n&&r.on.call("interrupt",t,t.__data__,r.index,r.group),delete i[o]):a=!1;a&&delete t.__transition}}(this,t)}))},ce.prototype.transition=function(t){var e,r;t instanceof sp?(e=t._id,t=t._name):(e=fp(),(r=pp).time=mf(),t=null==t?null:t+"");for(var n=this._groups,o=n.length,i=0;i<o;++i)for(var a,u=n[i],c=u.length,l=0;l<c;++l)(a=u[l])&&wh(a,t,e,l,u,r||dp(a,e));return new sp(n,this._parents,t,e)};var vp=le;var gp=X.exports,yp=Me,mp=an,bp=cn,_p=fn,wp=ru,jp=Ec,xp=Yc,Ap=ns,Op=os,kp=us,Sp=cs,Dp=Sr,Mp=ss,Cp=vs,Ep=Js,Np=tf,Rp=rf,Ip=nf,Pp=lf,$p=Jf,Bp=hh,Tp=function({outerContainerSelector:t,showControls:e,onShowControls:r,onHideControls:n}){var o=vp.select(t),i=o.select(".arrangement-controls"),a=o.select(".show-arrangement-controls-button"),u=i.select(".hide-arrangement-controls-button");a.on("click.show",r),u.on("click.hide",n),e?(i.classed("hidden",!1),a.classed("hidden",!0)):(a.classed("hidden",!1),i.transition().duration(1e3).style("opacity",0).style("height",0).on("end",(function(){i.classed("hidden",!0),i.node().removeAttribute("style")})))};var Lp,Fp,zp={name:"observatory",version:"1.0.3",description:"Observes the work you've done; kind of an anti-planner.",main:"index.js",scripts:{test:"make test"},repository:{type:"git",url:"git@github.com:jimkang/observatory.git"},keywords:[],author:"Jim Kang",license:"MIT",bugs:{url:"https://github.com/jimkang/observatory/issues"},homepage:"https://github.com/jimkang/observatory",devDependencies:{"@rollup/plugin-commonjs":"^19.0.1","@rollup/plugin-json":"^4.1.0","@rollup/plugin-node-resolve":"^13.0.2","assert-no-error":"^1.0.0","d3-array":"^1.2.0",eslint:"^7.31.0","lodash.compact":"^3.0.1","lodash.defaults":"^4.2.0","lodash.findwhere":"^3.1.0","lodash.flatten":"^4.4.0","lodash.omit":"^4.5.0",longjohn:"^0.2.12",request:"^2.87.0",rollup:"^2.53.2","rollup-plugin-livereload":"^2.0.5","rollup-plugin-terser":"^7.0.2","sirv-cli":"^1.0.12","tap-closer":"^1.0.0",tape:"^4.6.3"},dependencies:{accessor:"^3.0.0","add-deed-to-project":"^1.0.0","basic-browser-request":"^9.0.1",csscrown:"^1.0.0","d3-axis":"^1.0.8","d3-color":"^1.3.0","d3-ease":"^1.0.5","d3-format":"^1.2.0","d3-hierarchy":"^1.1.5","d3-interpolate":"^1.1.5","d3-queue":"^3.0.7","d3-scale":"^1.0.6","d3-selection":"^1.1.0","d3-time":"^1.0.8","d3-time-format":"^2.1.1","d3-timer":"^1.0.9","d3-zoom":"^1.7.1","get-property-safely":"^1.0.0","handle-error-web":"^1.0.1",idmaker:"^0.1.1","lodash.clonedeep":"^4.5.0","lodash.curry":"^4.1.1","lodash.groupby":"^4.6.0","lodash.pluck":"^3.1.2","lodash.throttle":"^4.1.1","lodash.uniq":"^4.5.0","lodash.values":"^4.3.0",ndjson:"^2.0.0","no-throw-json-parse":"^1.0.0","object-path-exists":"^1.0.0",probable:"^2.1.4",qs:"^6.3.0","route-state":"^1.1.2",seedrandom:"^2.4.3","standard-bail":"^2.0.1"}},qp=G,Up=function({user:t,verbose:e,routeState:r,filterCriteriaNames:n,sortCriterionName:o,groupByCriterionName:i,filterMode:a,showControls:u,commitSourceURL:c}){var l,s={filterCriteriaNames:n,sortCriterionName:o,groupByCriterionName:i,filterMode:a,showControls:u},f={},h=[],p=!1,d=0,v=0,g=_p({user:t,detailsLayerSelector:"#garden-details-layer"}),y=_p({user:t,detailsLayerSelector:"#years-details-layer"}),m={plain:yp({user:t}),garden:mp({onDeedClick:g}),year:wp({onDeedClick:y}),polyptych:jp()},b=$p({fn:function({expensiveRenderIsOK:t=!1}){if(l){Tp({outerContainerSelector:".arrangement-controls-container",showControls:"yes"===s.showControls,onShowControls:k,onHideControls:S}),Bp({containerSelector:".arrangement-controls",selectedCriteriaNames:s.filterCriteriaNames,filterMode:s.filterMode,onCriteriaControlChange:O,onCriteriaFilterModeChange:A});var e=Ip({projectData:h,filterCriteria:Pp(Np.parse(s.filterCriteriaNames)),filterMode:s.filterMode});l(Object.assign({},s,{projectData:e,expensiveRenderIsOK:t})),v+=1}}});return{start:function(){kp({request:gp,onRepo:w,onCommit:_,commitSourceURL:c},j)},changeRenderer:function({view:e,changeView:r}){var n=e||"garden";bp({currentUsername:t,activeView:n,changeView:r}),l=m[n],Mp(n),v=0,p&&b({expensiveRenderIsOK:!0})},updateOpts:function(t){for(var e in s)e in t&&(s[e]=t[e])}};function _(t,r){var n=Ap(t,"id","repoName");n.id=t.abbreviatedOid,n.projectName=t.repoName,p&&console.log("Received deed after stream end!"),e&&console.log("Received deed:",n,"from",r),n.projectName in f?Op(Sp,f,n):f[n.projectName]={name:n.projectName,deeds:[n]},d+=1,Cp(f[n.projectName],Date.now(),d%50==0),Rp({deedCount:d,projectCount:Object.keys(f).length,active:!0}),b({expensiveRenderIsOK:x()})}function w(t,r){p&&console.log("Received project after stream end!"),e&&console.log("Received project:",t,"from",r);var n=f[t.name];n&&(t.deeds?t.deeds=function(t,e){var r={};t.forEach(o),e.forEach(o);var n=xp(r);n.length<t.length&&n.length<e.length&&console.log("listA.length:",t.length,"listB.length:",e.length,"merged:",n.length);return n;function o(t){r[t.id]=t}}(t.deeds,n.deeds):t.deeds=n.deeds),Cp(t),f[t.name]=t,h=xp(f),b({expensiveRenderIsOK:x()})}function j(t){p=!0;var e=0;t?Sp(t):(console.log("Finished streaming."),console.log("project count",h),e=Dp(h),console.log("deed count",e),d!==e&&console.log("manual count and end count of deeds mismatch:",d,e),h.forEach(Cp),b({expensiveRenderIsOK:!0})),Rp({deedCount:d,projectCount:h.length,active:!1})}function x(){return v>5&&v%5==0}function A({filterMode:t}){r.addToRoute({filterMode:t,showControls:!1})}function O({criterion:t,criterionType:e,selected:n}){var o={showControls:!1};if("group-by"===e)o.groupByCriterionName=t;else if("sort"===e)o.sortCriterionName=t.name;else if("filter"===e){let e=Np.parse(s.filterCriteriaNames);n?e.push(t.name):e.splice(e.indexOf(t.name),1),o.filterCriteriaNames=Np.stringify(Ep(e))}r.addToRoute(o)}function k(){r.addToRoute({showControls:"yes"})}function S(){r.addToRoute({showControls:"no"})}},Hp=cs,{version:Vp}=zp,Gp={user:"jimkang",userEmail:"jimkang@gmail.com",verbose:!1,commitSourceURL:"https://smidgeo.com/observatory-cache/jimkang-cache.json"},Xp={view:"garden",filterMode:"some"};function Kp(t){if(function({dictToCover:t,dictToCheck:e}){for(var r in t)if(!(r in e))return!1;return!0}({dictToCover:Xp,dictToCheck:t})){var e=Object.assign({routeState:Lp},Gp,t);Fp||(Fp=Up(e)).start(),Fp.updateOpts(e),Fp.changeRenderer({view:e.view,changeView:Wp})}else Lp.addToRoute(Object.assign(Xp,t))}function Wp(t){var e={view:t};Lp.addToRoute(e)}function Yp(t,e,r,n,o){Hp(o)}return window.onerror=Yp,document.getElementById("version-info").textContent=Vp,(Lp=qp({followRoute:Kp,windowObject:window})).routeFromHash(),{}}();
//# sourceMappingURL=index.js.map
