var app=function(){"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function e(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach((function(n){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})})),e}var n={};!function(t){var e=Object.prototype.hasOwnProperty,n=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}();t.arrayToObject=function(t,e){for(var n=e&&e.plainObjects?Object.create(null):{},r=0;r<t.length;++r)void 0!==t[r]&&(n[r]=t[r]);return n},t.merge=function(n,r,o){if(!r)return n;if("object"!=typeof r){if(Array.isArray(n))n.push(r);else{if("object"!=typeof n)return[n,r];(o.plainObjects||o.allowPrototypes||!e.call(Object.prototype,r))&&(n[r]=!0)}return n}if("object"!=typeof n)return[n].concat(r);var i=n;return Array.isArray(n)&&!Array.isArray(r)&&(i=t.arrayToObject(n,o)),Array.isArray(n)&&Array.isArray(r)?(r.forEach((function(r,i){e.call(n,i)?n[i]&&"object"==typeof n[i]?n[i]=t.merge(n[i],r,o):n.push(r):n[i]=r})),n):Object.keys(r).reduce((function(n,i){var a=r[i];return e.call(n,i)?n[i]=t.merge(n[i],a,o):n[i]=a,n}),i)},t.assign=function(t,e){return Object.keys(e).reduce((function(t,n){return t[n]=e[n],t}),t)},t.decode=function(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(e){return t}},t.encode=function(t){if(0===t.length)return t;for(var e="string"==typeof t?t:String(t),r="",o=0;o<e.length;++o){var i=e.charCodeAt(o);45===i||46===i||95===i||126===i||i>=48&&i<=57||i>=65&&i<=90||i>=97&&i<=122?r+=e.charAt(o):i<128?r+=n[i]:i<2048?r+=n[192|i>>6]+n[128|63&i]:i<55296||i>=57344?r+=n[224|i>>12]+n[128|i>>6&63]+n[128|63&i]:(o+=1,i=65536+((1023&i)<<10|1023&e.charCodeAt(o)),r+=n[240|i>>18]+n[128|i>>12&63]+n[128|i>>6&63]+n[128|63&i])}return r},t.compact=function(e,n){if("object"!=typeof e||null===e)return e;var r=n||[],o=r.indexOf(e);if(-1!==o)return r[o];if(r.push(e),Array.isArray(e)){for(var i=[],a=0;a<e.length;++a)e[a]&&"object"==typeof e[a]?i.push(t.compact(e[a],r)):void 0!==e[a]&&i.push(e[a]);return i}return Object.keys(e).forEach((function(n){e[n]=t.compact(e[n],r)})),e},t.isRegExp=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},t.isBuffer=function(t){return null!=t&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}}(n);var r=String.prototype.replace,o=/%20/g,i={default:"RFC3986",formatters:{RFC1738:function(t){return r.call(t,o,"+")},RFC3986:function(t){return t}},RFC1738:"RFC1738",RFC3986:"RFC3986"},a=n,u=i,c={brackets:function(t){return t+"[]"},indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},l=Date.prototype.toISOString,s={delimiter:"&",encode:!0,encoder:a.encode,encodeValuesOnly:!1,serializeDate:function(t){return l.call(t)},skipNulls:!1,strictNullHandling:!1},f=function t(e,n,r,o,i,u,c,l,f,h,p,d){var v=e;if("function"==typeof c)v=c(n,v);else if(v instanceof Date)v=h(v);else if(null===v){if(o)return u&&!d?u(n,s.encoder):n;v=""}if("string"==typeof v||"number"==typeof v||"boolean"==typeof v||a.isBuffer(v))return u?[p(d?n:u(n,s.encoder))+"="+p(u(v,s.encoder))]:[p(n)+"="+p(String(v))];var y,g=[];if(void 0===v)return g;if(Array.isArray(c))y=c;else{var m=Object.keys(v);y=l?m.sort(l):m}for(var b=0;b<y.length;++b){var _=y[b];i&&null===v[_]||(g=Array.isArray(v)?g.concat(t(v[_],r(n,_),r,o,i,u,c,l,f,h,p,d)):g.concat(t(v[_],n+(f?"."+_:"["+_+"]"),r,o,i,u,c,l,f,h,p,d)))}return g},h=n,p=Object.prototype.hasOwnProperty,d={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:h.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},v=function(t,e,n){if(!t.length)return e;var r,o=t.shift();if("[]"===o)r=(r=[]).concat(v(t,e,n));else{r=n.plainObjects?Object.create(null):{};var i="["===o.charAt(0)&&"]"===o.charAt(o.length-1)?o.slice(1,-1):o,a=parseInt(i,10);!isNaN(a)&&o!==i&&String(a)===i&&a>=0&&n.parseArrays&&a<=n.arrayLimit?(r=[])[a]=v(t,e,n):r[i]=v(t,e,n)}return r},y=function(t,e,n){if(t){var r=n.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,o=/(\[[^[\]]*])/g,i=/(\[[^[\]]*])/.exec(r),a=i?r.slice(0,i.index):r,u=[];if(a){if(!n.plainObjects&&p.call(Object.prototype,a)&&!n.allowPrototypes)return;u.push(a)}for(var c=0;null!==(i=o.exec(r))&&c<n.depth;){if(c+=1,!n.plainObjects&&p.call(Object.prototype,i[1].slice(1,-1))&&!n.allowPrototypes)return;u.push(i[1])}return i&&u.push("["+r.slice(i.index)+"]"),v(u,e,n)}},g={formats:i,parse:function(t,e){var n=e?h.assign({},e):{};if(null!==n.decoder&&void 0!==n.decoder&&"function"!=typeof n.decoder)throw new TypeError("Decoder has to be a function.");if(n.ignoreQueryPrefix=!0===n.ignoreQueryPrefix,n.delimiter="string"==typeof n.delimiter||h.isRegExp(n.delimiter)?n.delimiter:d.delimiter,n.depth="number"==typeof n.depth?n.depth:d.depth,n.arrayLimit="number"==typeof n.arrayLimit?n.arrayLimit:d.arrayLimit,n.parseArrays=!1!==n.parseArrays,n.decoder="function"==typeof n.decoder?n.decoder:d.decoder,n.allowDots="boolean"==typeof n.allowDots?n.allowDots:d.allowDots,n.plainObjects="boolean"==typeof n.plainObjects?n.plainObjects:d.plainObjects,n.allowPrototypes="boolean"==typeof n.allowPrototypes?n.allowPrototypes:d.allowPrototypes,n.parameterLimit="number"==typeof n.parameterLimit?n.parameterLimit:d.parameterLimit,n.strictNullHandling="boolean"==typeof n.strictNullHandling?n.strictNullHandling:d.strictNullHandling,""===t||null==t)return n.plainObjects?Object.create(null):{};for(var r="string"==typeof t?function(t,e){for(var n={},r=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,o=e.parameterLimit===1/0?void 0:e.parameterLimit,i=r.split(e.delimiter,o),a=0;a<i.length;++a){var u,c,l=i[a],s=l.indexOf("]="),f=-1===s?l.indexOf("="):s+1;-1===f?(u=e.decoder(l,d.decoder),c=e.strictNullHandling?null:""):(u=e.decoder(l.slice(0,f),d.decoder),c=e.decoder(l.slice(f+1),d.decoder)),p.call(n,u)?n[u]=[].concat(n[u]).concat(c):n[u]=c}return n}(t,n):t,o=n.plainObjects?Object.create(null):{},i=Object.keys(r),a=0;a<i.length;++a){var u=i[a],c=y(u,r[u],n);o=h.merge(o,c,n)}return h.compact(o)},stringify:function(t,e){var n=t,r=e?a.assign({},e):{};if(null!==r.encoder&&void 0!==r.encoder&&"function"!=typeof r.encoder)throw new TypeError("Encoder has to be a function.");var o=void 0===r.delimiter?s.delimiter:r.delimiter,i="boolean"==typeof r.strictNullHandling?r.strictNullHandling:s.strictNullHandling,l="boolean"==typeof r.skipNulls?r.skipNulls:s.skipNulls,h="boolean"==typeof r.encode?r.encode:s.encode,p="function"==typeof r.encoder?r.encoder:s.encoder,d="function"==typeof r.sort?r.sort:null,v=void 0!==r.allowDots&&r.allowDots,y="function"==typeof r.serializeDate?r.serializeDate:s.serializeDate,g="boolean"==typeof r.encodeValuesOnly?r.encodeValuesOnly:s.encodeValuesOnly;if(void 0===r.format)r.format=u.default;else if(!Object.prototype.hasOwnProperty.call(u.formatters,r.format))throw new TypeError("Unknown format option provided.");var m,b,_=u.formatters[r.format];"function"==typeof r.filter?n=(b=r.filter)("",n):Array.isArray(r.filter)&&(m=b=r.filter);var w,j=[];if("object"!=typeof n||null===n)return"";w=r.arrayFormat in c?r.arrayFormat:"indices"in r?r.indices?"indices":"repeat":"indices";var x=c[w];m||(m=Object.keys(n)),d&&m.sort(d);for(var A=0;A<m.length;++A){var O=m[A];l&&null===n[O]||(j=j.concat(f(n[O],O,x,i,l,h?p:null,b,d,v,y,_,g)))}var S=j.join(o),k=!0===r.addQueryPrefix?"?":"";return S.length>0?k+S:""}},m={exports:{}};!function(e,n){var r="__lodash_hash_undefined__",o=9007199254740991,i="[object Arguments]",a="[object Boolean]",u="[object Date]",c="[object Function]",l="[object GeneratorFunction]",s="[object Map]",f="[object Number]",h="[object Object]",p="[object Promise]",d="[object RegExp]",v="[object Set]",y="[object String]",g="[object Symbol]",m="[object WeakMap]",b="[object ArrayBuffer]",_="[object DataView]",w="[object Float32Array]",j="[object Float64Array]",x="[object Int8Array]",A="[object Int16Array]",O="[object Int32Array]",S="[object Uint8Array]",k="[object Uint8ClampedArray]",D="[object Uint16Array]",M="[object Uint32Array]",C=/\w*$/,E=/^\[object .+?Constructor\]$/,N=/^(?:0|[1-9]\d*)$/,R={};R[i]=R["[object Array]"]=R[b]=R[_]=R[a]=R[u]=R[w]=R[j]=R[x]=R[A]=R[O]=R[s]=R[f]=R[h]=R[d]=R[v]=R[y]=R[g]=R[S]=R[k]=R[D]=R[M]=!0,R["[object Error]"]=R[c]=R[m]=!1;var I="object"==typeof t&&t&&t.Object===Object&&t,P="object"==typeof self&&self&&self.Object===Object&&self,$=I||P||Function("return this")(),B=n&&!n.nodeType&&n,T=B&&e&&!e.nodeType&&e,L=T&&T.exports===B;function F(t,e){return t.set(e[0],e[1]),t}function z(t,e){return t.add(e),t}function q(t,e,n,r){var o=-1,i=t?t.length:0;for(r&&i&&(n=t[++o]);++o<i;)n=e(n,t[o],o,t);return n}function U(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function H(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function V(t,e){return function(n){return t(e(n))}}function G(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var X,K=Array.prototype,W=Function.prototype,Y=Object.prototype,Q=$["__core-js_shared__"],J=(X=/[^.]+$/.exec(Q&&Q.keys&&Q.keys.IE_PROTO||""))?"Symbol(src)_1."+X:"",Z=W.toString,tt=Y.hasOwnProperty,et=Y.toString,nt=RegExp("^"+Z.call(tt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),rt=L?$.Buffer:void 0,ot=$.Symbol,it=$.Uint8Array,at=V(Object.getPrototypeOf,Object),ut=Object.create,ct=Y.propertyIsEnumerable,lt=K.splice,st=Object.getOwnPropertySymbols,ft=rt?rt.isBuffer:void 0,ht=V(Object.keys,Object),pt=Tt($,"DataView"),dt=Tt($,"Map"),vt=Tt($,"Promise"),yt=Tt($,"Set"),gt=Tt($,"WeakMap"),mt=Tt(Object,"create"),bt=Ut(pt),_t=Ut(dt),wt=Ut(vt),jt=Ut(yt),xt=Ut(gt),At=ot?ot.prototype:void 0,Ot=At?At.valueOf:void 0;function St(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function kt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Dt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Mt(t){this.__data__=new kt(t)}function Ct(t,e){var n=Vt(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&Gt(t)}(t)&&tt.call(t,"callee")&&(!ct.call(t,"callee")||et.call(t)==i)}(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],r=n.length,o=!!r;for(var a in t)!e&&!tt.call(t,a)||o&&("length"==a||zt(a,r))||n.push(a);return n}function Et(t,e,n){var r=t[e];tt.call(t,e)&&Ht(r,n)&&(void 0!==n||e in t)||(t[e]=n)}function Nt(t,e){for(var n=t.length;n--;)if(Ht(t[n][0],e))return n;return-1}function Rt(t,e,n,r,o,p,m){var E;if(r&&(E=p?r(t,o,p,m):r(t)),void 0!==E)return E;if(!Wt(t))return t;var N=Vt(t);if(N){if(E=function(t){var e=t.length,n=t.constructor(e);e&&"string"==typeof t[0]&&tt.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!e)return function(t,e){var n=-1,r=t.length;e||(e=Array(r));for(;++n<r;)e[n]=t[n];return e}(t,E)}else{var I=Ft(t),P=I==c||I==l;if(Xt(t))return function(t,e){if(e)return t.slice();var n=new t.constructor(t.length);return t.copy(n),n}(t,e);if(I==h||I==i||P&&!p){if(U(t))return p?t:{};if(E=function(t){return"function"!=typeof t.constructor||qt(t)?{}:(e=at(t),Wt(e)?ut(e):{});var e}(P?{}:t),!e)return function(t,e){return $t(t,Lt(t),e)}(t,function(t,e){return t&&$t(e,Yt(e),t)}(E,t))}else{if(!R[I])return p?t:{};E=function(t,e,n,r){var o=t.constructor;switch(e){case b:return Pt(t);case a:case u:return new o(+t);case _:return function(t,e){var n=e?Pt(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,r);case w:case j:case x:case A:case O:case S:case k:case D:case M:return function(t,e){var n=e?Pt(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}(t,r);case s:return function(t,e,n){return q(e?n(H(t),!0):H(t),F,new t.constructor)}(t,r,n);case f:case y:return new o(t);case d:return function(t){var e=new t.constructor(t.source,C.exec(t));return e.lastIndex=t.lastIndex,e}(t);case v:return function(t,e,n){return q(e?n(G(t),!0):G(t),z,new t.constructor)}(t,r,n);case g:return i=t,Ot?Object(Ot.call(i)):{}}var i}(t,I,Rt,e)}}m||(m=new Mt);var $=m.get(t);if($)return $;if(m.set(t,E),!N)var B=n?function(t){return function(t,e,n){var r=e(t);return Vt(t)?r:function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}(r,n(t))}(t,Yt,Lt)}(t):Yt(t);return function(t,e){for(var n=-1,r=t?t.length:0;++n<r&&!1!==e(t[n],n,t););}(B||t,(function(o,i){B&&(o=t[i=o]),Et(E,i,Rt(o,e,n,r,i,t,m))})),E}function It(t){return!(!Wt(t)||(e=t,J&&J in e))&&(Kt(t)||U(t)?nt:E).test(Ut(t));var e}function Pt(t){var e=new t.constructor(t.byteLength);return new it(e).set(new it(t)),e}function $t(t,e,n,r){n||(n={});for(var o=-1,i=e.length;++o<i;){var a=e[o],u=r?r(n[a],t[a],a,n,t):void 0;Et(n,a,void 0===u?t[a]:u)}return n}function Bt(t,e){var n,r,o=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map}function Tt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return It(n)?n:void 0}St.prototype.clear=function(){this.__data__=mt?mt(null):{}},St.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},St.prototype.get=function(t){var e=this.__data__;if(mt){var n=e[t];return n===r?void 0:n}return tt.call(e,t)?e[t]:void 0},St.prototype.has=function(t){var e=this.__data__;return mt?void 0!==e[t]:tt.call(e,t)},St.prototype.set=function(t,e){return this.__data__[t]=mt&&void 0===e?r:e,this},kt.prototype.clear=function(){this.__data__=[]},kt.prototype.delete=function(t){var e=this.__data__,n=Nt(e,t);return!(n<0)&&(n==e.length-1?e.pop():lt.call(e,n,1),!0)},kt.prototype.get=function(t){var e=this.__data__,n=Nt(e,t);return n<0?void 0:e[n][1]},kt.prototype.has=function(t){return Nt(this.__data__,t)>-1},kt.prototype.set=function(t,e){var n=this.__data__,r=Nt(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},Dt.prototype.clear=function(){this.__data__={hash:new St,map:new(dt||kt),string:new St}},Dt.prototype.delete=function(t){return Bt(this,t).delete(t)},Dt.prototype.get=function(t){return Bt(this,t).get(t)},Dt.prototype.has=function(t){return Bt(this,t).has(t)},Dt.prototype.set=function(t,e){return Bt(this,t).set(t,e),this},Mt.prototype.clear=function(){this.__data__=new kt},Mt.prototype.delete=function(t){return this.__data__.delete(t)},Mt.prototype.get=function(t){return this.__data__.get(t)},Mt.prototype.has=function(t){return this.__data__.has(t)},Mt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof kt){var r=n.__data__;if(!dt||r.length<199)return r.push([t,e]),this;n=this.__data__=new Dt(r)}return n.set(t,e),this};var Lt=st?V(st,Object):function(){return[]},Ft=function(t){return et.call(t)};function zt(t,e){return!!(e=null==e?o:e)&&("number"==typeof t||N.test(t))&&t>-1&&t%1==0&&t<e}function qt(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Y)}function Ut(t){if(null!=t){try{return Z.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Ht(t,e){return t===e||t!=t&&e!=e}(pt&&Ft(new pt(new ArrayBuffer(1)))!=_||dt&&Ft(new dt)!=s||vt&&Ft(vt.resolve())!=p||yt&&Ft(new yt)!=v||gt&&Ft(new gt)!=m)&&(Ft=function(t){var e=et.call(t),n=e==h?t.constructor:void 0,r=n?Ut(n):void 0;if(r)switch(r){case bt:return _;case _t:return s;case wt:return p;case jt:return v;case xt:return m}return e});var Vt=Array.isArray;function Gt(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=o}(t.length)&&!Kt(t)}var Xt=ft||function(){return!1};function Kt(t){var e=Wt(t)?et.call(t):"";return e==c||e==l}function Wt(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Yt(t){return Gt(t)?Ct(t):function(t){if(!qt(t))return ht(t);var e=[];for(var n in Object(t))tt.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)}e.exports=function(t){return Rt(t,!0,!0)}}(m,m.exports);var b=9007199254740991,_="[object Arguments]",w="[object Function]",j="[object GeneratorFunction]",x=/^(?:0|[1-9]\d*)$/;function A(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var O=Object.prototype,S=O.hasOwnProperty,k=O.toString,D=O.propertyIsEnumerable,M=Math.max;function C(t,e){var n=B(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&T(t)}(t)&&S.call(t,"callee")&&(!D.call(t,"callee")||k.call(t)==_)}(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],r=n.length,o=!!r;for(var i in t)!e&&!S.call(t,i)||o&&("length"==i||P(i,r))||n.push(i);return n}function E(t,e,n,r){return void 0===t||$(t,O[n])&&!S.call(r,n)?e:t}function N(t,e,n){var r=t[e];S.call(t,e)&&$(r,n)&&(void 0!==n||e in t)||(t[e]=n)}function R(t){if(!L(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e,n,r,o=(n=(e=t)&&e.constructor,r="function"==typeof n&&n.prototype||O,e===r),i=[];for(var a in t)("constructor"!=a||!o&&S.call(t,a))&&i.push(a);return i}function I(t,e){return e=M(void 0===e?t.length-1:e,0),function(){for(var n=arguments,r=-1,o=M(n.length-e,0),i=Array(o);++r<o;)i[r]=n[e+r];r=-1;for(var a=Array(e+1);++r<e;)a[r]=n[r];return a[e]=i,A(t,this,a)}}function P(t,e){return!!(e=null==e?b:e)&&("number"==typeof t||x.test(t))&&t>-1&&t%1==0&&t<e}function $(t,e){return t===e||t!=t&&e!=e}var B=Array.isArray;function T(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=b}(t.length)&&!function(t){var e=L(t)?k.call(t):"";return e==w||e==j}(t)}function L(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var F,z=(F=function(t,e,n,r){!function(t,e,n,r){n||(n={});for(var o=-1,i=e.length;++o<i;){var a=e[o],u=r?r(n[a],t[a],a,n,t):void 0;N(n,a,void 0===u?t[a]:u)}}(e,function(t){return T(t)?C(t,!0):R(t)}(e),t,r)},I((function(t,e){var n=-1,r=e.length,o=r>1?e[r-1]:void 0,i=r>2?e[2]:void 0;for(o=F.length>3&&"function"==typeof o?(r--,o):void 0,i&&function(t,e,n){if(!L(n))return!1;var r=typeof e;return!!("number"==r?T(n)&&P(e,n.length):"string"==r&&e in n)&&$(n[e],t)}(e[0],e[1],i)&&(o=r<3?void 0:o,r=1),t=Object(t);++n<r;){var a=e[n];a&&F(t,a,n,o)}return t}))),q=I((function(t){return t.push(void 0,E),A(z,void 0,t)}));var U=g,H=m.exports,V=q;var G=function(t){var e,n;return t&&(e=t.followRoute,n=t.windowObject),n.onhashchange=r,{addToRoute:function(t){var n=V(H(t),o());i(n),e(n)},overwriteRouteEntirely:function(t){i(t),e(t)},routeFromHash:r,unpackEncodedRoute:function(t){var n=U.parse(decodeURIComponent(t));i(n),e(n)}};function r(){e(o())}function o(){return U.parse(n.location.hash.slice(1))}function i(t){var e=n.location.protocol+"//"+n.location.host+n.location.pathname+"#"+U.stringify(t);n.history.pushState(null,null,e)}},X={exports:{}};X.exports={makeRequest:function(t,e){var n=t.json||"application/json"===t.mimeType,r=new XMLHttpRequest;if(r.open(t.method,t.url),t.mimeType&&r.setRequestHeader("content-type",t.mimeType),n&&r.setRequestHeader("accept","application/json"),"object"==typeof t.headers)for(var o in t.headers)r.setRequestHeader(o,t.headers[o]);t.binary&&(r.responseType="arraybuffer"),n&&"object"==typeof t.body&&(t.body=JSON.stringify(t.body));var i=null;r.onload=function(){clearTimeout(i),t.onData&&c();var o={statusCode:this.status,statusMessage:r.statusText,responseURL:r.responseURL,rawResponse:r.response,xhr:r};if(t.binary)e(null,o,r.response);else{var a=this.responseText;if(n)try{a=JSON.parse(a)}catch(t){o.jsonParseError=t}e(null,o,a)}};var a=0;function u(){r.abort(),clearTimeout(i),e()}function c(){r.responseText&&(t.onData(r.responseText.substr(a)),a=r.responseText.length)}return t.onData&&(r.onreadystatechange=function(){3===r.readyState&&c()}),r.onerror=function(){var t=new Error("There is a problem with the network.");t.name="XHR network error",e(t)},r.send(t.formData||t.body),t.timeLimit>0&&(i=setTimeout(u,t.timeLimit)),{url:t.url,cancelRequest:u}}}.makeRequest;var K="http://www.w3.org/1999/xhtml",W={svg:"http://www.w3.org/2000/svg",xhtml:K,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Y(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),W.hasOwnProperty(e)?{space:W[e],local:t}:t}function Q(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===K&&e.documentElement.namespaceURI===K?e.createElement(t):e.createElementNS(n,t)}}function J(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Z(t){var e=Y(t);return(e.local?J:Q)(e)}var tt=0;function et(){return new nt}function nt(){this._="@"+(++tt).toString(36)}nt.prototype=et.prototype={constructor:nt,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var rt=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var ot=document.documentElement;if(!ot.matches){var it=ot.webkitMatchesSelector||ot.msMatchesSelector||ot.mozMatchesSelector||ot.oMatchesSelector;rt=function(t){return function(){return it.call(this,t)}}}}var at=rt,ut={},ct=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(ut={mouseenter:"mouseover",mouseleave:"mouseout"}));function lt(t,e,n){return t=st(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function st(t,e,n){return function(r){var o=ct;ct=r;try{t.call(this,this.__data__,e,n)}finally{ct=o}}}function ft(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function ht(t){return function(){var e=this.__on;if(e){for(var n,r=0,o=-1,i=e.length;r<i;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++o]=n:this.removeEventListener(n.type,n.listener,n.capture);++o?e.length=o:delete this.__on}}}function pt(t,e,n){var r=ut.hasOwnProperty(t.type)?lt:st;return function(o,i,a){var u,c=this.__on,l=r(e,i,a);if(c)for(var s=0,f=c.length;s<f;++s)if((u=c[s]).type===t.type&&u.name===t.name)return this.removeEventListener(u.type,u.listener,u.capture),this.addEventListener(u.type,u.listener=l,u.capture=n),void(u.value=e);this.addEventListener(t.type,l,n),u={type:t.type,name:t.name,value:e,listener:l,capture:n},c?c.push(u):this.__on=[u]}}function dt(){for(var t,e=ct;t=e.sourceEvent;)e=t;return e}function vt(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}function yt(){}function gt(t){return null==t?yt:function(){return this.querySelector(t)}}function mt(){return[]}function bt(t){return null==t?mt:function(){return this.querySelectorAll(t)}}function _t(t){return new Array(t.length)}function wt(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}wt.prototype={constructor:wt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function jt(t,e,n,r,o,i){for(var a,u=0,c=e.length,l=i.length;u<l;++u)(a=e[u])?(a.__data__=i[u],r[u]=a):n[u]=new wt(t,i[u]);for(;u<c;++u)(a=e[u])&&(o[u]=a)}function xt(t,e,n,r,o,i,a){var u,c,l,s={},f=e.length,h=i.length,p=new Array(f);for(u=0;u<f;++u)(c=e[u])&&(p[u]=l="$"+a.call(c,c.__data__,u,e),l in s?o[u]=c:s[l]=c);for(u=0;u<h;++u)(c=s[l="$"+a.call(t,i[u],u,i)])?(r[u]=c,c.__data__=i[u],s[l]=null):n[u]=new wt(t,i[u]);for(u=0;u<f;++u)(c=e[u])&&s[p[u]]===c&&(o[u]=c)}function At(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Ot(t){return function(){this.removeAttribute(t)}}function St(t){return function(){this.removeAttributeNS(t.space,t.local)}}function kt(t,e){return function(){this.setAttribute(t,e)}}function Dt(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Mt(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function Ct(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Et(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Nt(t){return function(){this.style.removeProperty(t)}}function Rt(t,e,n){return function(){this.style.setProperty(t,e,n)}}function It(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Pt(t,e){return t.style.getPropertyValue(e)||Et(t).getComputedStyle(t,null).getPropertyValue(e)}function $t(t){return function(){delete this[t]}}function Bt(t,e){return function(){this[t]=e}}function Tt(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function Lt(t){return t.trim().split(/^|\s+/)}function Ft(t){return t.classList||new zt(t)}function zt(t){this._node=t,this._names=Lt(t.getAttribute("class")||"")}function qt(t,e){for(var n=Ft(t),r=-1,o=e.length;++r<o;)n.add(e[r])}function Ut(t,e){for(var n=Ft(t),r=-1,o=e.length;++r<o;)n.remove(e[r])}function Ht(t){return function(){qt(this,t)}}function Vt(t){return function(){Ut(this,t)}}function Gt(t,e){return function(){(e.apply(this,arguments)?qt:Ut)(this,t)}}function Xt(){this.textContent=""}function Kt(t){return function(){this.textContent=t}}function Wt(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function Yt(){this.innerHTML=""}function Qt(t){return function(){this.innerHTML=t}}function Jt(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function Zt(){this.nextSibling&&this.parentNode.appendChild(this)}function te(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ee(){return null}function ne(){var t=this.parentNode;t&&t.removeChild(this)}function re(t,e,n){var r=Et(t),o=r.CustomEvent;"function"==typeof o?o=new o(e,n):(o=r.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function oe(t,e){return function(){return re(this,t,e)}}function ie(t,e){return function(){return re(this,t,e.apply(this,arguments))}}zt.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var ae=[null];function ue(t,e){this._groups=t,this._parents=e}function ce(){return new ue([[document.documentElement]],ae)}ue.prototype=ce.prototype={constructor:ue,select:function(t){"function"!=typeof t&&(t=gt(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i,a,u=e[o],c=u.length,l=r[o]=new Array(c),s=0;s<c;++s)(i=u[s])&&(a=t.call(i,i.__data__,s,u))&&("__data__"in i&&(a.__data__=i.__data__),l[s]=a);return new ue(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=bt(t));for(var e=this._groups,n=e.length,r=[],o=[],i=0;i<n;++i)for(var a,u=e[i],c=u.length,l=0;l<c;++l)(a=u[l])&&(r.push(t.call(a,a.__data__,l,u)),o.push(a));return new ue(r,o)},filter:function(t){"function"!=typeof t&&(t=at(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i,a=e[o],u=a.length,c=r[o]=[],l=0;l<u;++l)(i=a[l])&&t.call(i,i.__data__,l,a)&&c.push(i);return new ue(r,this._parents)},data:function(t,e){if(!t)return d=new Array(this.size()),s=-1,this.each((function(t){d[++s]=t})),d;var n,r=e?xt:jt,o=this._parents,i=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var a=i.length,u=new Array(a),c=new Array(a),l=new Array(a),s=0;s<a;++s){var f=o[s],h=i[s],p=h.length,d=t.call(f,f&&f.__data__,s,o),v=d.length,y=c[s]=new Array(v),g=u[s]=new Array(v);r(f,h,y,g,l[s]=new Array(p),d,e);for(var m,b,_=0,w=0;_<v;++_)if(m=y[_]){for(_>=w&&(w=_+1);!(b=g[w])&&++w<v;);m._next=b||null}}return(u=new ue(u,o))._enter=c,u._exit=l,u},enter:function(){return new ue(this._enter||this._groups.map(_t),this._parents)},exit:function(){return new ue(this._exit||this._groups.map(_t),this._parents)},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,o=n.length,i=Math.min(r,o),a=new Array(r),u=0;u<i;++u)for(var c,l=e[u],s=n[u],f=l.length,h=a[u]=new Array(f),p=0;p<f;++p)(c=l[p]||s[p])&&(h[p]=c);for(;u<r;++u)a[u]=e[u];return new ue(a,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,o=t[e],i=o.length-1,a=o[i];--i>=0;)(r=o[i])&&(a&&a!==r.nextSibling&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=At);for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var a,u=n[i],c=u.length,l=o[i]=new Array(c),s=0;s<c;++s)(a=u[s])&&(l[s]=a);l.sort(e)}return new ue(o,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],o=0,i=r.length;o<i;++o){var a=r[o];if(a)return a}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var o,i=e[n],a=0,u=i.length;a<u;++a)(o=i[a])&&t.call(o,o.__data__,a,i);return this},attr:function(t,e){var n=Y(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?St:Ot:"function"==typeof e?n.local?Ct:Mt:n.local?Dt:kt)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?Nt:"function"==typeof e?It:Rt)(t,e,null==n?"":n)):Pt(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?$t:"function"==typeof e?Tt:Bt)(t,e)):this.node()[t]},classed:function(t,e){var n=Lt(t+"");if(arguments.length<2){for(var r=Ft(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each(("function"==typeof e?Gt:e?Ht:Vt)(n,e))},text:function(t){return arguments.length?this.each(null==t?Xt:("function"==typeof t?Wt:Kt)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Yt:("function"==typeof t?Jt:Qt)(t)):this.node().innerHTML},raise:function(){return this.each(Zt)},lower:function(){return this.each(te)},append:function(t){var e="function"==typeof t?t:Z(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:Z(t),r=null==e?ee:"function"==typeof e?e:gt(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(ne)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,o,i=ft(t+""),a=i.length;if(!(arguments.length<2)){for(u=e?pt:ht,null==n&&(n=!1),r=0;r<a;++r)this.each(u(i[r],e,n));return this}var u=this.node().__on;if(u)for(var c,l=0,s=u.length;l<s;++l)for(r=0,c=u[l];r<a;++r)if((o=i[r]).type===c.type&&o.name===c.name)return c.value},dispatch:function(t,e){return this.each(("function"==typeof e?ie:oe)(t,e))}};var le=e(Object.freeze({__proto__:null,creator:Z,local:et,matcher:at,mouse:function(t){var e=dt();return e.changedTouches&&(e=e.changedTouches[0]),vt(t,e)},namespace:Y,namespaces:W,select:function(t){return"string"==typeof t?new ue([[document.querySelector(t)]],[document.documentElement]):new ue([[t]],ae)},selectAll:function(t){return"string"==typeof t?new ue([document.querySelectorAll(t)],[document.documentElement]):new ue([null==t?[]:t],ae)},selection:ce,selector:gt,selectorAll:bt,style:Pt,touch:function(t,e,n){arguments.length<3&&(n=e,e=dt().changedTouches);for(var r,o=0,i=e?e.length:0;o<i;++o)if((r=e[o]).identifier===n)return vt(t,r);return null},touches:function(t,e){null==e&&(e=dt().touches);for(var n=0,r=e?e.length:0,o=new Array(r);n<r;++n)o[n]=vt(t,e[n]);return o},window:Et,get event(){return ct},customEvent:function(t,e,n,r){var o=ct;t.sourceEvent=ct,ct=t;try{return e.apply(n,r)}finally{ct=o}}}));var se=function(t,e){var n=t;if(e.every((function(t){return n=n[t]}),!0))return n};function fe(t){return t}var he=function(t,e){var n="id";if(t){if("identity"===t)return fe;n="string"==typeof t?t:"object"==typeof t&&"string"==typeof t.path?t.path.split("/"):""+t}return function(t,e){return n;function n(n){if("object"==typeof n){var o=r(n,t);return void 0===o?e:o}return e}function r(t,e){return"string"==typeof e?t[e]:Array.isArray(e)?se(t,e):void 0}}(n,e)};var pe=function(t,e){return function(n){return n&&n[t]?n[t]:e}},de=he;function ve(t){var e=new Date(t);return e.toLocaleDateString()+", "+e.toLocaleTimeString()}var ye=function({parent:t,deed:e,project:n,user:r}){var o=t.select(".project-details"),i=o.select(".name-link"),a=o.select(".date.started"),u=o.select(".date.last-active"),c=o.select(".description"),l=o.select(".link-list"),s=t.select(".deed-details"),f=s.select(".name"),h=s.select(".date-link");i.text(n.name),i.attr("href",function(t,e){return`https://github.com/${t}/${e.name}`}(r,n)),n.startDate&&a.text(ve(n.startDate)),n.lastActiveDate&&u.text(ve(n.lastActiveDate));var p=n.links||[];n.metalinks&&(p=p.concat(n.metalinks)),function(t){var e=l.selectAll("li").data(t);e.exit().remove();var n=e.enter().append("li");n.append("a").attr("target","_blank"),n.merge(e).select("a").attr("href",de("0")).text(de("1"))}(p),c.text(n.description),s.classed("hidden",!e),e&&(f.text(e.message),h.text(ve(e.committedDate)),h.attr("href",function(t,e,n){return`https://github.com/${t}/${e.name}/commit/${n.abbreviatedOid}`}(r,n,e)))};function ge(t){var e=0;return"featured"===t.featuredStatus&&(e+=1e5),isNaN(t.importance)||(e+=10*t.importance),e}var me={compareLastUpdatedDesc:function(t,e){return new Date(t.pushedAt)>new Date(e.pushedAt)?-1:1},compareActivityGroupStartDateDesc:function(t,e){return new Date(t.startDate)>new Date(e.startDate)?-1:1},compareActivityGroupStartDateAsc:function(t,e){return t.startDate?e.startDate?new Date(t.startDate)<new Date(e.startDate)?-1:1:(console.log(e.name,"has no startDate"),1):(console.log(t.name,"has no startDate"),1)},compareDesc:function(t,e){return t<e?1:-1},compareDescWithSortKey:function(t,e,n){return e[t]<n[t]?1:-1},compareByDeedCountAsc:function(t,e){return t.deeds&&e.deeds&&t.deeds.length<e.deeds.length?-1:1},compareDescForPolyptych:function(t,e){const n=ge(t),r=ge(e);return n===r?t.shippedDate<e.shippedDate?1:-1:n>r?-1:1}},be=le,_e=he,we=pe,je=ye,xe=me;var Ae=_e(),Oe=_e("message"),Se=be.select("#basic-project-list"),ke=we("deeds",[]);function De(){var t=be.select(function(t){var e=t;for(;!e.classList.contains("project")&&e.parentNode;)e=e.parentNode;return e}(this)).select(".deeds-root");t.classed("hidden",!t.classed("hidden"))}var Me=function({user:t}){return function({projectData:n}){n.sort(xe.compareLastUpdatedDesc);var r=Se.selectAll(".project").data(n,_e());r.exit().remove();var o=r.enter().append("li").classed("project",!0);o.append("div").classed("project-description",!0).on("click",De).html('<div class="project-details">\n      <a class="name-link" target="_blank"></a>\n      <div>Last updated: <span class="date last-active"></span></div>\n      <div class="description"></div>\n      <div class="show-deeds">Deeds</div>\n    </div>\n  </div>\n'),o.append("ul").classed("deeds-root",!0).classed("hidden",!0);var i=o.merge(r);i.each((function(e){je({parent:be.select(this).select(".project-description"),project:e,user:t})}));var a=i.select(".deeds-root").selectAll(".deed").data(ke,Ae),u=a.enter().append("li").classed("deed",!0);u.append("a").classed("deed-name",!0).attr("href",e).attr("target","_blank"),u.merge(a).select(".deed-name").text(Oe)};function e(e){return`https://github.com/${t}/${e.projectName}/commit/${e.abbreviatedOid}`}};function Ce(t,e){return t.parent===e.parent?1:2}function Ee(t,e){return t+e.x}function Ne(t,e){return Math.max(t,e.y)}function Re(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;--r>=0;)e+=n[r].value;else e=1;t.value=e}function Ie(t,e){var n,r,o,i,a,u=new Te(t),c=+t.value&&(u.value=t.value),l=[u];for(null==e&&(e=Pe);n=l.pop();)if(c&&(n.value=+n.data.value),(o=e(n.data))&&(a=o.length))for(n.children=new Array(a),i=a-1;i>=0;--i)l.push(r=n.children[i]=new Te(o[i])),r.parent=n,r.depth=n.depth+1;return u.eachBefore(Be)}function Pe(t){return t.children}function $e(t){t.data=t.data.data}function Be(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function Te(t){this.data=t,this.depth=this.height=0,this.parent=null}Te.prototype=Ie.prototype={constructor:Te,count:function(){return this.eachAfter(Re)},each:function(t){var e,n,r,o,i=this,a=[i];do{for(e=a.reverse(),a=[];i=e.pop();)if(t(i),n=i.children)for(r=0,o=n.length;r<o;++r)a.push(n[r])}while(a.length);return this},eachAfter:function(t){for(var e,n,r,o=this,i=[o],a=[];o=i.pop();)if(a.push(o),e=o.children)for(n=0,r=e.length;n<r;++n)i.push(e[n]);for(;o=a.pop();)t(o);return this},eachBefore:function(t){for(var e,n,r=this,o=[r];r=o.pop();)if(t(r),e=r.children)for(n=e.length-1;n>=0;--n)o.push(e[n]);return this},sum:function(t){return this.eachAfter((function(e){for(var n=+t(e.data)||0,r=e.children,o=r&&r.length;--o>=0;)n+=r[o].value;e.value=n}))},sort:function(t){return this.eachBefore((function(e){e.children&&e.children.sort(t)}))},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),o=null;t=n.pop(),e=r.pop();for(;t===e;)o=t,t=n.pop(),e=r.pop();return o}(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var o=r.length;t!==n;)r.splice(o,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){var t=[];return this.each((function(e){t.push(e)})),t},leaves:function(){var t=[];return this.eachBefore((function(e){e.children||t.push(e)})),t},links:function(){var t=this,e=[];return t.each((function(n){n!==t&&e.push({source:n.parent,target:n})})),e},copy:function(){return Ie(this).eachBefore($e)}};var Le=Array.prototype.slice;function Fe(t){for(var e,n,r=0,o=(t=function(t){for(var e,n,r=t.length;r;)n=Math.random()*r--|0,e=t[r],t[r]=t[n],t[n]=e;return t}(Le.call(t))).length,i=[];r<o;)e=t[r],n&&Ue(n,e)?++r:(n=Ve(i=ze(i,e)),r=0);return n}function ze(t,e){var n,r;if(He(e,t))return[e];for(n=0;n<t.length;++n)if(qe(e,t[n])&&He(Ge(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(qe(Ge(t[n],t[r]),e)&&qe(Ge(t[n],e),t[r])&&qe(Ge(t[r],e),t[n])&&He(Xe(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function qe(t,e){var n=t.r-e.r,r=e.x-t.x,o=e.y-t.y;return n<0||n*n<r*r+o*o}function Ue(t,e){var n=t.r-e.r+1e-6,r=e.x-t.x,o=e.y-t.y;return n>0&&n*n>r*r+o*o}function He(t,e){for(var n=0;n<e.length;++n)if(!Ue(t,e[n]))return!1;return!0}function Ve(t){switch(t.length){case 1:return{x:(e=t[0]).x,y:e.y,r:e.r};case 2:return Ge(t[0],t[1]);case 3:return Xe(t[0],t[1],t[2])}var e}function Ge(t,e){var n=t.x,r=t.y,o=t.r,i=e.x,a=e.y,u=e.r,c=i-n,l=a-r,s=u-o,f=Math.sqrt(c*c+l*l);return{x:(n+i+c/f*s)/2,y:(r+a+l/f*s)/2,r:(f+o+u)/2}}function Xe(t,e,n){var r=t.x,o=t.y,i=t.r,a=e.x,u=e.y,c=e.r,l=n.x,s=n.y,f=n.r,h=r-a,p=r-l,d=o-u,v=o-s,y=c-i,g=f-i,m=r*r+o*o-i*i,b=m-a*a-u*u+c*c,_=m-l*l-s*s+f*f,w=p*d-h*v,j=(d*_-v*b)/(2*w)-r,x=(v*y-d*g)/w,A=(p*b-h*_)/(2*w)-o,O=(h*g-p*y)/w,S=x*x+O*O-1,k=2*(i+j*x+A*O),D=j*j+A*A-i*i,M=-(S?(k+Math.sqrt(k*k-4*S*D))/(2*S):D/k);return{x:r+j+x*M,y:o+A+O*M,r:M}}function Ke(t,e,n){var r=t.x,o=t.y,i=e.r+n.r,a=t.r+n.r,u=e.x-r,c=e.y-o,l=u*u+c*c;if(l){var s=.5+((a*=a)-(i*=i))/(2*l),f=Math.sqrt(Math.max(0,2*i*(a+l)-(a-=l)*a-i*i))/(2*l);n.x=r+s*u+f*c,n.y=o+s*c-f*u}else n.x=r+a,n.y=o}function We(t,e){var n=e.x-t.x,r=e.y-t.y,o=t.r+e.r;return o*o-1e-6>n*n+r*r}function Ye(t){var e=t._,n=t.next._,r=e.r+n.r,o=(e.x*n.r+n.x*e.r)/r,i=(e.y*n.r+n.y*e.r)/r;return o*o+i*i}function Qe(t){this._=t,this.next=null,this.previous=null}function Je(t){if(!(o=t.length))return 0;var e,n,r,o,i,a,u,c,l,s,f;if((e=t[0]).x=0,e.y=0,!(o>1))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(o>2))return e.r+n.r;Ke(n,e,r=t[2]),e=new Qe(e),n=new Qe(n),r=new Qe(r),e.next=r.previous=n,n.next=e.previous=r,r.next=n.previous=e;t:for(u=3;u<o;++u){Ke(e._,n._,r=t[u]),r=new Qe(r),c=n.next,l=e.previous,s=n._.r,f=e._.r;do{if(s<=f){if(We(c._,r._)){n=c,e.next=n,n.previous=e,--u;continue t}s+=c._.r,c=c.next}else{if(We(l._,r._)){(e=l).next=n,n.previous=e,--u;continue t}f+=l._.r,l=l.previous}}while(c!==l.next);for(r.previous=e,r.next=n,e.next=n.previous=n=r,i=Ye(e);(r=r.next)!==n;)(a=Ye(r))<i&&(e=r,i=a);n=e.next}for(e=[n._],r=n;(r=r.next)!==n;)e.push(r._);for(r=Fe(e),u=0;u<o;++u)(e=t[u]).x-=r.x,e.y-=r.y;return r.r}function Ze(t){return null==t?null:tn(t)}function tn(t){if("function"!=typeof t)throw new Error;return t}function en(){return 0}function nn(t){return function(){return t}}function rn(t){return Math.sqrt(t.value)}function on(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function an(t,e){return function(n){if(r=n.children){var r,o,i,a=r.length,u=t(n)*e||0;if(u)for(o=0;o<a;++o)r[o].r+=u;if(i=Je(r),u)for(o=0;o<a;++o)r[o].r-=u;n.r=i+u}}}function un(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function cn(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function ln(t,e,n,r,o){for(var i,a=t.children,u=-1,c=a.length,l=t.value&&(r-e)/t.value;++u<c;)(i=a[u]).y0=n,i.y1=o,i.x0=e,i.x1=e+=i.value*l}var sn={depth:-1},fn={};function hn(t){return t.id}function pn(t){return t.parentId}function dn(t,e){return t.parent===e.parent?1:2}function vn(t){var e=t.children;return e?e[0]:t.t}function yn(t){var e=t.children;return e?e[e.length-1]:t.t}function gn(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function mn(t,e,n){return t.a.parent===e.parent?t.a:n}function bn(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function _n(t,e,n,r,o){for(var i,a=t.children,u=-1,c=a.length,l=t.value&&(o-n)/t.value;++u<c;)(i=a[u]).x0=e,i.x1=r,i.y0=n,i.y1=n+=i.value*l}bn.prototype=Object.create(Te.prototype);var wn=(1+Math.sqrt(5))/2;function jn(t,e,n,r,o,i){for(var a,u,c,l,s,f,h,p,d,v,y,g=[],m=e.children,b=0,_=0,w=m.length,j=e.value;b<w;){c=o-n,l=i-r;do{s=m[_++].value}while(!s&&_<w);for(f=h=s,y=s*s*(v=Math.max(l/c,c/l)/(j*t)),d=Math.max(h/y,y/f);_<w;++_){if(s+=u=m[_].value,u<f&&(f=u),u>h&&(h=u),y=s*s*v,(p=Math.max(h/y,y/f))>d){s-=u;break}d=p}g.push(a={value:s,dice:c<l,children:m.slice(b,_)}),a.dice?ln(a,n,r,o,j?r+=l*s/j:i):_n(a,n,r,j?n+=c*s/j:o,i),j-=s,b=_}return g}var xn=function t(e){function n(t,n,r,o,i){jn(e,t,n,r,o,i)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(wn);var An=function t(e){function n(t,n,r,o,i){if((a=t._squarify)&&a.ratio===e)for(var a,u,c,l,s,f=-1,h=a.length,p=t.value;++f<h;){for(c=(u=a[f]).children,l=u.value=0,s=c.length;l<s;++l)u.value+=c[l].value;u.dice?ln(u,n,r,o,r+=(i-r)*u.value/p):_n(u,n,r,n+=(o-n)*u.value/p,i),p-=u.value}else t._squarify=a=jn(e,t,n,r,o,i),a.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(wn),On=e(Object.freeze({__proto__:null,cluster:function(){var t=Ce,e=1,n=1,r=!1;function o(o){var i,a=0;o.eachAfter((function(e){var n=e.children;n?(e.x=function(t){return t.reduce(Ee,0)/t.length}(n),e.y=function(t){return 1+t.reduce(Ne,0)}(n)):(e.x=i?a+=t(e,i):0,e.y=0,i=e)}));var u=function(t){for(var e;e=t.children;)t=e[0];return t}(o),c=function(t){for(var e;e=t.children;)t=e[e.length-1];return t}(o),l=u.x-t(u,c)/2,s=c.x+t(c,u)/2;return o.eachAfter(r?function(t){t.x=(t.x-o.x)*e,t.y=(o.y-t.y)*n}:function(t){t.x=(t.x-l)/(s-l)*e,t.y=(1-(o.y?t.y/o.y:1))*n})}return o.separation=function(e){return arguments.length?(t=e,o):t},o.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],o):r?null:[e,n]},o.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],o):r?[e,n]:null},o},hierarchy:Ie,pack:function(){var t=null,e=1,n=1,r=en;function o(o){return o.x=e/2,o.y=n/2,t?o.eachBefore(on(t)).eachAfter(an(r,.5)).eachBefore(un(1)):o.eachBefore(on(rn)).eachAfter(an(en,1)).eachAfter(an(r,o.r/Math.min(e,n))).eachBefore(un(Math.min(e,n)/(2*o.r))),o}return o.radius=function(e){return arguments.length?(t=Ze(e),o):t},o.size=function(t){return arguments.length?(e=+t[0],n=+t[1],o):[e,n]},o.padding=function(t){return arguments.length?(r="function"==typeof t?t:nn(+t),o):r},o},packSiblings:function(t){return Je(t),t},packEnclose:Fe,partition:function(){var t=1,e=1,n=0,r=!1;function o(o){var i=o.height+1;return o.x0=o.y0=n,o.x1=t,o.y1=e/i,o.eachBefore(function(t,e){return function(r){r.children&&ln(r,r.x0,t*(r.depth+1)/e,r.x1,t*(r.depth+2)/e);var o=r.x0,i=r.y0,a=r.x1-n,u=r.y1-n;a<o&&(o=a=(o+a)/2),u<i&&(i=u=(i+u)/2),r.x0=o,r.y0=i,r.x1=a,r.y1=u}}(e,i)),r&&o.eachBefore(cn),o}return o.round=function(t){return arguments.length?(r=!!t,o):r},o.size=function(n){return arguments.length?(t=+n[0],e=+n[1],o):[t,e]},o.padding=function(t){return arguments.length?(n=+t,o):n},o},stratify:function(){var t=hn,e=pn;function n(n){var r,o,i,a,u,c,l,s=n.length,f=new Array(s),h={};for(o=0;o<s;++o)r=n[o],u=f[o]=new Te(r),null!=(c=t(r,o,n))&&(c+="")&&(h[l="$"+(u.id=c)]=l in h?fn:u);for(o=0;o<s;++o)if(u=f[o],null!=(c=e(n[o],o,n))&&(c+="")){if(!(a=h["$"+c]))throw new Error("missing: "+c);if(a===fn)throw new Error("ambiguous: "+c);a.children?a.children.push(u):a.children=[u],u.parent=a}else{if(i)throw new Error("multiple roots");i=u}if(!i)throw new Error("no root");if(i.parent=sn,i.eachBefore((function(t){t.depth=t.parent.depth+1,--s})).eachBefore(Be),i.parent=null,s>0)throw new Error("cycle");return i}return n.id=function(e){return arguments.length?(t=tn(e),n):t},n.parentId=function(t){return arguments.length?(e=tn(t),n):e},n},tree:function(){var t=dn,e=1,n=1,r=null;function o(o){var c=function(t){for(var e,n,r,o,i,a=new bn(t,0),u=[a];e=u.pop();)if(r=e._.children)for(e.children=new Array(i=r.length),o=i-1;o>=0;--o)u.push(n=e.children[o]=new bn(r[o],o)),n.parent=e;return(a.parent=new bn(null,0)).children=[a],a}(o);if(c.eachAfter(i),c.parent.m=-c.z,c.eachBefore(a),r)o.eachBefore(u);else{var l=o,s=o,f=o;o.eachBefore((function(t){t.x<l.x&&(l=t),t.x>s.x&&(s=t),t.depth>f.depth&&(f=t)}));var h=l===s?1:t(l,s)/2,p=h-l.x,d=e/(s.x+h+p),v=n/(f.depth||1);o.eachBefore((function(t){t.x=(t.x+p)*d,t.y=t.depth*v}))}return o}function i(e){var n=e.children,r=e.parent.children,o=e.i?r[e.i-1]:null;if(n){!function(t){for(var e,n=0,r=0,o=t.children,i=o.length;--i>=0;)(e=o[i]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}(e);var i=(n[0].z+n[n.length-1].z)/2;o?(e.z=o.z+t(e._,o._),e.m=e.z-i):e.z=i}else o&&(e.z=o.z+t(e._,o._));e.parent.A=function(e,n,r){if(n){for(var o,i=e,a=e,u=n,c=i.parent.children[0],l=i.m,s=a.m,f=u.m,h=c.m;u=yn(u),i=vn(i),u&&i;)c=vn(c),(a=yn(a)).a=e,(o=u.z+f-i.z-l+t(u._,i._))>0&&(gn(mn(u,e,r),e,o),l+=o,s+=o),f+=u.m,l+=i.m,h+=c.m,s+=a.m;u&&!yn(a)&&(a.t=u,a.m+=f-s),i&&!vn(c)&&(c.t=i,c.m+=l-h,r=e)}return r}(e,o,e.parent.A||r[0])}function a(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function u(t){t.x*=e,t.y=t.depth*n}return o.separation=function(e){return arguments.length?(t=e,o):t},o.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],o):r?null:[e,n]},o.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],o):r?[e,n]:null},o},treemap:function(){var t=xn,e=!1,n=1,r=1,o=[0],i=en,a=en,u=en,c=en,l=en;function s(t){return t.x0=t.y0=0,t.x1=n,t.y1=r,t.eachBefore(f),o=[0],e&&t.eachBefore(cn),t}function f(e){var n=o[e.depth],r=e.x0+n,s=e.y0+n,f=e.x1-n,h=e.y1-n;f<r&&(r=f=(r+f)/2),h<s&&(s=h=(s+h)/2),e.x0=r,e.y0=s,e.x1=f,e.y1=h,e.children&&(n=o[e.depth+1]=i(e)/2,r+=l(e)-n,s+=a(e)-n,(f-=u(e)-n)<r&&(r=f=(r+f)/2),(h-=c(e)-n)<s&&(s=h=(s+h)/2),t(e,r,s,f,h))}return s.round=function(t){return arguments.length?(e=!!t,s):e},s.size=function(t){return arguments.length?(n=+t[0],r=+t[1],s):[n,r]},s.tile=function(e){return arguments.length?(t=tn(e),s):t},s.padding=function(t){return arguments.length?s.paddingInner(t).paddingOuter(t):s.paddingInner()},s.paddingInner=function(t){return arguments.length?(i="function"==typeof t?t:nn(+t),s):i},s.paddingOuter=function(t){return arguments.length?s.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):s.paddingTop()},s.paddingTop=function(t){return arguments.length?(a="function"==typeof t?t:nn(+t),s):a},s.paddingRight=function(t){return arguments.length?(u="function"==typeof t?t:nn(+t),s):u},s.paddingBottom=function(t){return arguments.length?(c="function"==typeof t?t:nn(+t),s):c},s.paddingLeft=function(t){return arguments.length?(l="function"==typeof t?t:nn(+t),s):l},s},treemapBinary:function(t,e,n,r,o){var i,a,u=t.children,c=u.length,l=new Array(c+1);for(l[0]=a=i=0;i<c;++i)l[i+1]=a+=u[i].value;!function t(e,n,r,o,i,a,c){if(e>=n-1){var s=u[e];return s.x0=o,s.y0=i,s.x1=a,void(s.y1=c)}var f=l[e],h=r/2+f,p=e+1,d=n-1;for(;p<d;){var v=p+d>>>1;l[v]<h?p=v+1:d=v}h-l[p-1]<l[p]-h&&e+1<p&&--p;var y=l[p]-f,g=r-y;if(a-o>c-i){var m=(o*g+a*y)/r;t(e,p,y,o,i,m,c),t(p,n,g,m,i,a,c)}else{var b=(i*g+c*y)/r;t(e,p,y,o,i,a,b),t(p,n,g,o,b,a,c)}}(0,c,t.value,e,n,r,o)},treemapDice:ln,treemapSlice:_n,treemapSliceDice:function(t,e,n,r,o){(1&t.depth?_n:ln)(t,e,n,r,o)},treemapSquarify:xn,treemapResquarify:An}));function Sn(t){return t.deeds?t.deeds.length:0}function kn(t,e){return t+e}var Dn=function(t){return t.length>0?t.map(Sn).reduce(kn):0};var Mn=function({arrayLength:t}){var e=0,n={};return function(r){r in n||(n[r]=e,(e+=1)>=t&&(e=0));return n[r]}},Cn=function(t,e){var n=[];const r=~~(t.length/e);for(var o=0;o<t.length;++o){var i=o%e*r+~~(o/e);if(i>=t.length)break;n[i]=t[o]}return n}(["rgb(255, 119, 179)","rgb(229, 0, 120)","rgb(255, 118, 170)","rgb(231, 0, 109)","rgb(255, 119, 160)","rgb(232, 0, 99)","rgb(255, 120, 151)","rgb(232, 0, 89)","rgb(255, 121, 142)","rgb(231, 2, 79)","rgb(255, 123, 133)","rgb(229, 18, 70)","rgb(255, 125, 125)","rgb(227, 29, 60)","rgb(255, 128, 116)","rgb(224, 39, 50)","rgb(255, 131, 108)","rgb(221, 48, 40)","rgb(255, 134, 100)","rgb(217, 56, 29)","rgb(255, 138, 92)","rgb(212, 63, 15)","rgb(255, 141, 85)","rgb(207, 70, 0)","rgb(255, 145, 78)","rgb(201, 76, 0)","rgb(255, 149, 71)","rgb(195, 82, 0)","rgb(252, 153, 65)","rgb(189, 88, 0)","rgb(245, 156, 59)","rgb(182, 93, 0)","rgb(239, 160, 53)","rgb(174, 98, 0)","rgb(231, 163, 49)","rgb(167, 102, 0)","rgb(224, 167, 45)","rgb(159, 106, 0)","rgb(216, 170, 42)","rgb(150, 110, 0)","rgb(208, 173, 40)","rgb(142, 114, 0)","rgb(200, 176, 40)","rgb(133, 117, 0)","rgb(191, 179, 41)","rgb(124, 120, 0)","rgb(182, 182, 43)","rgb(114, 123, 0)","rgb(173, 185, 47)","rgb(104, 126, 0)","rgb(164, 187, 52)","rgb(93, 128, 0)","rgb(154, 189, 57)","rgb(81, 130, 0)","rgb(144, 191, 63)","rgb(68, 132, 0)","rgb(133, 193, 70)","rgb(52, 134, 0)","rgb(121, 195, 77)","rgb(30, 135, 0)","rgb(109, 197, 85)","rgb(0, 137, 0)","rgb(95, 198, 92)","rgb(0, 138, 0)","rgb(80, 199, 101)","rgb(0, 139, 22)","rgb(60, 201, 109)","rgb(0, 140, 36)","rgb(29, 202, 118)","rgb(0, 141, 49)","rgb(0, 203, 127)","rgb(0, 142, 60)","rgb(0, 203, 136)","rgb(0, 142, 71)","rgb(0, 204, 146)","rgb(0, 143, 82)","rgb(0, 205, 155)","rgb(0, 143, 93)","rgb(0, 205, 165)","rgb(0, 144, 104)","rgb(0, 206, 175)","rgb(0, 144, 115)","rgb(0, 206, 184)","rgb(0, 144, 125)","rgb(0, 206, 194)","rgb(0, 144, 136)","rgb(0, 206, 203)","rgb(0, 145, 146)","rgb(0, 206, 213)","rgb(0, 145, 157)","rgb(0, 206, 222)","rgb(0, 145, 167)","rgb(0, 205, 230)","rgb(0, 145, 177)","rgb(0, 205, 239)","rgb(0, 144, 186)","rgb(0, 204, 247)","rgb(0, 144, 195)","rgb(0, 203, 255)","rgb(0, 144, 204)","rgb(0, 203, 255)","rgb(0, 143, 212)","rgb(0, 201, 255)","rgb(0, 142, 220)","rgb(0, 200, 255)","rgb(0, 141, 227)","rgb(0, 199, 255)","rgb(0, 140, 233)","rgb(0, 197, 255)","rgb(0, 139, 238)","rgb(0, 195, 255)","rgb(0, 137, 243)","rgb(0, 193, 255)","rgb(0, 136, 247)","rgb(0, 191, 255)","rgb(0, 134, 250)","rgb(0, 189, 255)","rgb(0, 131, 252)","rgb(0, 186, 255)","rgb(0, 129, 254)","rgb(0, 183, 255)","rgb(0, 126, 254)","rgb(41, 180, 255)","rgb(0, 123, 254)","rgb(83, 177, 255)","rgb(0, 119, 253)","rgb(110, 174, 255)","rgb(0, 115, 250)","rgb(131, 170, 255)","rgb(0, 111, 248)","rgb(150, 167, 255)","rgb(51, 106, 244)","rgb(166, 163, 255)","rgb(86, 101, 239)","rgb(181, 159, 255)","rgb(109, 96, 234)","rgb(195, 155, 255)","rgb(129, 90, 228)","rgb(207, 151, 255)","rgb(145, 84, 221)","rgb(219, 147, 255)","rgb(159, 78, 214)","rgb(229, 143, 255)","rgb(171, 71, 206)","rgb(239, 139, 249)","rgb(182, 63, 197)","rgb(248, 135, 241)","rgb(192, 56, 189)","rgb(255, 132, 233)","rgb(200, 47, 179)","rgb(255, 128, 225)","rgb(207, 38, 170)","rgb(255, 126, 216)","rgb(214, 28, 160)","rgb(255, 123, 207)","rgb(219, 15, 150)","rgb(255, 121, 198)","rgb(223, 0, 140)","rgb(255, 120, 188)","rgb(227, 0, 130)"],9),En=Mn({arrayLength:Cn.length});var Nn=function(t){var e=t.id;return t.data&&(e=t.data.id),e?Cn[En(e)]:"#fff"},Rn=le,In=On,Pn=Dn,$n=Nn;var Bn=pe("deeds",[]);var Tn,Ln,Fn,zn=(Tn=0,Ln={},{getTrackingColorForCell:function(t){var e;return t.trackingColor||(t.trackingColor=(e="#"+rr(Tn.toString(16),6),Tn+=1,e),Ln[t.trackingColor]=t),t.trackingColor},getCellForImageData:function(t){return Ln["#"+rr(t[0].toString(16),2)+rr(t[1].toString(16),2)+rr(t[2].toString(16),2)]}}),qn=Rn.select(".field-label-layer"),Un=Rn.select("#canvases-container"),Hn=Rn.select("#garden-container"),Vn=Rn.select("#garden-board"),Gn=Rn.select("#garden-targets-board"),Xn=Rn.select("#garden-board-labels"),Kn=Vn.node().getContext("2d",{alpha:!1}),Wn=Gn.node().getContext("2d",{alpha:!1}),Yn=Rn.select(".arrangement-controls");function Qn(){return 1}function Jn(t){return t.data.id}function Zn(t){return t.data.name}function tr(t){return t.x1-t.x0}function er(t){return t.y1-t.y0}function nr(t){return`translate(${t.labelDisplayDetails.center.x} ${t.labelDisplayDetails.center.y})\n    rotate(${t.labelDisplayDetails.rotation})`}function rr(t,e){for(var n=e-t.length,r="",o=0;o<n;++o)r+="0";return r+t}function or(t){return t.labelDisplayDetails.fontSize}function ir(t){setTimeout(t,250)}var ar=function({onDeedClick:t}){return async function({projectData:n,expensiveRenderIsOK:r}){var o=0,i=0;if(!Fn||r){let e=1600*Pn(n);(o=document.body.getBoundingClientRect().width)>800&&(o=800),i=~~(e/o),await new Promise(ir);const r=Yn.node().getBoundingClientRect().height+document.querySelector("#garden-container .instruction").getBoundingClientRect().height+i;Hn.style("width",o),Hn.style("height",r),Un.style("width",o),Un.style("height",i),Vn.attr("width",o),Vn.attr("height",i),Xn.attr("width",o),Xn.attr("height",i),Gn.attr("width",o),Gn.attr("height",i),Gn.on("click",(function(){var e=Rn.event.layerX,n=Rn.event.layerY,r=Wn.getImageData(e,n,1,1).data,o=zn.getCellForImageData(r);t({deed:o.data,project:o.parent.data})})),Fn=In.treemap().tile(In.treemapResquarify.ratio(1)).size([o,i]).round(!0).paddingInner(0)}var a={name:"root",deeds:n};Kn.clearRect(0,0,o,i),Wn.clearRect(0,0,o,i);var u=In.hierarchy(a,Bn).sum(Qn);Fn(u),function(t){function e(t){Kn.fillRect(t.x0,t.y0,tr(t),er(t))}Kn.fillStyle="#eee",t.children.forEach(e)}(u),function(t){Kn.strokeStyle="white",Kn.lineWidth=1,t.leaves().forEach((function(t){Kn.fillStyle=$n(t.parent);var e=tr(t),n=er(t);Kn.fillRect(t.x0,t.y0,e,n),Kn.strokeRect(t.x0+.5,t.y0+.5,e,n),Wn.fillStyle=zn.getTrackingColorForCell(t),Wn.fillRect(t.x0,t.y0,e,n)}))}(u),function(t){Kn.font="48px futura",Kn.textAlign="center",Kn.textBaseline="middle",t.children.forEach(e)}(u),function(t){var e=qn.selectAll(".label").data(t.children,Jn);e.exit().remove();var n=e.enter().append("text").classed("label",!0).attr("text-anchor","middle"),r=e.merge(n);r.text(Zn),r.style("font-size",or),r.attr("transform",nr)}(u)};function e(t){var e=Zn(t),n=tr(t)-20,r=er(t)-20,o=Kn.measureText(e).width;if(o>0){let e={};e.center={x:.5+~~(t.x0+n/2)+10,y:.5+~~(t.y0+r/2)+10},e.rotation=0;let i=1;n<r?(e.rotation=-90,o>r&&(i=r/o)):o>n&&(i=n/o),e.fontSize=48,1!==i&&(e.fontSize=~~(48*i)),t.labelDisplayDetails=e}}},ur=le;var cr=function({currentUsername:t,activeView:e,changeView:n}){ur.select("#current-user-label-possessive").text(t+"'s"),ur.select("#current-user-label").text(t),ur.selectAll(".view-button").on("click",(function(){n(this.dataset.viewname)})),ur.selectAll(".view-button").classed("active-view-button",(function(){return this.dataset.viewname===e}))},lr=le,sr=ye;var fr=function({user:t,detailsLayerSelector:e=".details-layer"}){var n,r,o,i=lr.select(e),a=i.select(".details-box");return a.empty()&&(n=i,r=document.getElementById("details-box-template"),o=document.importNode(r.content,!0),n.node().appendChild(o),a=n.select(".details-box")),a.select(".close-button").on("click",(function(){i.classed("destroyed",!0)})),function({deed:e,project:n}){sr({parent:a,deed:e,project:n,user:t}),i.classed("destroyed",!1)}},hr="__lodash_placeholder__",pr=32,dr=1/0,vr=NaN,yr=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",pr],["partialRight",64],["rearg",256]],gr="[object Function]",mr="[object GeneratorFunction]",br=/^\s+|\s+$/g,_r=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,wr=/\{\n\/\* \[wrapped with (.+)\] \*/,jr=/,? & /,xr=/^[-+]0x[0-9a-f]+$/i,Ar=/^0b[01]+$/i,Or=/^\[object .+?Constructor\]$/,Sr=/^0o[0-7]+$/i,kr=/^(?:0|[1-9]\d*)$/,Dr=parseInt,Mr="object"==typeof t&&t&&t.Object===Object&&t,Cr="object"==typeof self&&self&&self.Object===Object&&self,Er=Mr||Cr||Function("return this")();function Nr(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Rr(t,e){return!!(t?t.length:0)&&function(t,e,n){if(e!=e)return function(t,e,n,r){var o=t.length,i=n+(r?1:-1);for(;r?i--:++i<o;)if(e(t[i],i,t))return i;return-1}(t,Ir,n);var r=n-1,o=t.length;for(;++r<o;)if(t[r]===e)return r;return-1}(t,e,0)>-1}function Ir(t){return t!=t}function Pr(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&r++;return r}function $r(t,e){for(var n=-1,r=t.length,o=0,i=[];++n<r;){var a=t[n];a!==e&&a!==hr||(t[n]=hr,i[o++]=n)}return i}var Br,Tr,Lr,Fr=Function.prototype,zr=Object.prototype,qr=Er["__core-js_shared__"],Ur=(Br=/[^.]+$/.exec(qr&&qr.keys&&qr.keys.IE_PROTO||""))?"Symbol(src)_1."+Br:"",Hr=Fr.toString,Vr=zr.hasOwnProperty,Gr=zr.toString,Xr=RegExp("^"+Hr.call(Vr).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Kr=Object.create,Wr=Math.max,Yr=Math.min,Qr=(Tr=uo(Object,"defineProperty"),(Lr=uo.name)&&Lr.length>2?Tr:void 0);function Jr(t){return yo(t)?Kr(t):{}}function Zr(t){return!(!yo(t)||function(t){return!!Ur&&Ur in t}(t))&&(function(t){var e=yo(t)?Gr.call(t):"";return e==gr||e==mr}(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?Xr:Or).test(function(t){if(null!=t){try{return Hr.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}function to(t,e,n,r){for(var o=-1,i=t.length,a=n.length,u=-1,c=e.length,l=Wr(i-a,0),s=Array(c+l),f=!r;++u<c;)s[u]=e[u];for(;++o<a;)(f||o<i)&&(s[n[o]]=t[o]);for(;l--;)s[u++]=t[o++];return s}function eo(t,e,n,r){for(var o=-1,i=t.length,a=-1,u=n.length,c=-1,l=e.length,s=Wr(i-u,0),f=Array(s+l),h=!r;++o<s;)f[o]=t[o];for(var p=o;++c<l;)f[p+c]=e[c];for(;++a<u;)(h||o<i)&&(f[p+n[a]]=t[o++]);return f}function no(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Jr(t.prototype),r=t.apply(n,e);return yo(r)?r:n}}function ro(t,e,n,r,o,i,a,u,c,l){var s=128&e,f=1&e,h=2&e,p=24&e,d=512&e,v=h?void 0:no(t);return function y(){for(var g=arguments.length,m=Array(g),b=g;b--;)m[b]=arguments[b];if(p)var _=ao(y),w=Pr(m,_);if(r&&(m=to(m,r,o,p)),i&&(m=eo(m,i,a,p)),g-=w,p&&g<l){var j=$r(m,_);return oo(t,e,ro,y.placeholder,n,m,j,u,c,l-g)}var x=f?n:this,A=h?x[t]:t;return g=m.length,u?m=fo(m,u):d&&g>1&&m.reverse(),s&&c<g&&(m.length=c),this&&this!==Er&&this instanceof y&&(A=v||no(A)),A.apply(x,m)}}function oo(t,e,n,r,o,i,a,u,c,l){var s=8&e;e|=s?pr:64,4&(e&=~(s?64:pr))||(e&=-4);var f=n(t,e,o,s?i:void 0,s?a:void 0,s?void 0:i,s?void 0:a,u,c,l);return f.placeholder=r,ho(f,t,e)}function io(t,e,n,r,o,i,a,u){var c=2&e;if(!c&&"function"!=typeof t)throw new TypeError("Expected a function");var l=r?r.length:0;if(l||(e&=-97,r=o=void 0),a=void 0===a?a:Wr(mo(a),0),u=void 0===u?u:mo(u),l-=o?o.length:0,64&e){var s=r,f=o;r=o=void 0}var h=[t,e,n,r,o,s,f,i,a,u];if(t=h[0],e=h[1],n=h[2],r=h[3],o=h[4],!(u=h[9]=null==h[9]?c?0:t.length:Wr(h[9]-l,0))&&24&e&&(e&=-25),e&&1!=e)p=8==e||16==e?function(t,e,n){var r=no(t);return function o(){for(var i=arguments.length,a=Array(i),u=i,c=ao(o);u--;)a[u]=arguments[u];var l=i<3&&a[0]!==c&&a[i-1]!==c?[]:$r(a,c);return(i-=l.length)<n?oo(t,e,ro,o.placeholder,void 0,a,l,void 0,void 0,n-i):Nr(this&&this!==Er&&this instanceof o?r:t,this,a)}}(t,e,u):e!=pr&&33!=e||o.length?ro.apply(void 0,h):function(t,e,n,r){var o=1&e,i=no(t);return function e(){for(var a=-1,u=arguments.length,c=-1,l=r.length,s=Array(l+u),f=this&&this!==Er&&this instanceof e?i:t;++c<l;)s[c]=r[c];for(;u--;)s[c++]=arguments[++a];return Nr(f,o?n:this,s)}}(t,e,n,r);else var p=function(t,e,n){var r=1&e,o=no(t);return function e(){return(this&&this!==Er&&this instanceof e?o:t).apply(r?n:this,arguments)}}(t,e,n);return ho(p,t,e)}function ao(t){return t.placeholder}function uo(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return Zr(n)?n:void 0}function co(t){var e=t.match(wr);return e?e[1].split(jr):[]}function lo(t,e){var n=e.length,r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(_r,"{\n/* [wrapped with "+e+"] */\n")}function so(t,e){return!!(e=null==e?9007199254740991:e)&&("number"==typeof t||kr.test(t))&&t>-1&&t%1==0&&t<e}function fo(t,e){for(var n=t.length,r=Yr(e.length,n),o=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}(t);r--;){var i=e[r];t[r]=so(i,n)?o[i]:void 0}return t}var ho=Qr?function(t,e,n){var r,o=e+"";return Qr(t,"toString",{configurable:!0,enumerable:!1,value:(r=lo(o,po(co(o),n)),function(){return r})})}:function(t){return t};function po(t,e){return function(t,e){for(var n=-1,r=t?t.length:0;++n<r&&!1!==e(t[n],n,t););}(yr,(function(n){var r="_."+n[0];e&n[1]&&!Rr(t,r)&&t.push(r)})),t.sort()}function vo(t,e,n){var r=io(t,8,void 0,void 0,void 0,void 0,void 0,e=n?void 0:e);return r.placeholder=vo.placeholder,r}function yo(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function go(t){return t?(t=function(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==Gr.call(t)}(t))return vr;if(yo(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=yo(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(br,"");var n=Ar.test(t);return n||Sr.test(t)?Dr(t.slice(2),n?2:8):xr.test(t)?vr:+t}(t))===dr||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function mo(t){var e=go(t),n=e%1;return e==e?n?e-n:e:0}vo.placeholder={};var bo=vo,_o=me,wo=bo,jo=["January","February","March","April","May","June","July","August","September","October","November","December"];var xo=function({projectData:t,sortBy:e="startDate"}){var n={};return t.forEach((function(t){var r,o;t[e]&&(r=+t[e].getFullYear(),o=+t[e].getMonth());if(void 0!==r&&void 0!==o){var i=n[r];i||(i={},n[r]=i);var a=i[o];a||(a=[],i[o]=a),a.push(t)}})),Object.keys(n).sort(_o.compareDesc).map((function(t){var r=n[t];return{year:+t,monthKits:Object.keys(r).map((function(t){return{month:+t,name:jo[t],projects:r[t].sort(wo(_o.compareDescWithSortKey)(e))}}))}}))},Ao="[object Function]",Oo=/^\[object .+?Constructor\]$/;function So(t){return!!t&&"object"==typeof t}var ko,Do,Mo,Co=Object.prototype,Eo=Function.prototype.toString,No=Co.hasOwnProperty,Ro=Co.toString,Io=RegExp("^"+Eo.call(No).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Po=(Do="isArray",function(t){return null!=t&&(function(t){return function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}(t)&&Ro.call(t)==Ao}(t)?Io.test(Eo.call(t)):So(t)&&Oo.test(t))}(Mo=null==(ko=Array)?void 0:ko[Do])?Mo:void 0);var $o=Po||function(t){return So(t)&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}(t.length)&&"[object Array]"==Ro.call(t)},Bo={};Bo["[object Float32Array]"]=Bo["[object Float64Array]"]=Bo["[object Int8Array]"]=Bo["[object Int16Array]"]=Bo["[object Int32Array]"]=Bo["[object Uint8Array]"]=Bo["[object Uint8ClampedArray]"]=Bo["[object Uint16Array]"]=Bo["[object Uint32Array]"]=!0,Bo["[object Arguments]"]=Bo["[object Array]"]=Bo["[object ArrayBuffer]"]=Bo["[object Boolean]"]=Bo["[object DataView]"]=Bo["[object Date]"]=Bo["[object Error]"]=Bo["[object Function]"]=Bo["[object Map]"]=Bo["[object Number]"]=Bo["[object Object]"]=Bo["[object RegExp]"]=Bo["[object Set]"]=Bo["[object String]"]=Bo["[object WeakMap]"]=!1;var To=Object.prototype.toString;var Lo=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}(t.length)&&!!Bo[To.call(t)]},Fo="[object Function]",zo=/^\[object .+?Constructor\]$/;var qo=Object.prototype,Uo=Function.prototype.toString,Ho=qo.hasOwnProperty,Vo=qo.toString,Go=RegExp("^"+Uo.call(Ho).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Xo=function(t,e){var n=null==t?void 0:t[e];return function(t){if(null==t)return!1;if(function(t){return function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}(t)&&Vo.call(t)==Fo}(t))return Go.test(Uo.call(t));return function(t){return!!t&&"object"==typeof t}(t)&&zo.test(t)}(n)?n:void 0},Ko=9007199254740991,Wo="[object Function]",Yo="[object GeneratorFunction]",Qo=Object.prototype,Jo=Qo.hasOwnProperty,Zo=Qo.toString,ti=Qo.propertyIsEnumerable;var ei=Xo,ni=function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&function(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Ko}(t.length)&&!function(t){var e=function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}(t)?Zo.call(t):"";return e==Wo||e==Yo}(t)}(t)}(t)&&Jo.call(t,"callee")&&(!ti.call(t,"callee")||"[object Arguments]"==Zo.call(t))},ri=$o,oi=/^\d+$/,ii=Object.prototype.hasOwnProperty,ai=ei(Object,"keys"),ui=9007199254740991;var ci=function(t){return function(e){return null==e?void 0:e[t]}}("length");function li(t,e){return t="number"==typeof t||oi.test(t)?+t:-1,e=null==e?ui:e,t>-1&&t%1==0&&t<e}function si(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=ui}function fi(t){for(var e=function(t){if(null==t)return[];hi(t)||(t=Object(t));var e=t.length;e=e&&si(e)&&(ri(t)||ni(t))&&e||0;var n=t.constructor,r=-1,o="function"==typeof n&&n.prototype===t,i=Array(e),a=e>0;for(;++r<e;)i[r]=r+"";for(var u in t)a&&li(u,e)||"constructor"==u&&(o||!ii.call(t,u))||i.push(u);return i}(t),n=e.length,r=n&&t.length,o=!!r&&si(r)&&(ri(t)||ni(t)),i=-1,a=[];++i<n;){var u=e[i];(o&&li(u,r)||ii.call(t,u))&&a.push(u)}return a}function hi(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var pi=ai?function(t){var e=null==t?void 0:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&function(t){return null!=t&&si(ci(t))}(t)?fi(t):hi(t)?ai(t):[]}:fi,di=$o,vi=Lo,yi=pi,gi="[object Arguments]",mi="[object Array]",bi="[object Boolean]",_i="[object Date]",wi="[object Error]",ji="[object Number]",xi="[object Object]",Ai="[object RegExp]",Oi="[object String]";var Si=Object.prototype,ki=Si.hasOwnProperty,Di=Si.toString;function Mi(t,e){for(var n=-1,r=t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function Ci(t,e,n,r,o,i,a){var u=-1,c=t.length,l=e.length;if(c!=l&&!(o&&l>c))return!1;for(;++u<c;){var s=t[u],f=e[u],h=r?r(o?f:s,o?s:f,u):void 0;if(void 0!==h){if(h)continue;return!1}if(o){if(!Mi(e,(function(t){return s===t||n(s,t,r,o,i,a)})))return!1}else if(s!==f&&!n(s,f,r,o,i,a))return!1}return!0}function Ei(t,e,n,r,o,i,a){var u=yi(t),c=u.length;if(c!=yi(e).length&&!o)return!1;for(var l=c;l--;){var s=u[l];if(!(o?s in e:ki.call(e,s)))return!1}for(var f=o;++l<c;){var h=t[s=u[l]],p=e[s],d=r?r(o?p:h,o?h:p,s):void 0;if(!(void 0===d?n(h,p,r,o,i,a):d))return!1;f||(f="constructor"==s)}if(!f){var v=t.constructor,y=e.constructor;if(v!=y&&"constructor"in t&&"constructor"in e&&!("function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y))return!1}return!0}var Ni=function t(e,n,r,o,i,a){return e===n||(null==e||null==n||!function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}(e)&&!function(t){return!!t&&"object"==typeof t}(n)?e!=e&&n!=n:function(t,e,n,r,o,i,a){var u=di(t),c=di(e),l=mi,s=mi;u||((l=Di.call(t))==gi?l=xi:l!=xi&&(u=vi(t)));c||((s=Di.call(e))==gi?s=xi:s!=xi&&(c=vi(e)));var f=l==xi,h=s==xi,p=l==s;if(p&&!u&&!f)return function(t,e,n){switch(n){case bi:case _i:return+t==+e;case wi:return t.name==e.name&&t.message==e.message;case ji:return t!=+t?e!=+e:t==+e;case Ai:case Oi:return t==e+""}return!1}(t,e,l);if(!o){var d=f&&ki.call(t,"__wrapped__"),v=h&&ki.call(e,"__wrapped__");if(d||v)return n(d?t.value():t,v?e.value():e,r,o,i,a)}if(!p)return!1;i||(i=[]),a||(a=[]);var y=i.length;for(;y--;)if(i[y]==t)return a[y]==e;i.push(t),a.push(e);var g=(u?Ci:Ei)(t,e,n,r,o,i,a);return i.pop(),a.pop(),g}(e,n,t,r,o,i,a))},Ri=Ni;var Ii=pi;var Pi=function(t){t=function(t){return function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}(t)?t:Object(t)}(t);for(var e=-1,n=Ii(t),r=n.length,o=Array(r);++e<r;){var i=n[e];o[e]=[i,t[i]]}return o},$i=function(t,e,n){var r=e.length,o=r,i=!n;if(null==t)return!o;for(t=function(t){return function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}(t)?t:Object(t)}(t);r--;){var a=e[r];if(i&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++r<o;){var u=(a=e[r])[0],c=t[u],l=a[1];if(i&&a[2]){if(void 0===c&&!(u in t))return!1}else{var s=n?n(c,l,u):void 0;if(!(void 0===s?Ri(l,c,n,!0):s))return!1}}return!0},Bi=Pi;function Ti(t){return t==t&&!Li(t)}function Li(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var Fi=function(t){var e=function(t){var e=Bi(t),n=e.length;for(;n--;)e[n][2]=Ti(e[n][1]);return e}(t);if(1==e.length&&e[0][2]){var n=e[0][0],r=e[0][1];return function(t){return null!=t&&(t[n]===r&&(void 0!==r||n in function(t){return Li(t)?t:Object(t)}(t)))}}return function(t){return $i(t,e)}};function zi(t){return t}var qi=Ni,Ui=function(t,e,n){if("function"!=typeof t)return zi;if(void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,o){return t.call(e,n,r,o)};case 4:return function(n,r,o,i){return t.call(e,n,r,o,i)};case 5:return function(n,r,o,i,a){return t.call(e,n,r,o,i,a)}}return function(){return t.apply(e,arguments)}},Hi=$o,Vi=Pi,Gi=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,Xi=/^\w*$/,Ki=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,Wi=/\\(\\)?/g;function Yi(t,e,n){if(null!=t){void 0!==n&&n in Zi(t)&&(e=[n]);for(var r=0,o=e.length;null!=t&&r<o;)t=t[e[r++]];return r&&r==o?t:void 0}}function Qi(t,e){var n=typeof t;return!!("string"==n&&Xi.test(t)||"number"==n)||!Hi(t)&&(!Gi.test(t)||null!=e&&t in Zi(e))}function Ji(t){return t==t&&!ea(t)}function Zi(t){return ea(t)?t:Object(t)}function ta(t){if(Hi(t))return t;var e=[];return function(t){return null==t?"":t+""}(t).replace(Ki,(function(t,n,r,o){e.push(r?o.replace(Wi,"$1"):n||t)})),e}function ea(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function na(t){return t}var ra,oa,ia=function(t,e,n){var r,o=typeof t;return"function"==o?void 0===e?t:Ui(t,e,n):null==t?na:"object"==o?function(t){var e=function(t){var e=Vi(t),n=e.length;for(;n--;)e[n][2]=Ji(e[n][1]);return e}(t);if(1==e.length&&e[0][2]){var n=e[0][0],r=e[0][1];return function(t){return null!=t&&(t[n]===r&&(void 0!==r||n in Zi(t)))}}return function(t){return function(t,e,n){var r=e.length,o=r,i=!n;if(null==t)return!o;t=Zi(t);for(;r--;){var a=e[r];if(i&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++r<o;){var u=(a=e[r])[0],c=t[u],l=a[1];if(i&&a[2]){if(void 0===c&&!(u in t))return!1}else{var s=n?n(c,l,u):void 0;if(!(void 0===s?qi(l,c,n,!0):s))return!1}}return!0}(t,e)}}(t):void 0===e?Qi(r=t)?function(t){return function(e){return null==e?void 0:e[t]}}(r):function(t){var e=t+"";return t=ta(t),function(n){return Yi(n,t,e)}}(r):function(t,e){var n=Hi(t),r=Qi(t)&&Ji(e),o=t+"";return t=ta(t),function(i){if(null==i)return!1;var a,u,c=o;if(i=Zi(i),(n||!r)&&!(c in i)){if(null==(i=1==t.length?i:Yi(i,function(t,e,n){var r=-1,o=t.length;(e=null==e?0:+e||0)<0&&(e=-e>o?0:o+e);(n=void 0===n||n>o?o:+n||0)<0&&(n+=o);o=e>n?0:n-e>>>0,e>>>=0;var i=Array(o);for(;++r<o;)i[r]=t[r+e];return i}(t,0,-1))))return!1;c=(u=(a=t)?a.length:0)?a[u-1]:void 0,i=Zi(i)}return i[c]===e?void 0!==e||c in i:qi(e,i[c],void 0,!0)}}(t,e)},aa=pi,ua=9007199254740991,ca=(ra=function(t,e){return la(t,e,aa)},function(t,e){var n=t?sa(t):0;if(!function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=ua}(n))return ra(t,e);for(var r=oa?n:-1,o=fa(t);(oa?r--:++r<n)&&!1!==e(o[r],r,o););return t}),la=function(t){return function(e,n,r){for(var o=fa(e),i=r(e),a=i.length,u=t?a:-1;t?u--:++u<a;){var c=i[u];if(!1===n(o[c],c,o))break}return e}}();var sa=function(t){return function(e){return null==e?void 0:e[t]}}("length");function fa(t){return function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}(t)?t:Object(t)}var ha=ca;var pa=ia,da=function(t,e,n,r){var o;return n(t,(function(t,n,i){if(e(t,n,i))return o=r?n:t,!1})),o},va=function(t,e,n){for(var r=t.length,o=n?r:-1;n?o--:++o<r;)if(e(t[o],o,t))return o;return-1},ya=$o;var ga=function(t,e){return function(n,r,o){if(r=pa(r,o,3),ya(n)){var i=va(n,r,e);return i>-1?n[i]:void 0}return da(n,r,t)}}(ha),ma=Fi,ba=ga;var _a=function(t,e){return ba(t,ma(e))};var wa=function(t,e,n){if(null!=t){void 0!==n&&n in function(t){return function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}(t)?t:Object(t)}(t)&&(e=[n]);for(var r=0,o=e.length;null!=t&&r<o;)t=t[e[r++]];return r&&r==o?t:void 0}},ja=$o,xa=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,Aa=/\\(\\)?/g;var Oa=function(t){if(ja(t))return t;var e=[];return function(t){return null==t?"":t+""}(t).replace(xa,(function(t,n,r,o){e.push(r?o.replace(Aa,"$1"):n||t)})),e};var Sa=function(t,e){for(var n=-1,r=t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o},ka=ia,Da=ha,Ma=$o,Ca=9007199254740991;function Ea(t,e){var n=-1,r=function(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Ca}(Na(t))}(t)?Array(t.length):[];return Da(t,(function(t,o,i){r[++n]=e(t,o,i)})),r}var Na=function(t){return function(e){return null==e?void 0:e[t]}}("length");var Ra=wa,Ia=Oa,Pa=$o,$a=function(t,e,n){return(Ma(t)?Sa:Ea)(t,e=ka(e,n,3))},Ba=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,Ta=/^\w*$/;function La(t,e){var n=typeof t;return!!("string"==n&&Ta.test(t)||"number"==n)||!Pa(t)&&(!Ba.test(t)||null!=e&&t in function(t){return function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}(t)?t:Object(t)}(e))}var Fa=_a,za=function(t,e){return $a(t,function(t){return La(t)?function(t){return function(e){return null==e?void 0:e[t]}}(t):function(t){var e=t+"";return t=Ia(t),function(n){return Ra(n,t,e)}}(t)}(e))},qa=bo,Ua=me;function Ha(t,e){return t<e?-1:1}var Va=le,Ga=he,Xa=xo,Ka=function(t){return function(t,e){var n=new Set;for(var r in e){e[r].forEach(o)}return[...n];function o(e){n.add(e[t])}}("year",t).map((function(n){var r=function(t,e){var n=new Set;for(var r in e){let o=e[r],i=Fa(o,{year:t});if(i)za(i.monthKits,"month").forEach(n.add.bind(n))}return[...n].sort(Ha)}(n,t);return{year:n,monthKits:r.sort(Ua.compareDesc).map(qa(e)(n))}}));function e(e,n){var r={month:n,projectsWithSort:[]};for(var o in t){let i=t[o],a=Fa(i,{year:e});if(!a)continue;let u=Fa(a.monthKits,{month:n});u&&(r.name=u.name,u.projects&&r.projectsWithSort.push({sort:o,projects:u.projects}))}return r}},Wa=_a,Ya=Va.select("#year-container"),Qa=Va.select("#years-root"),Ja={startDate:"Started",shippedDate:"Shipped",lastGrownDate:"Grown*",lastTendedDate:"Tended**"};function Za(t){return`${Ja[t.sort]} (${t.projects.length})`}function tu(t,e){return new Date(t.committedDate)>new Date(e.committedDate)?-1:1}function eu(t){return`month-sort-section ${t.sort}`}function nu(t){t.monthKits.forEach(ru)}function ru(t){for(var e in Ja)Wa(t.projectsWithSort,{sort:e})||t.projectsWithSort.push({sort:e,projects:[]})}var ou=function({onDeedClick:t}){return function({projectData:e}){Va.selectAll(".view-root:not(#year-container)").classed("hidden",!0),Ya.classed("hidden",!1);var n=Ka({startDate:Xa({projectData:e,sortBy:"startDate"}),shippedDate:Xa({projectData:e,sortBy:"shippedDate"}),lastGrownDate:Xa({projectData:e,sortBy:"lastGrownDate"}),lastTendedDate:Xa({projectData:e,sortBy:"lastTendedDate"})});n.forEach(nu);var r=Qa.selectAll(".year").data(n);r.exit().remove();var o=r.enter().append("div").classed("year",!0).classed("centered-col",!0);o.append("div").classed("year-title",!0),o.append("div").classed("month-root",!0);var i=o.merge(r);i.select(".year-title").text(Ga("year"));var a=i.select(".month-root").selectAll(".month").data(Ga("monthKits"),Ga("month"));a.exit().remove();var u=a.enter().append("div").classed("month",!0).classed("centered-col",!0);u.append("div").classed("month-title",!0),u.append("div").classed("month-sort-section-root",!0);var c=u.merge(a);c.select(".month-title").text(Ga("name"));var l=c.select(".month-sort-section-root").selectAll(".month-sort-section").data(Ga("projectsWithSort"),Ga("sort"));l.exit().remove();var s=l.enter().append("div").classed("month-sort-section",!0);s.append("div").classed("month-sort-name",!0),s.append("div").classed("month-project-root",!0);var f=s.merge(l);f.attr("class",eu).select(".month-sort-name").text(Za);var h=f.select(".month-project-root").selectAll(".project").data(Ga("projects"),Ga());h.exit().remove();var p=h.enter().append("div").classed("project",!0);p.append("div").classed("project-name",!0),p.append("div").classed("project-deed-root",!0),p.on("click",(function(e){t({project:e,deed:e.deeds.sort(tu)[0]})})),p.merge(h).select(".project-name").text(Ga("name"))}};var iu=function(t){var e,n;return t&&(e=t.crownClass),function(t){n&&n.classList.remove(e),t&&(n=t).classList.add(e)}};function au(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function uu(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function cu(){}var lu=.7,su=1/lu,fu="\\s*([+-]?\\d+)\\s*",hu="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",pu="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",du=/^#([0-9a-f]{3})$/,vu=/^#([0-9a-f]{6})$/,yu=new RegExp("^rgb\\("+[fu,fu,fu]+"\\)$"),gu=new RegExp("^rgb\\("+[pu,pu,pu]+"\\)$"),mu=new RegExp("^rgba\\("+[fu,fu,fu,hu]+"\\)$"),bu=new RegExp("^rgba\\("+[pu,pu,pu,hu]+"\\)$"),_u=new RegExp("^hsl\\("+[hu,pu,pu]+"\\)$"),wu=new RegExp("^hsla\\("+[hu,pu,pu,hu]+"\\)$"),ju={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function xu(){return this.rgb().formatHex()}function Au(){return this.rgb().formatRgb()}function Ou(t){var e;return t=(t+"").trim().toLowerCase(),(e=du.exec(t))?new Cu((e=parseInt(e[1],16))>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):(e=vu.exec(t))?Su(parseInt(e[1],16)):(e=yu.exec(t))?new Cu(e[1],e[2],e[3],1):(e=gu.exec(t))?new Cu(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=mu.exec(t))?ku(e[1],e[2],e[3],e[4]):(e=bu.exec(t))?ku(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=_u.exec(t))?Iu(e[1],e[2]/100,e[3]/100,1):(e=wu.exec(t))?Iu(e[1],e[2]/100,e[3]/100,e[4]):ju.hasOwnProperty(t)?Su(ju[t]):"transparent"===t?new Cu(NaN,NaN,NaN,0):null}function Su(t){return new Cu(t>>16&255,t>>8&255,255&t,1)}function ku(t,e,n,r){return r<=0&&(t=e=n=NaN),new Cu(t,e,n,r)}function Du(t){return t instanceof cu||(t=Ou(t)),t?new Cu((t=t.rgb()).r,t.g,t.b,t.opacity):new Cu}function Mu(t,e,n,r){return 1===arguments.length?Du(t):new Cu(t,e,n,null==r?1:r)}function Cu(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Eu(){return"#"+Ru(this.r)+Ru(this.g)+Ru(this.b)}function Nu(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Ru(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Iu(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Bu(t,e,n,r)}function Pu(t){if(t instanceof Bu)return new Bu(t.h,t.s,t.l,t.opacity);if(t instanceof cu||(t=Ou(t)),!t)return new Bu;if(t instanceof Bu)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,o=Math.min(e,n,r),i=Math.max(e,n,r),a=NaN,u=i-o,c=(i+o)/2;return u?(a=e===i?(n-r)/u+6*(n<r):n===i?(r-e)/u+2:(e-n)/u+4,u/=c<.5?i+o:2-i-o,a*=60):u=c>0&&c<1?0:a,new Bu(a,u,c,t.opacity)}function $u(t,e,n,r){return 1===arguments.length?Pu(t):new Bu(t,e,n,null==r?1:r)}function Bu(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Tu(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}au(cu,Ou,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:xu,formatHex:xu,formatHsl:function(){return Pu(this).formatHsl()},formatRgb:Au,toString:Au}),au(Cu,Mu,uu(cu,{brighter:function(t){return t=null==t?su:Math.pow(su,t),new Cu(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?lu:Math.pow(lu,t),new Cu(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Eu,formatHex:Eu,formatRgb:Nu,toString:Nu})),au(Bu,$u,uu(cu,{brighter:function(t){return t=null==t?su:Math.pow(su,t),new Bu(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?lu:Math.pow(lu,t),new Bu(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,o=2*n-r;return new Cu(Tu(t>=240?t-240:t+120,o,r),Tu(t,o,r),Tu(t<120?t+240:t-120,o,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Lu=Math.PI/180,Fu=180/Math.PI,zu=.96422,qu=.82521,Uu=4/29,Hu=6/29,Vu=3*Hu*Hu;function Gu(t){if(t instanceof Ku)return new Ku(t.l,t.a,t.b,t.opacity);if(t instanceof ec)return nc(t);t instanceof Cu||(t=Du(t));var e,n,r=Ju(t.r),o=Ju(t.g),i=Ju(t.b),a=Wu((.2225045*r+.7168786*o+.0606169*i)/1);return r===o&&o===i?e=n=a:(e=Wu((.4360747*r+.3850649*o+.1430804*i)/zu),n=Wu((.0139322*r+.0971045*o+.7141733*i)/qu)),new Ku(116*a-16,500*(e-a),200*(a-n),t.opacity)}function Xu(t,e,n,r){return 1===arguments.length?Gu(t):new Ku(t,e,n,null==r?1:r)}function Ku(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function Wu(t){return t>.008856451679035631?Math.pow(t,1/3):t/Vu+Uu}function Yu(t){return t>Hu?t*t*t:Vu*(t-Uu)}function Qu(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Ju(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Zu(t){if(t instanceof ec)return new ec(t.h,t.c,t.l,t.opacity);if(t instanceof Ku||(t=Gu(t)),0===t.a&&0===t.b)return new ec(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*Fu;return new ec(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function tc(t,e,n,r){return 1===arguments.length?Zu(t):new ec(t,e,n,null==r?1:r)}function ec(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function nc(t){if(isNaN(t.h))return new Ku(t.l,0,0,t.opacity);var e=t.h*Lu;return new Ku(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}au(Ku,Xu,uu(cu,{brighter:function(t){return new Ku(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Ku(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new Cu(Qu(3.1338561*(e=zu*Yu(e))-1.6168667*(t=1*Yu(t))-.4906146*(n=qu*Yu(n))),Qu(-.9787684*e+1.9161415*t+.033454*n),Qu(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),au(ec,tc,uu(cu,{brighter:function(t){return new ec(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new ec(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return nc(this).rgb()}}));var rc=-.14861,oc=1.78277,ic=-.29227,ac=-.90649,uc=1.97294,cc=uc*ac,lc=uc*oc,sc=oc*ic-ac*rc;function fc(t){if(t instanceof pc)return new pc(t.h,t.s,t.l,t.opacity);t instanceof Cu||(t=Du(t));var e=t.r/255,n=t.g/255,r=t.b/255,o=(sc*r+cc*e-lc*n)/(sc+cc-lc),i=r-o,a=(uc*(n-o)-ic*i)/ac,u=Math.sqrt(a*a+i*i)/(uc*o*(1-o)),c=u?Math.atan2(a,i)*Fu-120:NaN;return new pc(c<0?c+360:c,u,o,t.opacity)}function hc(t,e,n,r){return 1===arguments.length?fc(t):new pc(t,e,n,null==r?1:r)}function pc(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}au(pc,hc,uu(cu,{brighter:function(t){return t=null==t?su:Math.pow(su,t),new pc(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?lu:Math.pow(lu,t),new pc(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Lu,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),o=Math.sin(t);return new Cu(255*(e+n*(rc*r+oc*o)),255*(e+n*(ic*r+ac*o)),255*(e+n*(uc*r)),this.opacity)}}));var dc=e(Object.freeze({__proto__:null,color:Ou,rgb:Mu,hsl:$u,lab:Xu,hcl:tc,lch:function(t,e,n,r){return 1===arguments.length?Zu(t):new ec(n,e,t,null==r?1:r)},gray:function(t,e){return new Ku(t,0,0,null==e?1:e)},cubehelix:hc})),vc=le,yc=he,{compareDescForPolyptych:gc}=me,mc=bo,bc=iu,_c=Nn,{hsl:wc}=dc,jc=bc({crownClass:"selected-tych"}),xc=vc.select("#polyptych-container"),Ac=vc.select("#polyptych-root");function Oc(t){var e=Dc(t);return e.length>0?e[0][0]:""}function Sc(t){return!t.profileImage}function kc(t){if("A"!==vc.event.target.tagName){var e=vc.select(".selected-tych");if(!e.empty()){if(e.datum().id===t.id)return this.classList.remove("selected-tych"),void this.scrollIntoView({behavior:"smooth"})}jc(this),this.scrollIntoView({behavior:"smooth"})}}function Dc(t){return Mc(t.links).concat(Mc(t.sources))}function Mc(t){if(t&&Array.isArray(t)){if(t.length<1)return[];if(Array.isArray(t[0]))return t}return[]}function Cc({parentSel:t,className:e,label:n}){var r=t.append("li").classed(e,!0);r.append("span").classed("label",!0).text(n+": "),r.append("span").classed("value",!0)}function Ec(t,e){return e[t]?e[t].toLocaleDateString():"Never"}function Nc(t){var e=wc(_c(t));e.opacity=.4;var n=e.copy();n.s+=.2,n.opacity=.4;var r=e.darker(1);return r.opacity=.25,n.formatHsl()+" "+r.formatHsl()}var Rc=function(){return function({projectData:t}){t.sort(gc),vc.selectAll(".view-root:not(#polyptych-container)").classed("hidden",!0),xc.classed("hidden",!1);var e=Ac.selectAll(".tych").data(t,yc());e.exit().remove();var n=e.enter().append("div").classed("tych",!0).classed("centered-col",!0).on("click",kc);n.append("div").classed("title",!0).append("a").classed("title-link",!0).attr("target","_blank"),n.append("a").classed("project-window-link",!0).attr("target","_blank").append("img").classed("project-window",!0),n.append("div").classed("description",!0),n.append("ul").classed("links-root",!0);var r=n.append("ul").classed("stats",!0);Cc({parentSel:r,className:"last-updated-date",label:"Last updated"}),Cc({parentSel:r,className:"shipped-date",label:"Date shipped"}),Cc({parentSel:r,className:"start-date",label:"Date started"}),Cc({parentSel:r,className:"project-age",label:"Project age"}),Cc({parentSel:r,className:"activity-count",label:"Activity count"});var o=n.merge(e);o.attr("class",(function(t){var e="tych centered-col ";"featured"===t.featuredStatus&&(e+=" featured");return e})),o.select(".title-link").text(yc("name")).attr("href",Oc).style("text-decoration-color",_c),o.select(".project-window-link").attr("href",Oc);var i=o.select(".project-window");i.classed("hidden",Sc),i.attr("src",yc("profileImage")),o.select(".description").html(yc("description"));var a=o.selectAll(".links-root").selectAll("li").data(Dc,yc("0"));a.exit().remove();var u=a.enter().append("li");u.append("a"),u.merge(a).select("a").attr("href",yc("0")).attr("target","_blank").text(yc("1")),o.select(".start-date .value").text(mc(Ec)("startDate")),o.select(".shipped-date .value").text(mc(Ec)("shippedDate")),o.select(".last-updated-date .value").text(mc(Ec)("lastActiveDate")),o.select(".project-age .value").text(yc("activitySpanInDays")),o.select(".activity-count .value").text(yc({path:"activities/length"})),o.style("border-color",_c),o.style("scrollbar-color",Nc)}},Ic=9007199254740991,Pc="[object Arguments]",$c="[object Function]",Bc="[object GeneratorFunction]",Tc=/^(?:0|[1-9]\d*)$/;function Lc(t,e){return function(t,e){for(var n=-1,r=t?t.length:0,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}(e,(function(e){return t[e]}))}var Fc=Object.prototype,zc=Fc.hasOwnProperty,qc=Fc.toString,Uc=Fc.propertyIsEnumerable,Hc=function(t,e){return function(n){return t(e(n))}}(Object.keys,Object);function Vc(t,e){var n=Kc(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&Wc(t)}(t)&&zc.call(t,"callee")&&(!Uc.call(t,"callee")||qc.call(t)==Pc)}(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],r=n.length,o=!!r;for(var i in t)!e&&!zc.call(t,i)||o&&("length"==i||Xc(i,r))||n.push(i);return n}function Gc(t){if(!function(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||Fc;return t===n}(t))return Hc(t);var e=[];for(var n in Object(t))zc.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Xc(t,e){return!!(e=null==e?Ic:e)&&("number"==typeof t||Tc.test(t))&&t>-1&&t%1==0&&t<e}var Kc=Array.isArray;function Wc(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Ic}(t.length)&&!function(t){var e=function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}(t)?qc.call(t):"";return e==$c||e==Bc}(t)}var Yc=function(t){return t?Lc(t,function(t){return Wc(t)?Vc(t):Gc(t)}(t)):[]},Qc="__lodash_hash_undefined__",Jc=9007199254740991,Zc="[object Symbol]",tl=/^\[object .+?Constructor\]$/,el=/^(?:0|[1-9]\d*)$/,nl="object"==typeof t&&t&&t.Object===Object&&t,rl="object"==typeof self&&self&&self.Object===Object&&self,ol=nl||rl||Function("return this")();function il(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function al(t,e){return!!(t?t.length:0)&&function(t,e,n){if(e!=e)return function(t,e,n,r){var o=t.length,i=n+(r?1:-1);for(;r?i--:++i<o;)if(e(t[i],i,t))return i;return-1}(t,sl,n);var r=n-1,o=t.length;for(;++r<o;)if(t[r]===e)return r;return-1}(t,e,0)>-1}function ul(t,e,n){for(var r=-1,o=t?t.length:0;++r<o;)if(n(e,t[r]))return!0;return!1}function cl(t,e){for(var n=-1,r=t?t.length:0,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}function ll(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}function sl(t){return t!=t}function fl(t,e){return t.has(e)}function hl(t,e){return function(n){return t(e(n))}}var pl=Array.prototype,dl=Function.prototype,vl=Object.prototype,yl=ol["__core-js_shared__"],gl=function(){var t=/[^.]+$/.exec(yl&&yl.keys&&yl.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),ml=dl.toString,bl=vl.hasOwnProperty,_l=vl.toString,wl=RegExp("^"+ml.call(bl).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),jl=ol.Symbol,xl=hl(Object.getPrototypeOf,Object),Al=vl.propertyIsEnumerable,Ol=pl.splice,Sl=jl?jl.isConcatSpreadable:void 0,kl=Object.getOwnPropertySymbols,Dl=Math.max,Ml=ql(ol,"Map"),Cl=ql(Object,"create");function El(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Nl(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Rl(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Il(t){var e=-1,n=t?t.length:0;for(this.__data__=new Rl;++e<n;)this.add(t[e])}function Pl(t,e){var n=Yl(t)||Wl(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],r=n.length,o=!!r;for(var i in t)!e&&!bl.call(t,i)||o&&("length"==i||Gl(i,r))||n.push(i);return n}function $l(t,e){for(var n=t.length;n--;)if(Kl(t[n][0],e))return n;return-1}function Bl(t,e,n,r,o){var i=-1,a=t.length;for(n||(n=Vl),o||(o=[]);++i<a;){var u=t[i];e>0&&n(u)?e>1?Bl(u,e-1,n,r,o):ll(o,u):r||(o[o.length]=u)}return o}function Tl(t){return!(!Zl(t)||function(t){return!!gl&&gl in t}(t))&&(Jl(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?wl:tl).test(function(t){if(null!=t){try{return ml.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}function Ll(t){if(!Zl(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e=function(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||vl;return t===n}(t),n=[];for(var r in t)("constructor"!=r||!e&&bl.call(t,r))&&n.push(r);return n}function Fl(t){return function(t,e,n){var r=e(t);return Yl(t)?r:ll(r,n(t))}(t,es,Hl)}function zl(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map}function ql(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return Tl(n)?n:void 0}El.prototype.clear=function(){this.__data__=Cl?Cl(null):{}},El.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},El.prototype.get=function(t){var e=this.__data__;if(Cl){var n=e[t];return n===Qc?void 0:n}return bl.call(e,t)?e[t]:void 0},El.prototype.has=function(t){var e=this.__data__;return Cl?void 0!==e[t]:bl.call(e,t)},El.prototype.set=function(t,e){return this.__data__[t]=Cl&&void 0===e?Qc:e,this},Nl.prototype.clear=function(){this.__data__=[]},Nl.prototype.delete=function(t){var e=this.__data__,n=$l(e,t);return!(n<0)&&(n==e.length-1?e.pop():Ol.call(e,n,1),!0)},Nl.prototype.get=function(t){var e=this.__data__,n=$l(e,t);return n<0?void 0:e[n][1]},Nl.prototype.has=function(t){return $l(this.__data__,t)>-1},Nl.prototype.set=function(t,e){var n=this.__data__,r=$l(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},Rl.prototype.clear=function(){this.__data__={hash:new El,map:new(Ml||Nl),string:new El}},Rl.prototype.delete=function(t){return zl(this,t).delete(t)},Rl.prototype.get=function(t){return zl(this,t).get(t)},Rl.prototype.has=function(t){return zl(this,t).has(t)},Rl.prototype.set=function(t,e){return zl(this,t).set(t,e),this},Il.prototype.add=Il.prototype.push=function(t){return this.__data__.set(t,Qc),this},Il.prototype.has=function(t){return this.__data__.has(t)};var Ul=kl?hl(kl,Object):ns,Hl=kl?function(t){for(var e=[];t;)ll(e,Ul(t)),t=xl(t);return e}:ns;function Vl(t){return Yl(t)||Wl(t)||!!(Sl&&t&&t[Sl])}function Gl(t,e){return!!(e=null==e?Jc:e)&&("number"==typeof t||el.test(t))&&t>-1&&t%1==0&&t<e}function Xl(t){if("string"==typeof t||function(t){return"symbol"==typeof t||ts(t)&&_l.call(t)==Zc}(t))return t;var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e}function Kl(t,e){return t===e||t!=t&&e!=e}function Wl(t){return function(t){return ts(t)&&Ql(t)}(t)&&bl.call(t,"callee")&&(!Al.call(t,"callee")||"[object Arguments]"==_l.call(t))}var Yl=Array.isArray;function Ql(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Jc}(t.length)&&!Jl(t)}function Jl(t){var e=Zl(t)?_l.call(t):"";return"[object Function]"==e||"[object GeneratorFunction]"==e}function Zl(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function ts(t){return!!t&&"object"==typeof t}function es(t){return Ql(t)?Pl(t,!0):Ll(t)}function ns(){return[]}var rs=function(t,e){return e=Dl(void 0===e?t.length-1:e,0),function(){for(var n=arguments,r=-1,o=Dl(n.length-e,0),i=Array(o);++r<o;)i[r]=n[e+r];r=-1;for(var a=Array(e+1);++r<e;)a[r]=n[r];return a[e]=i,il(t,this,a)}}((function(t,e){return null==t?{}:(e=cl(Bl(e,1),Xl),function(t,e){return function(t,e,n){for(var r=-1,o=e.length,i={};++r<o;){var a=e[r],u=t[a];n(u,a)&&(i[a]=u)}return i}(t=Object(t),e,(function(e,n){return n in t}))}(t,function(t,e,n,r){var o=-1,i=al,a=!0,u=t.length,c=[],l=e.length;if(!u)return c;n&&(e=cl(e,function(t){return function(e){return t(e)}}(n))),r?(i=ul,a=!1):e.length>=200&&(i=fl,a=!1,e=new Il(e));t:for(;++o<u;){var s=t[o],f=n?n(s):s;if(s=r||0!==s?s:0,a&&f==f){for(var h=l;h--;)if(e[h]===f)continue t;c.push(s)}else i(e,f,r)||c.push(s)}return c}(Fl(t),e)))}));var os=function(t,e,n){var r=e[n.projectName];if(r)if(r.deeds){var o=function(t,e){for(var n=0;n<t.length;++n)if(t[n].id===e)return n;return-1}(r.deeds,n.id);-1===o?r.deeds.push(n):r.deeds[o]=n}else r.deeds=[],r.deeds.push(n);else t(new Error("No project "+n.projectName+" found."))};var is=function(t,e){var n=e;try{n=JSON.parse(t)}catch(e){console.error("Parsing error on",t)}return n},as=/(.*\n)/;var us=function({request:t,onRepo:e,onCommit:n,commitSourceURL:r},o){var i="";function a(t){let r=is(t);var o;void 0!==r&&((o=r).abbreviatedOid?n(o):e(o))}t({url:r,method:"GET",onData:function(t){if(!(i+=t).includes("\n"))return;let e=i.split(as);for(let t=0;t<e.length;++t){let n=e[t];if(!(n.length<1)){if(!n.endsWith("\n")){i=n;break}a(n)}}}},(function(t){if(t)return void o(t);i.length>0&&a(i);o()}))};var cs=function(t){if(t){console.error(t,t.stack);var e="";t.name&&(e+=t.name+": "),e+=t.message,t.stack&&(e+=" | "+t.stack.toString()),function(t){var e=document.getElementById("status-message");e.textContent=t,e.classList.remove("hidden")}(e)}},ls=le;var ss=function(t){var e=t+"-container";ls.selectAll(".view-root:not(#"+e+")").classed("hidden",!0),ls.select("#"+e).classed("hidden",!1)};const fs=864e5;function hs(t){return{id:t.id,message:t.message,committedDate:new Date(t.committedDate)}}function ps(t,e){return t.committedDate<e.committedDate?-1:1}function ds(t){if(t)return new Date(t.getFullYear()+"-"+(t.getMonth()+1))}var vs=function(t,e=Date.now(),n=!0){if(t.releaseState="inProgress",t.shippedDate&&(t.shippedDate=new Date(t.shippedDate),t.releaseState="shipped"),t.workStopped&&(t.releaseState="workStopped"),t.deeds&&t.deeds.length>0){var r=t.deeds.map(hs);n&&r.sort(ps),r[0].isStart=!0,r[r.length-1].isLastActive=!0,t.startDate=r[0].committedDate,t.lastActiveDate=r[r.length-1].committedDate,t.ageInDays=Math.round((e-t.startDate.getTime())/fs),t.activitySpanInDays=(i=t.lastActiveDate,a=t.startDate,Math.round((i.getTime()-a.getTime())/fs)),t.activities=r;var o=ds(t.lastActiveDate);t.shippedDate?o>ds(t.shippedDate)&&(t.lastTendedDate=t.lastActiveDate):t.lastActiveDate&&o>ds(t.startDate)&&(t.lastGrownDate=t.lastActiveDate)}var i,a;return t},ys="__lodash_hash_undefined__",gs="[object Function]",ms="[object GeneratorFunction]",bs=/^\[object .+?Constructor\]$/,_s="object"==typeof t&&t&&t.Object===Object&&t,ws="object"==typeof self&&self&&self.Object===Object&&self,js=_s||ws||Function("return this")();function xs(t,e){return!!(t?t.length:0)&&function(t,e,n){if(e!=e)return function(t,e,n,r){var o=t.length,i=n+(r?1:-1);for(;r?i--:++i<o;)if(e(t[i],i,t))return i;return-1}(t,Os,n);var r=n-1,o=t.length;for(;++r<o;)if(t[r]===e)return r;return-1}(t,e,0)>-1}function As(t,e,n){for(var r=-1,o=t?t.length:0;++r<o;)if(n(e,t[r]))return!0;return!1}function Os(t){return t!=t}function Ss(t,e){return t.has(e)}function ks(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var Ds=Array.prototype,Ms=Function.prototype,Cs=Object.prototype,Es=js["__core-js_shared__"],Ns=function(){var t=/[^.]+$/.exec(Es&&Es.keys&&Es.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Rs=Ms.toString,Is=Cs.hasOwnProperty,Ps=Cs.toString,$s=RegExp("^"+Rs.call(Is).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Bs=Ds.splice,Ts=Ws(js,"Map"),Ls=Ws(js,"Set"),Fs=Ws(Object,"create");function zs(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function qs(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Us(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Hs(t){var e=-1,n=t?t.length:0;for(this.__data__=new Us;++e<n;)this.add(t[e])}function Vs(t,e){for(var n=t.length;n--;)if(Ys(t[n][0],e))return n;return-1}function Gs(t){return!(!Qs(t)||function(t){return!!Ns&&Ns in t}(t))&&(function(t){var e=Qs(t)?Ps.call(t):"";return e==gs||e==ms}(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?$s:bs).test(function(t){if(null!=t){try{return Rs.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}zs.prototype.clear=function(){this.__data__=Fs?Fs(null):{}},zs.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},zs.prototype.get=function(t){var e=this.__data__;if(Fs){var n=e[t];return n===ys?void 0:n}return Is.call(e,t)?e[t]:void 0},zs.prototype.has=function(t){var e=this.__data__;return Fs?void 0!==e[t]:Is.call(e,t)},zs.prototype.set=function(t,e){return this.__data__[t]=Fs&&void 0===e?ys:e,this},qs.prototype.clear=function(){this.__data__=[]},qs.prototype.delete=function(t){var e=this.__data__,n=Vs(e,t);return!(n<0)&&(n==e.length-1?e.pop():Bs.call(e,n,1),!0)},qs.prototype.get=function(t){var e=this.__data__,n=Vs(e,t);return n<0?void 0:e[n][1]},qs.prototype.has=function(t){return Vs(this.__data__,t)>-1},qs.prototype.set=function(t,e){var n=this.__data__,r=Vs(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},Us.prototype.clear=function(){this.__data__={hash:new zs,map:new(Ts||qs),string:new zs}},Us.prototype.delete=function(t){return Ks(this,t).delete(t)},Us.prototype.get=function(t){return Ks(this,t).get(t)},Us.prototype.has=function(t){return Ks(this,t).has(t)},Us.prototype.set=function(t,e){return Ks(this,t).set(t,e),this},Hs.prototype.add=Hs.prototype.push=function(t){return this.__data__.set(t,ys),this},Hs.prototype.has=function(t){return this.__data__.has(t)};var Xs=Ls&&1/ks(new Ls([,-0]))[1]==1/0?function(t){return new Ls(t)}:function(){};function Ks(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map}function Ws(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return Gs(n)?n:void 0}function Ys(t,e){return t===e||t!=t&&e!=e}function Qs(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var Js=function(t){return t&&t.length?function(t,e,n){var r=-1,o=xs,i=t.length,a=!0,u=[],c=u;if(n)a=!1,o=As;else if(i>=200){var l=e?null:Xs(t);if(l)return ks(l);a=!1,o=Ss,c=new Hs}else c=e?[]:u;t:for(;++r<i;){var s=t[r],f=e?e(s):s;if(s=n||0!==s?s:0,a&&f==f){for(var h=c.length;h--;)if(c[h]===f)continue t;e&&c.push(f),u.push(s)}else o(c,f,n)||(c!==u&&c.push(f),u.push(s))}return u}(t):[]};var Zs=function(t){for(var e=-1,n=t?t.length:0,r=0,o=[];++e<n;){var i=t[e];i&&(o[r++]=i)}return o};var tf={parse:function(t){return t?Zs(t.split("|")):[]},stringify:function(t){return t.join("|")}},ef=document.getElementById("progress-message");var nf=function({deedCount:t,projectCount:e,active:n}){ef.textContent=`Gathered ${e} projects and ${t} deeds.`,n?ef.classList.add("active"):ef.classList.remove("active")};var rf=function({projectData:t,filterCriteria:e,filterMode:n="some"}){var r=t;return e&&e.length>0&&(r=t.filter((function(t){return e[n](r);function r(e){var n=t[e.category];return Array.isArray(n)?-1!==n.indexOf(e.name):n===e.name}}))),r},of=[{category:"releaseState",name:"shipped",roles:["filter","groupBy"]},{category:"releaseState",name:"inProgress",roles:["filter","groupBy"]},{category:"featuredStatus",name:"featured",roles:["filter"]},{category:"importance",name:"importance",roles:["sortBy"]},{category:"date",name:"startDate",roles:["sortBy"]},{category:"date",name:"shippedDate",roles:["sortBy"]},{category:"date",name:"lastActiveDate",roles:["sortBy"]},{category:"purpose",name:"purpose",roles:["groupBy"]},{category:"purpose",name:"library",roles:["filter"]},{category:"purpose",name:"tool",roles:["filter"]},{category:"purpose",name:"explanation",roles:["filter"]},{category:"purpose",name:"art",roles:["filter"]},{category:"purpose",name:"game",roles:["filter"]},{category:"purpose",name:"information",roles:["filter"]},{category:"purpose",name:"library",roles:["filter"]},{category:"environment",name:"environment",roles:["groupBy"]},{category:"environment",name:"browser",roles:["filter"]},{category:"environment",name:"server",roles:["filter"]},{category:"environment",name:"terminal",roles:["filter"]},{category:"environment",name:"anywhere",roles:["filter"]},{category:"environment",name:"ios",roles:["filter"]},{category:"environment",name:"osx",roles:["filter"]},{category:"form",name:"form",roles:["groupBy"]},{category:"form",name:"app",roles:["filter"]},{category:"form",name:"service",roles:["filter"]},{category:"form",name:"script",roles:["filter"]},{category:"form",name:"module",roles:["filter"]},{category:"form",name:"browser-extension",roles:["filter"]},{category:"form",name:"bot",roles:["filter"]},{category:"form",name:"image",roles:["filter"]},{category:"form",name:"job",roles:["filter"]},{category:"form",name:"source",roles:["filter"]},{category:"form",name:"document",roles:["filter"]}],af=of;var uf,cf,lf=function(t,e=af){return e.filter((function(e){return-1!==t.indexOf(e.name)}))},sf=0,ff=0,hf=0,pf=0,df=0,vf=0,yf="object"==typeof performance&&performance.now?performance:Date,gf="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function mf(){return df||(gf(bf),df=yf.now()+vf)}function bf(){df=0}function _f(){this._call=this._time=this._next=null}function wf(t,e,n){var r=new _f;return r.restart(t,e,n),r}function jf(){mf(),++sf;for(var t,e=uf;e;)(t=df-e._time)>=0&&e._call.call(null,t),e=e._next;--sf}function xf(){df=(pf=yf.now())+vf,sf=ff=0;try{jf()}finally{sf=0,function(){var t,e,n=uf,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:uf=e);cf=t,Of(r)}(),df=0}}function Af(){var t=yf.now(),e=t-pf;e>1e3&&(vf-=e,pf=t)}function Of(t){sf||(ff&&(ff=clearTimeout(ff)),t-df>24?(t<1/0&&(ff=setTimeout(xf,t-yf.now()-vf)),hf&&(hf=clearInterval(hf))):(hf||(pf=yf.now(),hf=setInterval(Af,1e3)),sf=1,gf(xf)))}function Sf(t,e,n){var r=new _f;return e=null==e?0:+e,r.restart((function(n){r.stop(),t(n+e)}),e,n),r}_f.prototype=wf.prototype={constructor:_f,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?mf():+n)+(null==e?0:+e),this._next||cf===this||(cf?cf._next=this:uf=this,cf=this),this._call=t,this._time=n,Of()},stop:function(){this._call&&(this._call=null,this._time=1/0,Of())}};var kf=e(Object.freeze({__proto__:null,now:mf,timer:wf,timerFlush:jf,timeout:Sf,interval:function(t,e,n){var r=new _f,o=e;return null==e?(r.restart(t,e,n),r):(e=+e,n=null==n?mf():+n,r.restart((function i(a){a+=o,r.restart(i,o+=e,n),t(a)}),e,n),r)}}));function Df(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function Mf(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Cf=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),Ef=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),Nf=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),Rf=Math.PI,If=Rf/2;function Pf(t){return(1-Math.cos(Rf*t))/2}function $f(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function Bf(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var Tf=4/11,Lf=7.5625;function Ff(t){return(t=+t)<Tf?Lf*t*t:t<.7272727272727273?Lf*(t-=.5454545454545454)*t+.75:t<.9090909090909091?Lf*(t-=.8181818181818182)*t+.9375:Lf*(t-=.9545454545454546)*t+.984375}var zf=1.70158,qf=function t(e){function n(t){return t*t*((e+1)*t-e)}return e=+e,n.overshoot=t,n}(zf),Uf=function t(e){function n(t){return--t*t*((e+1)*t+e)+1}return e=+e,n.overshoot=t,n}(zf),Hf=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(zf),Vf=2*Math.PI,Gf=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Vf);function o(t){return e*Math.pow(2,10*--t)*Math.sin((r-t)/n)}return o.amplitude=function(e){return t(e,n*Vf)},o.period=function(n){return t(e,n)},o}(1,.3),Xf=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Vf);function o(t){return 1-e*Math.pow(2,-10*(t=+t))*Math.sin((t+r)/n)}return o.amplitude=function(e){return t(e,n*Vf)},o.period=function(n){return t(e,n)},o}(1,.3),Kf=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Vf);function o(t){return((t=2*t-1)<0?e*Math.pow(2,10*t)*Math.sin((r-t)/n):2-e*Math.pow(2,-10*t)*Math.sin((r+t)/n))/2}return o.amplitude=function(e){return t(e,n*Vf)},o.period=function(n){return t(e,n)},o}(1,.3),Wf=e(Object.freeze({__proto__:null,easeLinear:function(t){return+t},easeQuad:Df,easeQuadIn:function(t){return t*t},easeQuadOut:function(t){return t*(2-t)},easeQuadInOut:Df,easeCubic:Mf,easeCubicIn:function(t){return t*t*t},easeCubicOut:function(t){return--t*t*t+1},easeCubicInOut:Mf,easePoly:Nf,easePolyIn:Cf,easePolyOut:Ef,easePolyInOut:Nf,easeSin:Pf,easeSinIn:function(t){return 1-Math.cos(t*If)},easeSinOut:function(t){return Math.sin(t*If)},easeSinInOut:Pf,easeExp:$f,easeExpIn:function(t){return Math.pow(2,10*t-10)},easeExpOut:function(t){return 1-Math.pow(2,-10*t)},easeExpInOut:$f,easeCircle:Bf,easeCircleIn:function(t){return 1-Math.sqrt(1-t*t)},easeCircleOut:function(t){return Math.sqrt(1- --t*t)},easeCircleInOut:Bf,easeBounce:Ff,easeBounceIn:function(t){return 1-Ff(1-t)},easeBounceOut:Ff,easeBounceInOut:function(t){return((t*=2)<=1?1-Ff(1-t):Ff(t-1)+1)/2},easeBack:Hf,easeBackIn:qf,easeBackOut:Uf,easeBackInOut:Hf,easeElastic:Xf,easeElasticIn:Gf,easeElasticOut:Xf,easeElasticInOut:Kf})),Yf=kf.timer,Qf=Wf.easeCubicIn;var Jf=function({fn:t}){var e,n,r=0;return function(i){e?n=i:(t(i),e=Yf(o,1e3*Qf((r+=1)/50)))};function o(){e.stop(),e=null,n&&(r+=1,t(n),n=void 0)}},Zf={exports:{}};!function(e,n){var r="__lodash_hash_undefined__",o=9007199254740991,i="[object Arguments]",a="[object Array]",u="[object Boolean]",c="[object Date]",l="[object Error]",s="[object Function]",f="[object Map]",h="[object Number]",p="[object Object]",d="[object Promise]",v="[object RegExp]",y="[object Set]",g="[object String]",m="[object Symbol]",b="[object WeakMap]",_="[object ArrayBuffer]",w="[object DataView]",j=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,x=/^\w*$/,A=/^\./,O=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,S=/\\(\\)?/g,k=/^\[object .+?Constructor\]$/,D=/^(?:0|[1-9]\d*)$/,M={};M["[object Float32Array]"]=M["[object Float64Array]"]=M["[object Int8Array]"]=M["[object Int16Array]"]=M["[object Int32Array]"]=M["[object Uint8Array]"]=M["[object Uint8ClampedArray]"]=M["[object Uint16Array]"]=M["[object Uint32Array]"]=!0,M[i]=M[a]=M[_]=M[u]=M[w]=M[c]=M[l]=M[s]=M[f]=M[h]=M[p]=M[v]=M[y]=M[g]=M[b]=!1;var C="object"==typeof t&&t&&t.Object===Object&&t,E="object"==typeof self&&self&&self.Object===Object&&self,N=C||E||Function("return this")(),R=n&&!n.nodeType&&n,I=R&&e&&!e.nodeType&&e,P=I&&I.exports===R&&C.process,$=function(){try{return P&&P.binding("util")}catch(t){}}(),B=$&&$.isTypedArray;function T(t,e,n,r){for(var o=-1,i=t?t.length:0;++o<i;){var a=t[o];e(r,a,n(a),t)}return r}function L(t,e){for(var n=-1,r=t?t.length:0;++n<r;)if(e(t[n],n,t))return!0;return!1}function F(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function z(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function q(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var U=Array.prototype,H=Function.prototype,V=Object.prototype,G=N["__core-js_shared__"],X=function(){var t=/[^.]+$/.exec(G&&G.keys&&G.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),K=H.toString,W=V.hasOwnProperty,Y=V.toString,Q=RegExp("^"+K.call(W).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),J=N.Symbol,Z=N.Uint8Array,tt=V.propertyIsEnumerable,et=U.splice,nt=function(t,e){return function(n){return t(e(n))}}(Object.keys,Object),rt=$t(N,"DataView"),ot=$t(N,"Map"),it=$t(N,"Promise"),at=$t(N,"Set"),ut=$t(N,"WeakMap"),ct=$t(Object,"create"),lt=Ht(rt),st=Ht(ot),ft=Ht(it),ht=Ht(at),pt=Ht(ut),dt=J?J.prototype:void 0,vt=dt?dt.valueOf:void 0,yt=dt?dt.toString:void 0;function gt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function mt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function bt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function _t(t){var e=-1,n=t?t.length:0;for(this.__data__=new bt;++e<n;)this.add(t[e])}function wt(t){this.__data__=new mt(t)}function jt(t,e){var n=Qt(t)||Yt(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],r=n.length,o=!!r;for(var i in t)!e&&!W.call(t,i)||o&&("length"==i||Tt(i,r))||n.push(i);return n}function xt(t,e){for(var n=t.length;n--;)if(Wt(t[n][0],e))return n;return-1}function At(t,e,n,r){return Ot(t,(function(t,o,i){e(r,t,n(t),i)})),r}gt.prototype.clear=function(){this.__data__=ct?ct(null):{}},gt.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},gt.prototype.get=function(t){var e=this.__data__;if(ct){var n=e[t];return n===r?void 0:n}return W.call(e,t)?e[t]:void 0},gt.prototype.has=function(t){var e=this.__data__;return ct?void 0!==e[t]:W.call(e,t)},gt.prototype.set=function(t,e){return this.__data__[t]=ct&&void 0===e?r:e,this},mt.prototype.clear=function(){this.__data__=[]},mt.prototype.delete=function(t){var e=this.__data__,n=xt(e,t);return!(n<0)&&(n==e.length-1?e.pop():et.call(e,n,1),!0)},mt.prototype.get=function(t){var e=this.__data__,n=xt(e,t);return n<0?void 0:e[n][1]},mt.prototype.has=function(t){return xt(this.__data__,t)>-1},mt.prototype.set=function(t,e){var n=this.__data__,r=xt(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},bt.prototype.clear=function(){this.__data__={hash:new gt,map:new(ot||mt),string:new gt}},bt.prototype.delete=function(t){return Pt(this,t).delete(t)},bt.prototype.get=function(t){return Pt(this,t).get(t)},bt.prototype.has=function(t){return Pt(this,t).has(t)},bt.prototype.set=function(t,e){return Pt(this,t).set(t,e),this},_t.prototype.add=_t.prototype.push=function(t){return this.__data__.set(t,r),this},_t.prototype.has=function(t){return this.__data__.has(t)},wt.prototype.clear=function(){this.__data__=new mt},wt.prototype.delete=function(t){return this.__data__.delete(t)},wt.prototype.get=function(t){return this.__data__.get(t)},wt.prototype.has=function(t){return this.__data__.has(t)},wt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof mt){var r=n.__data__;if(!ot||r.length<199)return r.push([t,e]),this;n=this.__data__=new bt(r)}return n.set(t,e),this};var Ot=function(t,e){return function(n,r){if(null==n)return n;if(!Jt(n))return t(n,r);for(var o=n.length,i=e?o:-1,a=Object(n);(e?i--:++i<o)&&!1!==r(a[i],i,a););return n}}((function(t,e){return t&&St(t,e,ie)})),St=function(t){return function(e,n,r){for(var o=-1,i=Object(e),a=r(e),u=a.length;u--;){var c=a[t?u:++o];if(!1===n(i[c],c,i))break}return e}}();function kt(t,e){for(var n=0,r=(e=Lt(e,t)?[e]:Rt(e)).length;null!=t&&n<r;)t=t[Ut(e[n++])];return n&&n==r?t:void 0}function Dt(t,e){return null!=t&&e in Object(t)}function Mt(t,e,n,r,o){return t===e||(null==t||null==e||!ee(t)&&!ne(e)?t!=t&&e!=e:function(t,e,n,r,o,s){var d=Qt(t),b=Qt(e),j=a,x=a;d||(j=(j=Bt(t))==i?p:j);b||(x=(x=Bt(e))==i?p:x);var A=j==p&&!F(t),O=x==p&&!F(e),S=j==x;if(S&&!A)return s||(s=new wt),d||oe(t)?It(t,e,n,r,o,s):function(t,e,n,r,o,i,a){switch(n){case w:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case _:return!(t.byteLength!=e.byteLength||!r(new Z(t),new Z(e)));case u:case c:case h:return Wt(+t,+e);case l:return t.name==e.name&&t.message==e.message;case v:case g:return t==e+"";case f:var s=z;case y:var p=2&i;if(s||(s=q),t.size!=e.size&&!p)return!1;var d=a.get(t);if(d)return d==e;i|=1,a.set(t,e);var b=It(s(t),s(e),r,o,i,a);return a.delete(t),b;case m:if(vt)return vt.call(t)==vt.call(e)}return!1}(t,e,j,n,r,o,s);if(!(2&o)){var k=A&&W.call(t,"__wrapped__"),D=O&&W.call(e,"__wrapped__");if(k||D){var M=k?t.value():t,C=D?e.value():e;return s||(s=new wt),n(M,C,r,o,s)}}if(!S)return!1;return s||(s=new wt),function(t,e,n,r,o,i){var a=2&o,u=ie(t),c=u.length,l=ie(e).length;if(c!=l&&!a)return!1;var s=c;for(;s--;){var f=u[s];if(!(a?f in e:W.call(e,f)))return!1}var h=i.get(t);if(h&&i.get(e))return h==e;var p=!0;i.set(t,e),i.set(e,t);var d=a;for(;++s<c;){var v=t[f=u[s]],y=e[f];if(r)var g=a?r(y,v,f,e,t,i):r(v,y,f,t,e,i);if(!(void 0===g?v===y||n(v,y,r,o,i):g)){p=!1;break}d||(d="constructor"==f)}if(p&&!d){var m=t.constructor,b=e.constructor;m==b||!("constructor"in t)||!("constructor"in e)||"function"==typeof m&&m instanceof m&&"function"==typeof b&&b instanceof b||(p=!1)}return i.delete(t),i.delete(e),p}(t,e,n,r,o,s)}(t,e,Mt,n,r,o))}function Ct(t){return!(!ee(t)||function(t){return!!X&&X in t}(t))&&(Zt(t)||F(t)?Q:k).test(Ht(t))}function Et(t){return"function"==typeof t?t:null==t?ae:"object"==typeof t?Qt(t)?function(t,e){if(Lt(t)&&Ft(e))return zt(Ut(t),e);return function(n){var r=function(t,e,n){var r=null==t?void 0:kt(t,e);return void 0===r?n:r}(n,t);return void 0===r&&r===e?function(t,e){return null!=t&&function(t,e,n){e=Lt(e,t)?[e]:Rt(e);var r,o=-1,i=e.length;for(;++o<i;){var a=Ut(e[o]);if(!(r=null!=t&&n(t,a)))break;t=t[a]}if(r)return r;return!!(i=t?t.length:0)&&te(i)&&Tt(a,i)&&(Qt(t)||Yt(t))}(t,e,Dt)}(n,t):Mt(e,r,void 0,3)}}(t[0],t[1]):function(t){var e=function(t){var e=ie(t),n=e.length;for(;n--;){var r=e[n],o=t[r];e[n]=[r,o,Ft(o)]}return e}(t);if(1==e.length&&e[0][2])return zt(e[0][0],e[0][1]);return function(n){return n===t||function(t,e,n,r){var o=n.length,i=o,a=!r;if(null==t)return!i;for(t=Object(t);o--;){var u=n[o];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++o<i;){var c=(u=n[o])[0],l=t[c],s=u[1];if(a&&u[2]){if(void 0===l&&!(c in t))return!1}else{var f=new wt;if(r)var h=r(l,s,c,t,e,f);if(!(void 0===h?Mt(s,l,r,3,f):h))return!1}}return!0}(n,t,e)}}(t):Lt(e=t)?function(t){return function(e){return null==e?void 0:e[t]}}(Ut(e)):function(t){return function(e){return kt(e,t)}}(e);var e}function Nt(t){if(!function(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||V;return t===n}(t))return nt(t);var e=[];for(var n in Object(t))W.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Rt(t){return Qt(t)?t:qt(t)}function It(t,e,n,r,o,i){var a=2&o,u=t.length,c=e.length;if(u!=c&&!(a&&c>u))return!1;var l=i.get(t);if(l&&i.get(e))return l==e;var s=-1,f=!0,h=1&o?new _t:void 0;for(i.set(t,e),i.set(e,t);++s<u;){var p=t[s],d=e[s];if(r)var v=a?r(d,p,s,e,t,i):r(p,d,s,t,e,i);if(void 0!==v){if(v)continue;f=!1;break}if(h){if(!L(e,(function(t,e){if(!h.has(e)&&(p===t||n(p,t,r,o,i)))return h.add(e)}))){f=!1;break}}else if(p!==d&&!n(p,d,r,o,i)){f=!1;break}}return i.delete(t),i.delete(e),f}function Pt(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map}function $t(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return Ct(n)?n:void 0}var Bt=function(t){return Y.call(t)};function Tt(t,e){return!!(e=null==e?o:e)&&("number"==typeof t||D.test(t))&&t>-1&&t%1==0&&t<e}function Lt(t,e){if(Qt(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!re(t))||(x.test(t)||!j.test(t)||null!=e&&t in Object(e))}function Ft(t){return t==t&&!ee(t)}function zt(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}(rt&&Bt(new rt(new ArrayBuffer(1)))!=w||ot&&Bt(new ot)!=f||it&&Bt(it.resolve())!=d||at&&Bt(new at)!=y||ut&&Bt(new ut)!=b)&&(Bt=function(t){var e=Y.call(t),n=e==p?t.constructor:void 0,r=n?Ht(n):void 0;if(r)switch(r){case lt:return w;case st:return f;case ft:return d;case ht:return y;case pt:return b}return e});var qt=Kt((function(t){t=function(t){return null==t?"":function(t){if("string"==typeof t)return t;if(re(t))return yt?yt.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}(t)}(t);var e=[];return A.test(t)&&e.push(""),t.replace(O,(function(t,n,r,o){e.push(r?o.replace(S,"$1"):n||t)})),e}));function Ut(t){if("string"==typeof t||re(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Ht(t){if(null!=t){try{return K.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var Vt,Gt,Xt=(Vt=function(t,e,n){W.call(t,n)?t[n].push(e):t[n]=[e]},function(t,e){var n=Qt(t)?T:At,r=Gt?Gt():{};return n(t,Vt,Et(e),r)});function Kt(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=t.apply(this,r);return n.cache=i.set(o,a),a};return n.cache=new(Kt.Cache||bt),n}function Wt(t,e){return t===e||t!=t&&e!=e}function Yt(t){return function(t){return ne(t)&&Jt(t)}(t)&&W.call(t,"callee")&&(!tt.call(t,"callee")||Y.call(t)==i)}Kt.Cache=bt;var Qt=Array.isArray;function Jt(t){return null!=t&&te(t.length)&&!Zt(t)}function Zt(t){var e=ee(t)?Y.call(t):"";return e==s||"[object GeneratorFunction]"==e}function te(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=o}function ee(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function ne(t){return!!t&&"object"==typeof t}function re(t){return"symbol"==typeof t||ne(t)&&Y.call(t)==m}var oe=B?function(t){return function(e){return t(e)}}(B):function(t){return ne(t)&&te(t.length)&&!!M[Y.call(t)]};function ie(t){return Jt(t)?jt(t):Nt(t)}function ae(t){return t}e.exports=Xt}(Zf,Zf.exports);var th=le,eh=bo,nh=he,rh=Zf.exports,oh=tf,ih=of.filter((function(t){return-1!==t.roles.indexOf("filter")})),ah=/([a-z]+)([A-Z])([a-z]+)/;function uh(t){var e=t.match(ah);return e&&e.length>3?ch(e[1])+" "+e[2].toLowerCase()+e[3]:ch(t)}function ch(t){return t.slice(0,1).toUpperCase()+t.slice(1)}function lh(t){return uh(t.name)}function sh(t,e){return-1!==e.roles.indexOf(t)}function fh(t){return t.category+"|"+t.name}var hh=function({containerSelector:t,criteria:e=ih,selectedCriteriaNames:n,filterMode:r,onCriteriaControlChange:o,onCriteriaFilterModeChange:i}){var a=oh.parse(n),u=th.select(t),c=document.getElementById("filter-some-option"),l=document.getElementById("filter-every-option");function s(t,n,r=!1){th.select(c).on("click",(function(){i({filterMode:"some"}),l.removeAttribute("checked")})),th.select(l).on("click",(function(){i({filterMode:"every"}),c.removeAttribute("checked")}));var o=e.filter(eh(sh)(n)),a=rh(o,"category"),s=u.select("."+t+"-list").selectAll("."+t+"-category-root").data(Object.keys(a),nh("identity"));s.exit().remove();var p=s.enter().append("div").classed(t+"-category-root",!0);p.append("h5").classed("category-title",!0),p.append("ul").classed(t+"-criteria-root",!0),r&&p.on("click",eh(f)(t));var d=p.merge(s);if(d.select(".category-title").text(uh),!r){var v=d.selectAll("."+t+"-criteria-root").selectAll(".criterion").data((function(t){return a[t]}),fh);v.exit().remove(),v.enter().append("li").classed("criterion",!0).classed("selected",h).on("click",eh(f)(t)).merge(v).text(lh)}}function f(t,e){if("filter"===t){var n=th.select(this),r=n.classed("selected");r=!r,n.classed("selected",r)}o({criterion:e,criterionType:t,selected:r})}function h(t){return-1!==a.indexOf(t.name)}"some"===r?(c.setAttribute("checked","checked"),l.removeAttribute("checked")):(l.setAttribute("checked","checked"),c.removeAttribute("checked")),s("filter","filter"),s("sort","sortBy"),s("group-by","groupBy",!0)},ph={value:function(){}};function dh(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new vh(r)}function vh(t){this._=t}function yh(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function gh(t,e){for(var n,r=0,o=t.length;r<o;++r)if((n=t[r]).name===e)return n.value}function mh(t,e,n){for(var r=0,o=t.length;r<o;++r)if(t[r].name===e){t[r]=ph,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}vh.prototype=dh.prototype={constructor:vh,on:function(t,e){var n,r=this._,o=yh(t+"",r),i=-1,a=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++i<a;)if(n=(t=o[i]).type)r[n]=mh(r[n],t.name,e);else if(null==e)for(n in r)r[n]=mh(r[n],t.name,null);return this}for(;++i<a;)if((n=(t=o[i]).type)&&(n=gh(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new vh(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,o=new Array(n),i=0;i<n;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=0,n=(r=this._[t]).length;i<n;++i)r[i].value.apply(e,o)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],o=0,i=r.length;o<i;++o)r[o].value.apply(e,n)}};var bh=dh("start","end","interrupt"),_h=[];function wh(t,e,n,r,o,i){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var r,o=t.__transition;function i(t){n.state=1,n.timer.restart(a,n.delay,n.time),n.delay<=t&&a(t-n.delay)}function a(i){var l,s,f,h;if(1!==n.state)return c();for(l in o)if((h=o[l]).name===n.name){if(3===h.state)return Sf(a);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete o[l]):+l<e&&(h.state=6,h.timer.stop(),delete o[l])}if(Sf((function(){3===n.state&&(n.state=4,n.timer.restart(u,n.delay,n.time),u(i))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(f=n.tween.length),l=0,s=-1;l<f;++l)(h=n.tween[l].value.call(t,t.__data__,n.index,n.group))&&(r[++s]=h);r.length=s+1}}function u(e){for(var o=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(c),n.state=5,1),i=-1,a=r.length;++i<a;)r[i].call(null,o);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),c())}function c(){for(var r in n.state=6,n.timer.stop(),delete o[e],o)return;delete t.__transition}o[e]=n,n.timer=wf(i,0,n.time)}(t,n,{name:e,index:r,group:o,on:bh,tween:_h,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:0})}function jh(t,e){var n=Ah(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function xh(t,e){var n=Ah(t,e);if(n.state>2)throw new Error("too late; already started");return n}function Ah(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Oh(t){return function(){return t}}function Sh(t){return 1==(t=+t)?kh:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Oh(isNaN(e)?n:e)}}function kh(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):Oh(isNaN(t)?e:t)}var Dh=function t(e){var n=Sh(e);function r(t,e){var r=n((t=Mu(t)).r,(e=Mu(e)).r),o=n(t.g,e.g),i=n(t.b,e.b),a=kh(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=o(e),t.b=i(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function Mh(t,e){return e-=t=+t,function(n){return t+e*n}}var Ch=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Eh=new RegExp(Ch.source,"g");function Nh(t,e){var n,r,o,i=Ch.lastIndex=Eh.lastIndex=0,a=-1,u=[],c=[];for(t+="",e+="";(n=Ch.exec(t))&&(r=Eh.exec(e));)(o=r.index)>i&&(o=e.slice(i,o),u[a]?u[a]+=o:u[++a]=o),(n=n[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,c.push({i:a,x:Mh(n,r)})),i=Eh.lastIndex;return i<e.length&&(o=e.slice(i),u[a]?u[a]+=o:u[++a]=o),u.length<2?c[0]?function(t){return function(e){return t(e)+""}}(c[0].x):function(t){return function(){return t}}(e):(e=c.length,function(t){for(var n,r=0;r<e;++r)u[(n=c[r]).i]=n.x(t);return u.join("")})}var Rh,Ih,Ph,$h,Bh=180/Math.PI,Th={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Lh(t,e,n,r,o,i){var a,u,c;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(c=t*n+e*r)&&(n-=t*c,r-=e*c),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,c/=u),t*r<e*n&&(t=-t,e=-e,c=-c,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(e,t)*Bh,skewX:Math.atan(c)*Bh,scaleX:a,scaleY:u}}function Fh(t,e,n,r){function o(t){return t.length?t.pop()+" ":""}return function(i,a){var u=[],c=[];return i=t(i),a=t(a),function(t,r,o,i,a,u){if(t!==o||r!==i){var c=a.push("translate(",null,e,null,n);u.push({i:c-4,x:Mh(t,o)},{i:c-2,x:Mh(r,i)})}else(o||i)&&a.push("translate("+o+e+i+n)}(i.translateX,i.translateY,a.translateX,a.translateY,u,c),function(t,e,n,i){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),i.push({i:n.push(o(n)+"rotate(",null,r)-2,x:Mh(t,e)})):e&&n.push(o(n)+"rotate("+e+r)}(i.rotate,a.rotate,u,c),function(t,e,n,i){t!==e?i.push({i:n.push(o(n)+"skewX(",null,r)-2,x:Mh(t,e)}):e&&n.push(o(n)+"skewX("+e+r)}(i.skewX,a.skewX,u,c),function(t,e,n,r,i,a){if(t!==n||e!==r){var u=i.push(o(i)+"scale(",null,",",null,")");a.push({i:u-4,x:Mh(t,n)},{i:u-2,x:Mh(e,r)})}else 1===n&&1===r||i.push(o(i)+"scale("+n+","+r+")")}(i.scaleX,i.scaleY,a.scaleX,a.scaleY,u,c),i=a=null,function(t){for(var e,n=-1,r=c.length;++n<r;)u[(e=c[n]).i]=e.x(t);return u.join("")}}}var zh=Fh((function(t){return"none"===t?Th:(Rh||(Rh=document.createElement("DIV"),Ih=document.documentElement,Ph=document.defaultView),Rh.style.transform=t,t=Ph.getComputedStyle(Ih.appendChild(Rh),null).getPropertyValue("transform"),Ih.removeChild(Rh),Lh(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),qh=Fh((function(t){return null==t?Th:($h||($h=document.createElementNS("http://www.w3.org/2000/svg","g")),$h.setAttribute("transform",t),(t=$h.transform.baseVal.consolidate())?Lh((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Th)}),", ",")",")");function Uh(t,e){var n,r;return function(){var o=xh(this,t),i=o.tween;if(i!==n)for(var a=0,u=(r=n=i).length;a<u;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}o.tween=r}}function Hh(t,e,n){var r,o;if("function"!=typeof n)throw new Error;return function(){var i=xh(this,t),a=i.tween;if(a!==r){o=(r=a).slice();for(var u={name:e,value:n},c=0,l=o.length;c<l;++c)if(o[c].name===e){o[c]=u;break}c===l&&o.push(u)}i.tween=o}}function Vh(t,e,n){var r=t._id;return t.each((function(){var t=xh(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return Ah(t,r).value[e]}}function Gh(t,e){var n;return("number"==typeof e?Mh:e instanceof Ou?Dh:(n=Ou(e))?(e=n,Dh):Nh)(t,e)}function Xh(t){return function(){this.removeAttribute(t)}}function Kh(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Wh(t,e,n){var r,o;return function(){var i=this.getAttribute(t);return i===n?null:i===r?o:o=e(r=i,n)}}function Yh(t,e,n){var r,o;return function(){var i=this.getAttributeNS(t.space,t.local);return i===n?null:i===r?o:o=e(r=i,n)}}function Qh(t,e,n){var r,o,i;return function(){var a,u=n(this);if(null!=u)return(a=this.getAttribute(t))===u?null:a===r&&u===o?i:i=e(r=a,o=u);this.removeAttribute(t)}}function Jh(t,e,n){var r,o,i;return function(){var a,u=n(this);if(null!=u)return(a=this.getAttributeNS(t.space,t.local))===u?null:a===r&&u===o?i:i=e(r=a,o=u);this.removeAttributeNS(t.space,t.local)}}function Zh(t,e){function n(){var n=this,r=e.apply(n,arguments);return r&&function(e){n.setAttributeNS(t.space,t.local,r(e))}}return n._value=e,n}function tp(t,e){function n(){var n=this,r=e.apply(n,arguments);return r&&function(e){n.setAttribute(t,r(e))}}return n._value=e,n}function ep(t,e){return function(){jh(this,t).delay=+e.apply(this,arguments)}}function np(t,e){return e=+e,function(){jh(this,t).delay=e}}function rp(t,e){return function(){xh(this,t).duration=+e.apply(this,arguments)}}function op(t,e){return e=+e,function(){xh(this,t).duration=e}}function ip(t,e){if("function"!=typeof e)throw new Error;return function(){xh(this,t).ease=e}}function ap(t,e,n){var r,o,i=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?jh:xh;return function(){var a=i(this,t),u=a.on;u!==r&&(o=(r=u).copy()).on(e,n),a.on=o}}var up=ce.prototype.constructor;function cp(t,e,n){function r(){var r=this,o=e.apply(r,arguments);return o&&function(e){r.style.setProperty(t,o(e),n)}}return r._value=e,r}var lp=0;function sp(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function fp(){return++lp}var hp=ce.prototype;sp.prototype={constructor:sp,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=gt(t));for(var r=this._groups,o=r.length,i=new Array(o),a=0;a<o;++a)for(var u,c,l=r[a],s=l.length,f=i[a]=new Array(s),h=0;h<s;++h)(u=l[h])&&(c=t.call(u,u.__data__,h,l))&&("__data__"in u&&(c.__data__=u.__data__),f[h]=c,wh(f[h],e,n,h,f,Ah(u,n)));return new sp(i,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=bt(t));for(var r=this._groups,o=r.length,i=[],a=[],u=0;u<o;++u)for(var c,l=r[u],s=l.length,f=0;f<s;++f)if(c=l[f]){for(var h,p=t.call(c,c.__data__,f,l),d=Ah(c,n),v=0,y=p.length;v<y;++v)(h=p[v])&&wh(h,e,n,v,p,d);i.push(p),a.push(c)}return new sp(i,a,e,n)},filter:function(t){"function"!=typeof t&&(t=at(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i,a=e[o],u=a.length,c=r[o]=[],l=0;l<u;++l)(i=a[l])&&t.call(i,i.__data__,l,a)&&c.push(i);return new sp(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,o=n.length,i=Math.min(r,o),a=new Array(r),u=0;u<i;++u)for(var c,l=e[u],s=n[u],f=l.length,h=a[u]=new Array(f),p=0;p<f;++p)(c=l[p]||s[p])&&(h[p]=c);for(;u<r;++u)a[u]=e[u];return new sp(a,this._parents,this._name,this._id)},selection:function(){return new up(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=fp(),r=this._groups,o=r.length,i=0;i<o;++i)for(var a,u=r[i],c=u.length,l=0;l<c;++l)if(a=u[l]){var s=Ah(a,e);wh(a,t,n,l,u,{time:s.time+s.delay+s.duration,delay:0,duration:s.duration,ease:s.ease})}return new sp(r,this._parents,t,n)},call:hp.call,nodes:hp.nodes,node:hp.node,size:hp.size,empty:hp.empty,each:hp.each,on:function(t,e){var n=this._id;return arguments.length<2?Ah(this.node(),n).on.on(t):this.each(ap(n,t,e))},attr:function(t,e){var n=Y(t),r="transform"===n?qh:Gh;return this.attrTween(t,"function"==typeof e?(n.local?Jh:Qh)(n,r,Vh(this,"attr."+t,e)):null==e?(n.local?Kh:Xh)(n):(n.local?Yh:Wh)(n,r,e+""))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=Y(t);return this.tween(n,(r.local?Zh:tp)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?zh:Gh;return null==e?this.styleTween(t,function(t,e){var n,r,o;return function(){var i=Pt(this,t),a=(this.style.removeProperty(t),Pt(this,t));return i===a?null:i===n&&a===r?o:o=e(n=i,r=a)}}(t,r)).on("end.style."+t,function(t){return function(){this.style.removeProperty(t)}}(t)):this.styleTween(t,"function"==typeof e?function(t,e,n){var r,o,i;return function(){var a=Pt(this,t),u=n(this);return null==u&&(this.style.removeProperty(t),u=Pt(this,t)),a===u?null:a===r&&u===o?i:i=e(r=a,o=u)}}(t,r,Vh(this,"style."+t,e)):function(t,e,n){var r,o;return function(){var i=Pt(this,t);return i===n?null:i===r?o:o=e(r=i,n)}}(t,r,e+""),n)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,cp(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(Vh(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,o=Ah(this.node(),n).tween,i=0,a=o.length;i<a;++i)if((r=o[i]).name===t)return r.value;return null}return this.each((null==e?Uh:Hh)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?ep:np)(e,t)):Ah(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?rp:op)(e,t)):Ah(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(ip(e,t)):Ah(this.node(),e).ease}};var pp={time:null,delay:0,duration:250,ease:Mf};function dp(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return pp.time=mf(),pp;return n}ce.prototype.interrupt=function(t){return this.each((function(){!function(t,e){var n,r,o,i=t.__transition,a=!0;if(i){for(o in e=null==e?null:e+"",i)(n=i[o]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),r&&n.on.call("interrupt",t,t.__data__,n.index,n.group),delete i[o]):a=!1;a&&delete t.__transition}}(this,t)}))},ce.prototype.transition=function(t){var e,n;t instanceof sp?(e=t._id,t=t._name):(e=fp(),(n=pp).time=mf(),t=null==t?null:t+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var a,u=r[i],c=u.length,l=0;l<c;++l)(a=u[l])&&wh(a,t,e,l,u,n||dp(a,e));return new sp(r,this._parents,t,e)};var vp=le;var yp=X.exports,gp=Me,mp=ar,bp=cr,_p=fr,wp=ou,jp=Rc,xp=Yc,Ap=rs,Op=os,Sp=us,kp=cs,Dp=Dn,Mp=ss,Cp=vs,Ep=Js,Np=tf,Rp=nf,Ip=rf,Pp=lf,$p=Jf,Bp=hh,Tp=function({outerContainerSelector:t,showControls:e,onShowControls:n,onHideControls:r}){var o=vp.select(t),i=o.select(".arrangement-controls"),a=o.select(".show-arrangement-controls-button"),u=i.select(".hide-arrangement-controls-button");a.on("click.show",n),u.on("click.hide",r),e?(i.classed("hidden",!1),a.classed("hidden",!0)):(a.classed("hidden",!1),i.transition().duration(1e3).style("opacity",0).style("height",0).on("end",(function(){i.classed("hidden",!0),i.node().removeAttribute("style")})))};var Lp,Fp,zp=G,qp=function({user:t,verbose:e,routeState:n,filterCriteriaNames:r,sortCriterionName:o,groupByCriterionName:i,filterMode:a,showControls:u,commitSourceURL:c}){var l,s={filterCriteriaNames:r,sortCriterionName:o,groupByCriterionName:i,filterMode:a,showControls:u},f={},h=[],p=!1,d=0,v=0,y=_p({user:t,detailsLayerSelector:"#garden-details-layer"}),g=_p({user:t,detailsLayerSelector:"#years-details-layer"}),m={plain:gp({user:t}),garden:mp({onDeedClick:y}),year:wp({onDeedClick:g}),polyptych:jp()},b=$p({fn:function({expensiveRenderIsOK:t=!1}){if(l){Tp({outerContainerSelector:".arrangement-controls-container",showControls:"yes"===s.showControls,onShowControls:S,onHideControls:k}),Bp({containerSelector:".arrangement-controls",selectedCriteriaNames:s.filterCriteriaNames,filterMode:s.filterMode,onCriteriaControlChange:O,onCriteriaFilterModeChange:A});var e=Ip({projectData:h,filterCriteria:Pp(Np.parse(s.filterCriteriaNames)),filterMode:s.filterMode});l(Object.assign({},s,{projectData:e,expensiveRenderIsOK:t})),v+=1}}});return{start:function(){Sp({request:yp,onRepo:w,onCommit:_,commitSourceURL:c},j)},changeRenderer:function({view:e,changeView:n}){var r=e||"garden";bp({currentUsername:t,activeView:r,changeView:n}),l=m[r],Mp(r),v=0,p&&b({expensiveRenderIsOK:!0})},updateOpts:function(t){for(var e in s)e in t&&(s[e]=t[e])}};function _(t,n){var r=Ap(t,"id","repoName");r.id=t.abbreviatedOid,r.projectName=t.repoName,p&&console.log("Received deed after stream end!"),e&&console.log("Received deed:",r,"from",n),r.projectName in f?Op(kp,f,r):f[r.projectName]={name:r.projectName,deeds:[r]},d+=1,Cp(f[r.projectName],Date.now(),d%50==0),Rp({deedCount:d,projectCount:Object.keys(f).length,active:!0}),b({expensiveRenderIsOK:x()})}function w(t,n){p&&console.log("Received project after stream end!"),e&&console.log("Received project:",t,"from",n);var r=f[t.name];r&&(t.deeds?t.deeds=function(t,e){var n={};t.forEach(o),e.forEach(o);var r=xp(n);r.length<t.length&&r.length<e.length&&console.log("listA.length:",t.length,"listB.length:",e.length,"merged:",r.length);return r;function o(t){n[t.id]=t}}(t.deeds,r.deeds):t.deeds=r.deeds),Cp(t),f[t.name]=t,h=xp(f),b({expensiveRenderIsOK:x()})}function j(t){p=!0;var e=0;t?kp(t):(console.log("Finished streaming."),console.log("project count",h),e=Dp(h),console.log("deed count",e),d!==e&&console.log("manual count and end count of deeds mismatch:",d,e),h.forEach(Cp),b({expensiveRenderIsOK:!0})),Rp({deedCount:d,projectCount:h.length,active:!1})}function x(){return v>5&&v%5==0}function A({filterMode:t}){n.addToRoute({filterMode:t,showControls:!1})}function O({criterion:t,criterionType:e,selected:r}){var o={showControls:!1};if("group-by"===e)o.groupByCriterionName=t;else if("sort"===e)o.sortCriterionName=t.name;else if("filter"===e){let e=Np.parse(s.filterCriteriaNames);r?e.push(t.name):e.splice(e.indexOf(t.name),1),o.filterCriteriaNames=Np.stringify(Ep(e))}n.addToRoute(o)}function S(){n.addToRoute({showControls:"yes"})}function k(){n.addToRoute({showControls:"no"})}},Up=cs,Hp={user:"jimkang",userEmail:"jimkang@gmail.com",verbose:!1,commitSourceURL:"https://smidgeo.com/observatory-cache/jimkang-cache.json"},Vp={view:"garden",filterMode:"some"};function Gp(t){if(function({dictToCover:t,dictToCheck:e}){for(var n in t)if(!(n in e))return!1;return!0}({dictToCover:Vp,dictToCheck:t})){var e=Object.assign({routeState:Lp},Hp,t);Fp||(Fp=qp(e)).start(),Fp.updateOpts(e),Fp.changeRenderer({view:e.view,changeView:Xp})}else Lp.addToRoute(Object.assign(Vp,t))}function Xp(t){var e={view:t};Lp.addToRoute(e)}function Kp(t,e,n,r,o){Up(o)}return window.onerror=Kp,(Lp=zp({followRoute:Gp,windowObject:window})).routeFromHash(),{}}();
//# sourceMappingURL=index.js.map
